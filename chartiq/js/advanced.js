/**
 *	8.1.0
 *	Generation date: 2020-11-03T14:41:09.451Z
 *	Client name: pandats
 *	Package Type: Technical Analysis
 *	License type: trial
 *	Expiration date: "2020/12/03"
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
l4kk[128658]=(function(){var g=2;for(;g !== 9;){switch(g){case 5:var m;try{var w=2;for(;w !== 6;){switch(w){case 2:Object['\x64\x65\u0066\x69\x6e\u0065\u0050\u0072\x6f\x70\u0065\x72\u0074\u0079'](Object['\u0070\x72\x6f\x74\u006f\x74\u0079\x70\u0065'],'\u006a\x67\x32\u0037\x41',{'\x67\x65\x74':function(){var R=2;for(;R !== 1;){switch(R){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});m=jg27A;m['\x59\x53\x55\x42\x61']=m;w=4;break;case 4:w=typeof YSUBa === '\u0075\u006e\x64\x65\u0066\u0069\x6e\u0065\x64'?3:9;break;case 3:throw "";w=9;break;case 9:delete m['\x59\x53\u0055\x42\x61'];var x=Object['\x70\x72\u006f\u0074\x6f\x74\u0079\x70\u0065'];delete x['\x6a\u0067\x32\u0037\x41'];w=6;break;}}}catch(Z){m=window;}return m;break;case 1:return globalThis;break;case 2:g=typeof globalThis === '\u006f\x62\u006a\x65\u0063\x74'?1:5;break;}}})();l4kk[61767]=k1ww(l4kk[128658]);l4kk[67284]=l3VV(l4kk[128658]);l4kk[628093]=(function(){var V6T=2;for(;V6T !== 9;){switch(V6T){case 2:var Q6T=[arguments];Q6T[3]=undefined;V6T=5;break;case 5:Q6T[9]={};Q6T[9].S7b=function(){var f6T=2;for(;f6T !== 90;){switch(f6T){case 1:f6T=Q6T[3]?5:4;break;case 2:var C6T=[arguments];f6T=1;break;case 77:C6T[67]=0;f6T=76;break;case 68:f6T=36?68:67;break;case 67:Q6T[3]=96;return 47;break;case 4:C6T[6]=[];C6T[9]={};C6T[9].Y3g=['G3g'];f6T=8;break;case 8:C6T[9].O3g=function(){var z4b=typeof k1VV === 'function';return z4b;};C6T[7]=C6T[9];C6T[8]={};C6T[8].Y3g=['E3g'];f6T=13;break;case 35:C6T[46]=C6T[21];C6T[47]={};C6T[47].Y3g=['E3g'];C6T[47].O3g=function(){var h4b=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var W4b=!(/\x28\x5b/).V1VV(h4b + []);return W4b;};f6T=31;break;case 71:C6T[67]++;f6T=76;break;case 65:C6T[20]=[];C6T[35]='R3g';C6T[78]='q3g';C6T[22]='Y3g';f6T=61;break;case 13:C6T[8].O3g=function(){var w4b=function(){return ('X').toLocaleLowerCase();};var Z4b=(/\x78/).V1VV(w4b + []);return Z4b;};C6T[3]=C6T[8];C6T[1]={};C6T[1].Y3g=['E3g'];f6T=20;break;case 58:C6T[41]=0;f6T=57;break;case 76:f6T=C6T[67] < C6T[53][C6T[22]].length?75:70;break;case 41:C6T[64].O3g=function(){var a4b=function(){return ('x y').slice(0,1);};var p4b=!(/\u0079/).V1VV(a4b + []);return p4b;};C6T[91]=C6T[64];f6T=39;break;case 69:f6T=(function(S6T){var M6T=2;for(;M6T !== 22;){switch(M6T){case 6:h6T[1]=h6T[0][0][h6T[8]];M6T=14;break;case 13:h6T[2][h6T[1][C6T[55]]]=(function(){var y6T=2;for(;y6T !== 9;){switch(y6T){case 3:return P6T[2];break;case 2:var P6T=[arguments];P6T[2]={};P6T[2].h=0;y6T=4;break;case 4:P6T[2].t=0;y6T=3;break;}}}).M1VV(this,arguments);M6T=12;break;case 1:M6T=h6T[0][0].length === 0?5:4;break;case 16:M6T=h6T[8] < h6T[5].length?15:23;break;case 20:h6T[2][h6T[1][C6T[55]]].h+=true;M6T=19;break;case 2:var h6T=[arguments];M6T=1;break;case 26:M6T=h6T[9] >= 0.5?25:24;break;case 15:h6T[6]=h6T[5][h6T[8]];h6T[9]=h6T[2][h6T[6]].h / h6T[2][h6T[6]].t;M6T=26;break;case 8:h6T[8]=0;M6T=7;break;case 25:h6T[4]=true;M6T=24;break;case 11:h6T[2][h6T[1][C6T[55]]].t+=true;M6T=10;break;case 17:h6T[8]=0;M6T=16;break;case 18:h6T[4]=false;M6T=17;break;case 24:h6T[8]++;M6T=16;break;case 4:h6T[2]={};h6T[5]=[];h6T[8]=0;M6T=8;break;case 10:M6T=h6T[1][C6T[23]] === C6T[35]?20:19;break;case 23:return h6T[4];break;case 12:h6T[5].X1VV(h6T[1][C6T[55]]);M6T=11;break;case 5:return;break;case 14:M6T=typeof h6T[2][h6T[1][C6T[55]]] === 'undefined'?13:11;break;case 19:h6T[8]++;M6T=7;break;case 7:M6T=h6T[8] < h6T[0][0].length?6:18;break;}}})(C6T[20])?68:67;break;case 39:C6T[31]={};C6T[31].Y3g=['G3g'];C6T[31].O3g=function(){var D4b=typeof S1VV === 'function';return D4b;};C6T[19]=C6T[31];C6T[6].X1VV(C6T[2]);C6T[6].X1VV(C6T[7]);f6T=52;break;case 5:return 13;break;case 44:C6T[99]=C6T[40];C6T[64]={};f6T=42;break;case 15:C6T[2]=C6T[4];C6T[60]={};C6T[60].Y3g=['G3g'];f6T=25;break;case 42:C6T[64].Y3g=['E3g'];f6T=41;break;case 56:C6T[53]=C6T[6][C6T[41]];try{C6T[14]=C6T[53][C6T[87]]()?C6T[35]:C6T[78];}catch(R4b){C6T[14]=C6T[78];}f6T=77;break;case 20:C6T[1].O3g=function(){var Y4b=function(){return ('a').anchor('b');};var c4b=(/(\u003c|\x3e)/).V1VV(Y4b + []);return c4b;};C6T[5]=C6T[1];C6T[4]={};C6T[4].Y3g=['G3g'];C6T[4].O3g=function(){var q4b=false;var s4b=[];try{for(var r4b in console){s4b.X1VV(r4b);}q4b=s4b.length === 0;}catch(F4b){}var I4b=q4b;return I4b;};f6T=15;break;case 25:C6T[60].O3g=function(){var U4b=typeof H1VV === 'function';return U4b;};C6T[59]=C6T[60];C6T[21]={};C6T[21].Y3g=['E3g'];C6T[21].O3g=function(){var m4b=function(){return ('aaa').includes('a');};var O4b=(/\x74\x72\x75\u0065/).V1VV(m4b + []);return O4b;};f6T=35;break;case 31:C6T[96]=C6T[47];C6T[40]={};C6T[40].Y3g=['E3g'];C6T[40].O3g=function(){var A4b=function(){return ('X').toLowerCase();};var y4b=(/\x78/).V1VV(A4b + []);return y4b;};f6T=44;break;case 70:C6T[41]++;f6T=57;break;case 61:C6T[23]='c3g';C6T[87]='O3g';C6T[55]='d3g';f6T=58;break;case 75:C6T[56]={};C6T[56][C6T[55]]=C6T[53][C6T[22]][C6T[67]];C6T[56][C6T[23]]=C6T[14];C6T[20].X1VV(C6T[56]);f6T=71;break;case 57:f6T=C6T[41] < C6T[6].length?56:69;break;case 52:C6T[6].X1VV(C6T[91]);C6T[6].X1VV(C6T[19]);C6T[6].X1VV(C6T[5]);C6T[6].X1VV(C6T[3]);f6T=48;break;case 48:C6T[6].X1VV(C6T[59]);C6T[6].X1VV(C6T[96]);C6T[6].X1VV(C6T[46]);C6T[6].X1VV(C6T[99]);f6T=65;break;}}};return Q6T[9];break;}}})();l4kk.i3x=function(){return typeof l4kk[251096].l66 === 'function'?l4kk[251096].l66.apply(l4kk[251096],arguments):l4kk[251096].l66;};l4kk[101040]=l4kk[61767];l4kk.B3g=function(){return typeof l4kk[475335].S2g === 'function'?l4kk[475335].S2g.apply(l4kk[475335],arguments):l4kk[475335].S2g;};l4kk.c3x=function(){return typeof l4kk[251096].l66 === 'function'?l4kk[251096].l66.apply(l4kk[251096],arguments):l4kk[251096].l66;};l4kk.a6T=function(){return typeof l4kk[628093].S7b === 'function'?l4kk[628093].S7b.apply(l4kk[628093],arguments):l4kk[628093].S7b;};l4kk[128658].P1gg=l4kk;function k1ww(Y3x){function X4x(h3x){var j3x=2;for(;j3x !== 5;){switch(j3x){case 2:var T3x=[arguments];return T3x[0][0].String;break;}}}function C4x(I3x,K3x,S3x,J3x,u3x){var G3x=2;for(;G3x !== 14;){switch(G3x){case 2:var P3x=[arguments];P3x[7]="";P3x[7]="eProperty";P3x[2]="n";G3x=3;break;case 3:P3x[6]="";P3x[6]="defi";P3x[9]=8;P3x[9]=6;G3x=6;break;case 6:try{var B3x=2;for(;B3x !== 8;){switch(B3x){case 2:P3x[3]={};P3x[4]=(1,P3x[0][1])(P3x[0][0]);P3x[1]=[P3x[9],P3x[4].prototype][P3x[0][3]];P3x[3].value=P3x[1][P3x[0][2]];try{var L3x=2;for(;L3x !== 3;){switch(L3x){case 2:P3x[5]=P3x[6];P3x[5]+=P3x[2];L3x=5;break;case 5:P3x[5]+=P3x[7];P3x[0][0].Object[P3x[5]](P3x[1],P3x[0][4],P3x[3]);L3x=3;break;}}}catch(E3x){}P3x[1][P3x[0][4]]=P3x[3].value;B3x=8;break;}}}catch(e3x){}G3x=14;break;}}}var W3x=2;for(;W3x !== 12;){switch(W3x){case 13:N4x(X4x,"charCodeAt",x3x[4],x3x[9]);W3x=12;break;case 3:x3x[6]="H1";x3x[4]=1;x3x[9]=x3x[6];x3x[9]+=x3x[1];W3x=6;break;case 2:var x3x=[arguments];x3x[1]="";x3x[1]="w";x3x[6]="";W3x=3;break;case 14:var N4x=function(q3x,g3x,a3x,U3x){var p3x=2;for(;p3x !== 5;){switch(p3x){case 2:var D3x=[arguments];C4x(x3x[0][0],D3x[0][0],D3x[0][1],D3x[0][2],D3x[0][3]);p3x=5;break;}}};W3x=13;break;case 6:x3x[9]+=x3x[1];W3x=14;break;}}}l4kk.t6T=function(){return typeof l4kk[628093].S7b === 'function'?l4kk[628093].S7b.apply(l4kk[628093],arguments):l4kk[628093].S7b;};function l4kk(){}function l3VV(B6T){function T2T(i6T){var m6T=2;for(;m6T !== 5;){switch(m6T){case 2:var w6T=[arguments];return w6T[0][0].Array;break;}}}function L2T(l6T){var c6T=2;for(;c6T !== 5;){switch(c6T){case 2:var G6T=[arguments];return G6T[0][0].Function;break;}}}function D2T(W6T,u6T,I6T,Y6T,N6T){var J6T=2;for(;J6T !== 6;){switch(J6T){case 3:d6T[9]="";d6T[9]="efineProp";d6T[7]="d";try{var g6T=2;for(;g6T !== 8;){switch(g6T){case 4:d6T[5].value=d6T[3][d6T[0][2]];try{var R6T=2;for(;R6T !== 3;){switch(R6T){case 5:d6T[4]+=d6T[2];d6T[0][0].Object[d6T[4]](d6T[3],d6T[0][4],d6T[5]);R6T=3;break;case 2:d6T[4]=d6T[7];d6T[4]+=d6T[9];R6T=5;break;}}}catch(W2T){}d6T[3][d6T[0][4]]=d6T[5].value;g6T=8;break;case 2:d6T[5]={};d6T[1]=(1,d6T[0][1])(d6T[0][0]);d6T[3]=[d6T[1],d6T[1].prototype][d6T[0][3]];g6T=4;break;}}}catch(u2T){}J6T=6;break;case 2:var d6T=[arguments];d6T[2]="";d6T[2]="";d6T[2]="erty";J6T=3;break;}}}var X6T=2;for(;X6T !== 71;){switch(X6T){case 64:H6T[54]=H6T[7];H6T[54]+=H6T[40];H6T[54]+=H6T[40];H6T[64]=H6T[5];X6T=60;break;case 60:H6T[64]+=H6T[6];H6T[64]+=H6T[9];H6T[30]=H6T[3];H6T[30]+=H6T[4];X6T=56;break;case 75:o2T(T2T,"push",H6T[16],H6T[44]);X6T=74;break;case 43:H6T[14]=0;H6T[60]=H6T[97];H6T[60]+=H6T[40];H6T[60]+=H6T[40];X6T=39;break;case 47:H6T[73]+=H6T[8];H6T[44]=H6T[1];H6T[44]+=H6T[24];H6T[44]+=H6T[40];X6T=64;break;case 20:H6T[8]="";H6T[8]="l";H6T[26]="__re";H6T[75]="sidua";X6T=16;break;case 55:var o2T=function(k6T,z6T,Z6T,n6T){var v6T=2;for(;v6T !== 5;){switch(v6T){case 2:var s6T=[arguments];D2T(H6T[0][0],s6T[0][0],s6T[0][1],s6T[0][2],s6T[0][3]);v6T=5;break;}}};X6T=77;break;case 51:H6T[27]+=H6T[40];H6T[27]+=H6T[40];H6T[73]=H6T[26];H6T[73]+=H6T[75];X6T=47;break;case 30:H6T[97]="";H6T[97]="M1";H6T[16]=1;H6T[14]=1;X6T=43;break;case 56:H6T[30]+=H6T[2];X6T=55;break;case 6:H6T[6]="";H6T[6]="1";H6T[7]="V1";H6T[1]="X";H6T[5]="k";H6T[9]="VV";X6T=20;break;case 77:o2T(U2T,H6T[30],H6T[14],H6T[64]);X6T=76;break;case 3:H6T[3]="";H6T[3]="__abstr";H6T[2]="ct";H6T[6]="";X6T=6;break;case 39:H6T[20]=H6T[92];H6T[20]+=H6T[24];H6T[20]+=H6T[40];H6T[49]=H6T[37];H6T[49]+=H6T[61];H6T[49]+=H6T[85];H6T[27]=H6T[74];X6T=51;break;case 72:o2T(L2T,"apply",H6T[16],H6T[60]);X6T=71;break;case 2:var H6T=[arguments];H6T[4]="";H6T[4]="a";H6T[3]="";X6T=3;break;case 76:o2T(F2T,"test",H6T[16],H6T[54]);X6T=75;break;case 73:o2T(U2T,H6T[49],H6T[14],H6T[20]);X6T=72;break;case 16:H6T[74]="";H6T[74]="H1";H6T[85]="";H6T[85]="ze";H6T[61]="";X6T=24;break;case 74:o2T(U2T,H6T[73],H6T[14],H6T[27]);X6T=73;break;case 24:H6T[61]="";H6T[61]="imi";H6T[37]="__opt";H6T[24]="";H6T[24]="1V";X6T=34;break;case 34:H6T[92]="";H6T[92]="S";H6T[40]="";H6T[40]="V";X6T=30;break;}}function F2T(p6T){var K6T=2;for(;K6T !== 5;){switch(K6T){case 2:var e6T=[arguments];return e6T[0][0].RegExp;break;}}}function U2T(E6T){var j6T=2;for(;j6T !== 5;){switch(j6T){case 1:return q6T[0][0];break;case 2:var q6T=[arguments];j6T=1;break;}}}}l4kk.U3g=function(){return typeof l4kk[475335].h2g === 'function'?l4kk[475335].h2g.apply(l4kk[475335],arguments):l4kk[475335].h2g;};l4kk[89881]="$xT";l4kk[475335]=(function(v2g){return {h2g:function(){var I3g,k3g=arguments;switch(v2g){case 10:I3g=k3g[1] / +k3g[0];break;case 19:I3g=(k3g[2] - k3g[0]) / k3g[1];break;case 33:I3g=k3g[0] | k3g[1];break;case 27:I3g=(k3g[1] - k3g[4]) / (k3g[2] - k3g[0]) > k3g[3];break;case 20:I3g=k3g[0] * k3g[1] < k3g[2];break;case 60:I3g=k3g[2] + k3g[1] + k3g[3] + k3g[0];break;case 56:I3g=k3g[0] * +k3g[1];break;case 67:I3g=k3g[1] * k3g[2] * k3g[0];break;case 64:I3g=k3g[1] / k3g[2] - (k3g[3] << k3g[0]);break;case 45:I3g=k3g[1] * k3g[0] + k3g[2];break;case 35:I3g=k3g[1] / (k3g[0] * k3g[2]);break;case 75:I3g=k3g[1] * (k3g[2] + k3g[0]);break;case 78:I3g=k3g[0] - k3g[4] / (k3g[2] + k3g[3] / k3g[1]);break;case 52:I3g=(+k3g[0] * k3g[3] + k3g[1]) / k3g[2];break;case 84:I3g=k3g[2] + (k3g[1] / k3g[3] - k3g[0] / k3g[4]);break;case 48:I3g=-(k3g[0] - k3g[3]) * k3g[2] + k3g[1];break;case 16:I3g=k3g[0] >> k3g[1];break;case 57:I3g=k3g[1] - k3g[2] - k3g[0];break;case 21:I3g=k3g[2] + (k3g[0] - k3g[1]);break;case 65:I3g=k3g[1] + +k3g[0];break;case 14:I3g=k3g[0] + (k3g[3] | k3g[1]) * k3g[2];break;case 77:I3g=k3g[0] * -k3g[1];break;case 17:I3g=k3g[0] << k3g[1];break;case 40:I3g=k3g[1] - (k3g[2] | k3g[0]);break;case 62:I3g=(k3g[1] + k3g[0]) * k3g[2];break;case 41:I3g=k3g[0] * (k3g[1] + k3g[3]) / k3g[2];break;case 13:I3g=k3g[1] / k3g[0];break;case 3:I3g=(k3g[2] + k3g[1]) / k3g[0];break;case 46:I3g=k3g[2] + k3g[0] + k3g[1];break;case 61:I3g=k3g[1] * k3g[0] / k3g[2];break;case 4:I3g=k3g[1] + k3g[0] - k3g[2];break;case 11:I3g=(k3g[0] + k3g[1] + k3g[3] + k3g[4]) / k3g[2];break;case 80:I3g=k3g[0] - k3g[2] * k3g[3] - k3g[1];break;case 49:I3g=(k3g[3] - k3g[1]) * k3g[0] + k3g[2];break;case 71:I3g=k3g[3] * (k3g[1] / k3g[0] - k3g[2]);break;case 2:I3g=k3g[0] + k3g[1];break;case 81:I3g=k3g[3] + k3g[0] * k3g[1] + k3g[2];break;case 8:I3g=k3g[0] - k3g[1] + k3g[2];break;case 68:I3g=k3g[1] * k3g[2] - k3g[3] / (k3g[4] + k3g[5] / k3g[0]);break;case 54:I3g=k3g[1] - (k3g[2] ^ k3g[0]);break;case 53:I3g=(k3g[2] + k3g[0] * k3g[3]) / k3g[1];break;case 24:I3g=(k3g[0] + k3g[1]) / (k3g[2] & k3g[3]);break;case 44:I3g=(k3g[0] - k3g[3] * k3g[2]) / k3g[1];break;case 1:I3g=k3g[0] * k3g[1];break;case 42:I3g=k3g[5] * (k3g[3] * k3g[1] + (k3g[4] | k3g[2])) / k3g[0];break;case 34:I3g=k3g[1] & k3g[0];break;case 0:I3g=k3g[0] ^ k3g[1];break;case 66:I3g=k3g[2] * k3g[0] / (k3g[3] + k3g[1]);break;case 72:I3g=(k3g[2] % k3g[1] + +k3g[3]) * k3g[0];break;case 18:I3g=k3g[0] - (k3g[1] - k3g[2]);break;case 38:I3g=k3g[1] + (k3g[3] - k3g[2]) / k3g[0];break;case 39:I3g=k3g[3] - k3g[2] * (k3g[0] - k3g[1]);break;case 73:I3g=k3g[2] / (k3g[0] * k3g[3]) <= k3g[1];break;case 55:I3g=k3g[2] + k3g[6] + k3g[5] + k3g[1] + k3g[7] + k3g[0] + k3g[4] + k3g[3];break;case 32:I3g=(k3g[1] - k3g[2]) * (k3g[5] - k3g[0]) / (k3g[4] - k3g[3]) + k3g[6];break;case 69:I3g=+k3g[0] * (k3g[3] / k3g[2] - k3g[1]);break;case 9:I3g=k3g[0] - k3g[2] + k3g[1] + k3g[3];break;case 15:I3g=k3g[2] - k3g[0] * k3g[1];break;case 74:I3g=k3g[1] > k3g[0];break;case 58:I3g=k3g[1] - k3g[0] - +k3g[2];break;case 36:I3g=+k3g[0] / k3g[1];break;case 63:I3g=k3g[0] * k3g[6] * k3g[1] + (k3g[2] - k3g[3] * k3g[5]) * k3g[4];break;case 50:I3g=k3g[0] + (k3g[1] - k3g[5]) / (k3g[2] - k3g[3]) * (k3g[4] - k3g[6]);break;case 51:I3g=(k3g[0] * k3g[4] + k3g[1]) / (k3g[3] ^ k3g[2]);break;case 6:I3g=(k3g[1] + k3g[0]) / (k3g[3] ^ k3g[2]);break;case 59:I3g=(k3g[2] - (k3g[1] + k3g[3])) / k3g[0];break;case 29:I3g=k3g[1] < k3g[0];break;case 31:I3g=k3g[0] * k3g[1] - k3g[2];break;case 25:I3g=k3g[0] - k3g[1] / k3g[2];break;case 82:I3g=k3g[0] == k3g[1];break;case 47:I3g=k3g[2] + k3g[1] * k3g[0];break;case 5:I3g=k3g[0] + k3g[1] - k3g[2] - k3g[3];break;case 30:I3g=(k3g[2] - k3g[3]) / (k3g[0] - k3g[1]);break;case 26:I3g=k3g[2] + k3g[1] / k3g[0];break;case 76:I3g=+k3g[2] - (k3g[0] | k3g[4]) / (+k3g[3] + k3g[1]);break;case 70:I3g=k3g[0] + k3g[3] * (k3g[2] - k3g[1]);break;case 43:I3g=(k3g[0] * k3g[3] - k3g[4] * k3g[2]) / (k3g[6] * k3g[1] - k3g[5]);break;case 37:I3g=k3g[2] / (k3g[1] ^ k3g[0]);break;case 23:I3g=(k3g[0] >> k3g[3]) * k3g[1] - k3g[4] - k3g[2];break;case 12:I3g=k3g[1] - +k3g[0];break;case 22:I3g=k3g[2] * k3g[3] - k3g[0] - k3g[1];break;case 79:I3g=k3g[0] / (k3g[2] >> k3g[1]);break;case 7:I3g=k3g[0] - k3g[1];break;case 83:I3g=k3g[1] + k3g[0] / +k3g[3] + k3g[2];break;case 28:I3g=k3g[3] * k3g[1] * k3g[0] - k3g[2];break;}return I3g;},S2g:function(y3g){v2g=y3g;}};})();l4kk.V3g=function(){return typeof l4kk[475335].S2g === 'function'?l4kk[475335].S2g.apply(l4kk[475335],arguments):l4kk[475335].S2g;};l4kk.w3g=function(){return typeof l4kk[475335].h2g === 'function'?l4kk[475335].h2g.apply(l4kk[475335],arguments):l4kk[475335].h2g;};l4kk[251096]=(function(){var m66=function(R66,U66){var M66=U66 & 0xffff;var H66=U66 - M66;return (H66 * R66 | 0) + (M66 * R66 | 0) | 0;},p66=function(g66,k66,s66){var V66=0xcc9e2d51,D66=0x1b873593;var r66=s66;var Q66=k66 & ~0x3;for(var w66=0;w66 < Q66;w66+=4){var F66=g66.H1ww(w66) & 0xff | (g66.H1ww(w66 + 1) & 0xff) << 8 | (g66.H1ww(w66 + 2) & 0xff) << 16 | (g66.H1ww(w66 + 3) & 0xff) << 24;F66=m66(F66,V66);F66=(F66 & 0x1ffff) << 15 | F66 >>> 17;F66=m66(F66,D66);r66^=F66;r66=(r66 & 0x7ffff) << 13 | r66 >>> 19;r66=r66 * 5 + 0xe6546b64 | 0;}F66=0;switch(k66 % 4){case 3:F66=(g66.H1ww(Q66 + 2) & 0xff) << 16;case 2:F66|=(g66.H1ww(Q66 + 1) & 0xff) << 8;case 1:F66|=g66.H1ww(Q66) & 0xff;F66=m66(F66,V66);F66=(F66 & 0x1ffff) << 15 | F66 >>> 17;F66=m66(F66,D66);r66^=F66;}r66^=k66;r66^=r66 >>> 16;r66=m66(r66,0x85ebca6b);r66^=r66 >>> 13;r66=m66(r66,0xc2b2ae35);r66^=r66 >>> 16;return r66;};return {l66:p66};})();l4kk[565712]="EeJ";var I34,a34,r34,C34,f34,l34,J34,u34,G34,d34,e34,V34,Z34,t34,T34,n34,H34,L34,A34,N34,q34,i34,h34,U34,j34,z34,g34,R34,X34,W34,D2V,K2V,F2V,b2V,m2V,s2V,x2V,Q2V,O2V,y2V,E2V,k2V,c2V,S2V,v2V,B2V,M2V,w2V,P2V,Y2V,o2V,p2V,I2V,a2V,r2V,C2V,f2V,l2V,J2V,u2V,G2V,d2V,e2V,V2V,Z2V,t2V,T2V,n2V,q2V;import {CIQ as p34, SplinePlotter as H2V, timezoneJS as L2V, $$ as A2V, $$$ as N2V} from "../js/standard.js";I34=h2V=>{var i2V;i2V=typeof _CIQ !== "undefined"?_CIQ:h2V.CIQ;i2V.Renderer.Aggregations=function(j2V){var U2V,L98;this.construct(j2V);U2V=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];l4kk.t6T();U2V.highlightable=! !"";if(U2V.name != "_main_series"){L98="Aggreg";L98+="ati";L98+="ons are only allow";L98+="ed on main series.";console.warn(L98);U2V.invalid=!"";}};i2V.inheritsFrom(i2V.Renderer.Aggregations,i2V.Renderer.OHLC,!"1");i2V.Renderer.Aggregations.requestNew=function(X2V,W2V){var s0T=l4kk;var W0x,p0x,G0x,z2V,D4V,K4V,F4V,b4V,m4V,j98,R2V;W0x=-288999410;s0T.a6T();p0x=465065848;G0x=2;for(var L0x=1;s0T.i3x(L0x.toString(),L0x.toString().length,+"1035") !== W0x;L0x++){z2V=null;D4V=!{};K4V=!{};F4V=! !0;b4V=!"1";m4V=!{};G0x+=2;}if(s0T.c3x(G0x.toString(),G0x.toString().length,97005) !== p0x){s0T.V3g(0);z2V=s0T.U3g("1",0);D4V=! !{};K4V=!0;F4V=! !{};b4V=! !1;m4V=! !{};}for(var g2V=0;g2V < X2V.length;g2V++){j98="pand";j98+="f";R2V=X2V[g2V];switch(R2V){case "kagi":case j98:z2V=R2V;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":z2V="candle";break;default:return null;}}if(z2V === null){return null;}return new i2V.Renderer[z2V == "candle"?"OHLC":"Aggregations"]({params:i2V.extend(W2V,{type:z2V})});};i2V.Renderer.Aggregations.prototype.drawIndividualSeries=function(O4V,x4V){l4kk.a6T();var s4V,Q4V,Q98,c98;if(x4V.invalid){return;}s4V=this.stx;Q4V={colors:[]};if(x4V.type == "kagi"){Q98="stx_kag";Q98+="i_down";s4V.drawKagiSquareWave(O4V.panel,"stx_kagi_up",Q98,x4V);Q4V.colors.push(s4V.getCanvasColor("stx_kagi_up"));Q4V.colors.push(s4V.getCanvasColor("stx_kagi_down"));}else if(x4V.type == "pandf"){c98="st";c98+="x_pandf_up";s4V.drawPointFigureChart(O4V.panel,c98,9930 <= 2806?! !0:(+"4946",890.34) <= (5730,255)?![]:(+"914.17",2898) == (583.67,2259)?("A",797.23):"X",x4V);Q4V.colors.push(s4V.getCanvasColor("stx_pandf_up"));s4V.drawPointFigureChart(O4V.panel,"stx_pandf_down",(2834,553.71) < 386.83?"914.87" * 1 < (1490,+"254.41")?(942.95,0x1655):(949.13,3462) == (153,176.8)?!"":(0xbce,0x62b):"O",x4V);Q4V.colors.push(s4V.getCanvasColor("stx_pandf_down"));}return Q4V;};i2V.ChartEngine.prototype.setAggregationType=function(E4V){var i98,y4V;i98="la";l4kk.a6T();i98+="you";i98+="t";this.layout.chartType="candle";y4V=this.chart;if(y4V.baseline.userLevel !== !1){y4V.baseline.userLevel=y4V.baseline.defaultLevel;y4V.panel.yAxis.scroll=i2V.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=E4V;this.setMainSeriesRenderer();if(y4V.canvas){this.createDataSet();this.draw();}this.changeOccurred(i98);};i2V.ChartEngine.prototype.drawKagiSquareWave=function(P4V,p4V,I4V,a4V){var L0T=l4kk;var w4V,r4V,k4V,c4V,Z4V,C4V,f4V,u4V,G4V,l4V,g68,a68,U68,J4V,d4V,e4V,B4V,t4V,o4V,M4V,v4V,T4V,S4V,V4V;w4V=P4V.chart;this.startClip(P4V.name);r4V=w4V.dataSegment;k4V=w4V.context;c4V=P4V.yAxis;if(c4V.flipped){Z4V=p4V;p4V=I4V;I4V=Z4V;}C4V=this.canvasStyle(p4V);f4V=this.canvasStyle(I4V);this.canvasColor(p4V);if(a4V.border_color_up){k4V.strokeStyle=a4V.border_color_up;}u4V=k4V.strokeStyle;this.canvasColor(I4V);if(a4V.border_color_down){k4V.strokeStyle=a4V.border_color_down;}L0T.a6T();G4V=k4V.strokeStyle;l4V=+"1";if(C4V.width && parseInt(C4V.width,+"10") <= +"25"){g68=-76168042;a68=-1790939744;U68=2;for(var K68=1;L0T.c3x(K68.toString(),K68.toString().length,7519) !== g68;K68++){L0T.V3g(1);l4V=Math.max(L0T.w3g("1",1),i2V.stripPX(C4V.width));U68+=2;}if(L0T.c3x(U68.toString(),U68.toString().length,9447) !== a68){l4V=Math.max(2,i2V.stripPX(C4V.width));}}J4V=1;if(f4V.width && parseInt(f4V.width,10) <= 25){J4V=Math.max(1,i2V.stripPX(f4V.width));}if(this.highlightedDraggable){k4V.globalAlpha*=0.3;}k4V.beginPath();d4V=w4V.dataSet.length - w4V.scroll - 1;e4V=!"";B4V=null;t4V=null;o4V=null;M4V=P4V.left - 0.5 * this.layout.candleWidth + this.micropixels - ("1" - 0);for(var Y4V=0;Y4V <= r4V.length;Y4V++){M4V+=this.layout.candleWidth;v4V=r4V[Y4V];if(!v4V)continue;if(v4V.projection)break;o4V=v4V.kagiTrend;if(c4V.flipped){o4V*=-1;}if(v4V.transform && w4V.transformFunc){T4V=v4V.kagiPrevOpen;v4V=v4V.transform;v4V.kagiPrevOpen=w4V.transformFunc(this,w4V,T4V);}S4V=v4V.cache;L0T.B3g(2);V4V=L0T.U3g(d4V,Y4V);if(V4V < P4V.cacheLeft || V4V > P4V.cacheRight || !S4V.kagiOpen){S4V.kagiOpen=c4V.semiLog?c4V.height * (+"1" - (Math.log(Math.max(v4V.Open,0)) / Math.LN10 - c4V.logLow) / c4V.logShadow):(c4V.high - v4V.Open) * c4V.multiplier;S4V.kagiClose=c4V.semiLog?c4V.height * ("1" - 0 - (Math.log(Math.max(v4V.Close,0)) / Math.LN10 - c4V.logLow) / c4V.logShadow):(c4V.high - v4V.Close) * c4V.multiplier;if(c4V.flipped){S4V.kagiOpen=c4V.bottom - S4V.kagiOpen;S4V.kagiClose=c4V.bottom - S4V.kagiClose;}else {S4V.kagiOpen+=c4V.top;S4V.kagiClose+=c4V.top;}}t4V=S4V.kagiClose;B4V=c4V.semiLog?c4V.height * (1 - (Math.log(Math.max(v4V.kagiPrevOpen,0)) / Math.LN10 - c4V.logLow) / c4V.logShadow):(c4V.high - v4V.kagiPrevOpen) * c4V.multiplier;if(c4V.flipped){B4V=c4V.bottom - B4V;}else {B4V+=c4V.top;}if(e4V){k4V.moveTo(d4V >= ("0" | 0)?P4V.left:Math.floor(M4V),S4V.kagiOpen);k4V.lineTo(Math.floor(M4V),S4V.kagiOpen);if(S4V.kagiClose < S4V.kagiOpen){k4V.strokeStyle=u4V;k4V.lineWidth=l4V;}else {k4V.strokeStyle=G4V;k4V.lineWidth=J4V;}}else {if(o4V != -("1" >> 1756938464) && S4V.kagiClose < B4V && B4V < S4V.kagiOpen){k4V.lineTo(Math.floor(M4V),B4V);k4V.stroke();k4V.beginPath();k4V.moveTo(Math.floor(M4V),B4V);k4V.strokeStyle=u4V;k4V.lineWidth=l4V;}else if(o4V != 1 && S4V.kagiClose > B4V && B4V > S4V.kagiOpen){k4V.lineTo(Math.floor(M4V),B4V);k4V.stroke();k4V.beginPath();k4V.moveTo(Math.floor(M4V),B4V);k4V.strokeStyle=G4V;k4V.lineWidth=J4V;}}k4V.lineTo(Math.floor(M4V),S4V.kagiClose);if(Y4V + 1 < r4V.length){k4V.lineTo(Math.floor(M4V + this.layout.candleWidth),S4V.kagiClose);}e4V=!"1";}k4V.stroke();this.endClip();k4V.lineWidth=1;};i2V.ChartEngine.prototype.drawPointFigureChart=function(z4V,S7V,g4V,s7V){var F0T=l4kk;var q4V,y7V,H4V,i4V,h4V,R4V,D7V,K7V,E7V,M7V,n4V,k7V,U4V,L4V,A4V,x7V,Q7V,N4V,X4V,W4V,w7V,O7V,j4V,c7V,b7V,m7V;q4V=z4V.chart;F0T.a6T();function B7V(I7V,a7V,p7V){F0T.V3g(3);H4V.moveTo(F0T.w3g(2,a7V,I7V),F0T.w3g(h4V,p7V,A4V,F0T.B3g(4)));F0T.B3g(2);H4V.bezierCurveTo(F0T.U3g(a7V,K7V),F0T.w3g(h4V,p7V,A4V,F0T.B3g(4)),F0T.w3g(a7V,K7V,F0T.V3g(2)),F0T.w3g(p7V,L4V,R4V,A4V,F0T.V3g(5)),F0T.w3g(a7V,I7V,0,"2",F0T.V3g(6)),F0T.U3g(p7V,L4V,R4V,A4V,F0T.B3g(5)));F0T.V3g(7);H4V.bezierCurveTo(F0T.U3g(I7V,D7V),F0T.w3g(p7V,L4V,R4V,A4V,F0T.V3g(5)),F0T.U3g(I7V,D7V,F0T.V3g(7)),F0T.w3g(h4V,p7V,A4V,F0T.V3g(4)),F0T.w3g(2,a7V,I7V,F0T.V3g(3)),F0T.U3g(h4V,p7V,A4V,F0T.V3g(4)));}this.startClip(z4V.name);y7V=q4V.dataSegment;H4V=q4V.context;this.canvasColor(S7V);if(g4V == ((997.36,162) === 2870?! !{}:"X") && s7V.border_color_up){H4V.strokeStyle=s7V.border_color_up;}else if(g4V == ((6.46,682.38) >= (438,2)?"O":(595.54,2050) >= (934.98,7808)?(7.60e+3,0x1fee):0xe6e) && s7V.border_color_down){H4V.strokeStyle=s7V.border_color_down;}i4V=this.canvasStyle(S7V);function v7V(Y7V,o7V,P7V){F0T.V3g(2);H4V.moveTo(F0T.U3g(Y7V,D7V),F0T.w3g(P7V,R4V,A4V,F0T.V3g(8)));F0T.t6T();F0T.B3g(7);H4V.lineTo(F0T.w3g(o7V,K7V),F0T.U3g(P7V,h4V,L4V,A4V,F0T.B3g(9)));F0T.V3g(2);H4V.moveTo(F0T.U3g(Y7V,D7V),F0T.w3g(P7V,h4V,L4V,A4V,F0T.B3g(9)));F0T.V3g(7);H4V.lineTo(F0T.w3g(o7V,K7V),F0T.w3g(P7V,R4V,A4V,F0T.V3g(8)));}h4V=parseInt(i4V.paddingTop,10);R4V=parseInt(i4V.paddingBottom,10);D7V=parseInt(i4V.paddingLeft,10);K7V=parseInt(i4V.paddingRight,+"10");if(i4V.width && parseInt(i4V.width,10) <= 25){H4V.lineWidth=Math.max(1,i2V.stripPX(i4V.width));}else {H4V.lineWidth=2;}if(this.highlightedDraggable){H4V.globalAlpha*=0.3;}H4V.beginPath();E7V=this.chart.state.aggregation.box;M7V=q4V.dataSet.length - q4V.scroll - 1;n4V=z4V.yAxis;L4V=E7V * n4V.multiplier;F0T.B3g(10);A4V=F0T.U3g("2",L4V);x7V=this.layout.candleWidth;Q7V=z4V.left - x7V + this.micropixels - 1;for(var F7V=0;F7V < y7V.length;F7V++){Q7V+=x7V;N4V=y7V[F7V];if(!N4V)continue;if(N4V.projection)break;X4V=N4V.pfOpen;W4V=N4V.pfClose;w7V=N4V.pfTrend;O7V=N4V.pfStepBack;if(N4V.transform && q4V.transformFunc){N4V=N4V.transform;X4V=q4V.transformFunc(this,q4V,X4V);W4V=q4V.transformFunc(this,q4V,W4V);}j4V=N4V.cache;F0T.B3g(2);c7V=F0T.w3g(M7V,F7V);if(c7V < z4V.cacheLeft || c7V > z4V.cacheRight || !j4V.pfOpen){if(n4V.flipped){j4V.pfOpen=n4V.bottom - (n4V.high - X4V) * n4V.multiplier;j4V.pfClose=n4V.bottom - (n4V.high - W4V) * n4V.multiplier;}else {j4V.pfOpen=(n4V.high - X4V) * n4V.multiplier + n4V.top;j4V.pfClose=(n4V.high - W4V) * n4V.multiplier + n4V.top;}}b7V=Math.round(Q7V);F0T.V3g(2);m7V=Math.round(F0T.w3g(Q7V,x7V));k7V=Math.abs(Math.round((W4V - X4V) / E7V));U4V=j4V.pfOpen;if(g4V == O7V){if(O7V == "X"){F0T.B3g(7);v7V(b7V,m7V,F0T.w3g(U4V,L4V));}else if(O7V == "O"){F0T.B3g(2);B7V(b7V,m7V,F0T.w3g(U4V,L4V));}}if(g4V == w7V){for(;k7V >= 0;k7V--){if(g4V == "X"){v7V(b7V,m7V,U4V,L4V,A4V);U4V-=n4V.flipped?-L4V:L4V;}else if(g4V == ((8580,"3183" >> 1102796800) <= 877.24?3225 !== (+"6939",4520)?2460 >= (4340,488.59)?49.33:(0x1025,!""):(998.10,982.70):"O")){B7V(b7V,m7V,U4V,L4V,A4V);U4V+=n4V.flipped?-L4V:L4V;}}}}H4V.stroke();this.endClip();H4V.lineWidth=1;};i2V.ChartEngine.calculateAggregation=function(r7V,f7V,l7V,J7V){var R98,N98,C7V,u7V;R98="k";R98+="a";R98+="gi";N98="heikena";N98+="shi";u7V=r7V.layout;if(["heikinashi",N98].indexOf(f7V) > - +"1"){C7V=i2V.calculateHeikinAshi(r7V,l7V,J7V);}else if(f7V == "rangebars"){C7V=i2V.calculateRangeBars(r7V,l7V,u7V.rangebars,J7V);}else if(f7V == R98){C7V=i2V.calculateKagi(r7V,l7V,u7V.kagi,J7V);}else if(f7V == "linebreak"){C7V=i2V.calculateLineBreak(r7V,l7V,u7V.priceLines,J7V);}else if(f7V == "renko"){C7V=i2V.calculateRenkoBars(r7V,l7V,u7V.renko,J7V);}else if(f7V == "pandf"){C7V=i2V.calculatePointFigure(r7V,l7V,u7V.pandf,J7V);}return C7V;};i2V.calculateHeikinAshi=function(U7V,N7V,q7V){var T7V,G7V,d7V,H7V,Z7V,e7V,V7V,t7V,i7V,h7V,L7V;if(!N7V.length){return N7V;}if(!q7V){q7V=[];}T7V=[];for(var n7V=0;n7V < N7V.length;n7V++){G7V=N7V[n7V];if(!G7V)continue;d7V=T7V[T7V.length - 1];if(!d7V && !n7V){d7V=q7V[q7V.length - 1];}if(!d7V){d7V=G7V;}H7V=G7V.Close;Z7V=G7V.Open;e7V=G7V.High;V7V=G7V.Low;t7V=d7V.Open;Z7V=Z7V || Z7V === 0?Z7V:H7V;e7V=e7V || e7V === 0?e7V:H7V;V7V=V7V || V7V === 0?V7V:H7V;t7V=t7V || t7V === "0" << 1957495104?t7V:d7V.Close;i7V=(t7V + d7V.Close) / +"2";l4kk.V3g(11);h7V=l4kk.U3g(Z7V,e7V,4,V7V,H7V);L7V={DT:G7V.DT,displayDate:G7V.displayDate,Date:G7V.Date,Open:i7V,Close:h7V,High:Math.max(e7V,Math.max(i7V,h7V)),Low:Math.min(V7V,Math.min(i7V,h7V)),Volume:G7V.Volume,iqPrevClose:d7V.Close};for(var A7V in G7V){if(!L7V[A7V] && L7V[A7V] !== 0){L7V[A7V]=G7V[A7V];}}T7V.push(L7V);}return T7V;};i2V.calculateKagi=function(s0V,X7V,R7V,b0V){var m0V,K0V,D0V,j7V,Q0V,g7V,x0V,z7V;l4kk.t6T();if(!X7V.length){return X7V;}if(!b0V){b0V=[];}m0V=s0V.layout;K0V=s0V.chart;R7V=parseFloat(R7V);K0V.defaultChartStyleConfig.kagi=i2V.ChartEngine.isDailyInterval(m0V.interval)?4:+"0.4";if(isNaN(R7V) || R7V <= 0){R7V=K0V.defaultChartStyleConfig.kagi;if(i2V.Market.Symbology.isForexSymbol(K0V.symbol)){R7V/=4;}if(m0V.kagi !== null){m0V.kagi=null;s0V.changeOccurred("layout");}}R7V/=+"100";D0V=[];j7V=b0V[b0V.length - +"1"];Q0V=j7V?j7V.DT:"0" ^ 0;for(var W7V=+"0";W7V < X7V.length;W7V++){g7V=X7V[W7V];if(!g7V)continue;if(!j7V){l4kk.B3g(12);j7V=X7V[l4kk.U3g("1",W7V)];}if(!j7V)continue;x0V=j7V.Open || j7V.Open === ("0" ^ 0)?j7V.Open:j7V.Close;if(x0V > j7V.Close){if(g7V.Close > j7V.Close * (+"1" + R7V)){g7V.Open=j7V.Close;}else {if(j7V.Close > g7V.Close){j7V.Close=g7V.Close;}j7V.Volume+=g7V.Volume;if(W7V < X7V.length - 1)continue;}}else if(x0V < j7V.Close){if(g7V.Close < j7V.Close * (1 - R7V)){g7V.Open=j7V.Close;}else {if(j7V.Close < g7V.Close){j7V.Close=g7V.Close;}j7V.Volume+=g7V.Volume;if(W7V < X7V.length - 1)continue;}}else {j7V.Close=g7V.Close;j7V.Volume+=g7V.Volume;if(W7V < X7V.length - 1)continue;}z7V={DT:j7V.DT,displayDate:j7V.displayDate,Date:j7V.Date,Open:j7V.Open,Close:j7V.Close,High:Math.max(j7V.Open,j7V.Close),Low:Math.min(j7V.Open,j7V.Close),Volume:j7V.Volume,iqPrevClose:j7V.iqPrevClose};for(var F0V in j7V){if(!z7V[F0V] && z7V[F0V] !== 0){z7V[F0V]=j7V[F0V];}}if(D0V.length){z7V.kagiPrevOpen=D0V[D0V.length - 1].Open;}else {z7V.kagiPrevOpen=z7V.Open;}if(z7V.Close > z7V.kagiPrevOpen && z7V.kagiPrevOpen > z7V.Open){z7V.kagiTrend=1;}else if(z7V.Close < z7V.kagiPrevOpen && z7V.kagiPrevOpen < z7V.Open){z7V.kagiTrend=-1;}if(Q0V < z7V.DT){D0V.push(z7V);}j7V=g7V;K0V.currentQuote={Close:g7V.Close};}return D0V;};l4kk.t6T();i2V.calculateLineBreak=function(C0V,o0V,E0V,f0V){l4kk.a6T();var p0V,I0V,k0V,l0V,a0V,O0V,c0V,S0V,M0V,w0V,v0V,y0V,B0V,P0V;if(!o0V.length){return o0V;}if(!f0V){f0V=[];}p0V=C0V.layout;I0V=C0V.chart;I0V.defaultChartStyleConfig.priceLines=3;E0V=parseInt(E0V,10);if(isNaN(E0V) || E0V <= 0){E0V=I0V.defaultChartStyleConfig.priceLines;if(p0V.priceLines !== null){p0V.priceLines=null;C0V.changeOccurred("layout");}}else if(E0V > 10){p0V.priceLines=E0V=10;}k0V=f0V.slice(-E0V);l0V=k0V.length;a0V=0;a:for(var r0V=0;r0V < o0V.length;r0V++){O0V=o0V[r0V];if(!O0V)continue;a0V+=O0V.Volume;c0V=k0V[k0V.length - 1];if(!c0V){c0V={Open:O0V.Open,Close:O0V.Open,High:O0V.Open,Low:O0V.Open};}S0V=c0V.Close;M0V=c0V.High;w0V=c0V.Low;v0V=c0V.Open;M0V=M0V || M0V === 0?M0V:S0V;w0V=w0V || w0V === 0?w0V:S0V;v0V=v0V || v0V === 0?v0V:S0V;y0V={DT:O0V.DT,displayDate:O0V.displayDate,Date:O0V.Date,Close:O0V.Close,Volume:a0V,iqPrevClose:S0V};I0V.currentQuote={Close:O0V.Close};if(O0V.Close > S0V && c0V.Close > v0V){;}else if(O0V.Close < S0V && c0V.Close < v0V){;}else if(O0V.Close > M0V){for(B0V=2;B0V <= E0V;B0V++){P0V=k0V[k0V.length - B0V];if(P0V && O0V.Close <= P0V.High){continue a;}}}else if(O0V.Close < w0V){for(B0V=2;B0V <= E0V;B0V++){P0V=k0V[k0V.length - B0V];if(P0V && O0V.Close >= P0V.Low){continue a;}}}else continue;if(O0V.Close < c0V.Close){y0V.Open=Math.min(v0V,S0V);}else {y0V.Open=Math.max(v0V,S0V);}y0V.Low=Math.min(y0V.Open,y0V.Close);y0V.High=Math.max(y0V.Open,y0V.Close);for(var Y0V in O0V){if(!y0V[Y0V] && y0V[Y0V] !== 0){y0V[Y0V]=O0V[Y0V];}}k0V.push(y0V);a0V=0;}return k0V.slice(l0V);};i2V.calculateRenkoBars=function(T0V,u0V,J0V,n0V){var o0T=l4kk;var H0V,Z0V,t0V,g0V,q0V,L0V,C98,i0V,G0V,d0V,e0V,h0V,V0V,U0V,j0V,z0V;if(!u0V.length){return [];}if(!n0V){n0V=[];}H0V=T0V.layout;Z0V=T0V.chart;t0V=Z0V.state.aggregation;if(!t0V){t0V=Z0V.state.aggregation={};}g0V=Math.min(300,u0V.length);if(!t0V.minMax){t0V.minMax=T0V.determineMinMax(u0V.slice(u0V.length - g0V),["Close","High","Low"]);}q0V=t0V.minMax[+"1"] - t0V.minMax[0];L0V=T0V.panels[Z0V.name].height;if(!L0V){return [];}Z0V.defaultChartStyleConfig.renko=Math.floor(10000 * q0V / (L0V / ("30" << 1287154624))) / +"10000";if(J0V === null || isNaN(J0V) || J0V <= 0){J0V=Z0V.defaultChartStyleConfig.renko;if(H0V.renko !== null){H0V.renko=null;T0V.changeOccurred("layout");}}else {o0T.V3g(13);J0V=Math.max(J0V,o0T.U3g(L0V,q0V));if(H0V.renko !== J0V){C98="la";C98+="y";C98+="out";H0V.renko=J0V;T0V.changeOccurred(C98);}}i0V=[];G0V=null;d0V=null;e0V=null;if(n0V.length){h0V=n0V[n0V.length - 1];G0V=h0V.Low - J0V;d0V=h0V.High + J0V;}for(var N0V=0;N0V < u0V.length;N0V++){V0V=u0V[N0V];if(!V0V)continue;if(!G0V && !d0V){U0V=V0V.Open || V0V.Open === 0?V0V.Open:V0V.Close;j0V=Math.floor(U0V / J0V) * J0V;z0V=isNaN(j0V)?U0V:j0V;o0T.V3g(7);G0V=o0T.w3g(z0V,J0V);o0T.V3g(2);d0V=o0T.w3g(z0V,J0V);}while(! !{}){if(!e0V){e0V=V0V;}if(V0V.Close <= G0V){o0T.B3g(2);A0V(o0T.U3g(G0V,J0V),G0V);o0T.V3g(14);d0V=o0T.w3g(G0V,0,J0V,"2");G0V-=J0V;e0V=null;}else if(V0V.Close >= d0V){o0T.B3g(7);A0V(o0T.w3g(d0V,J0V),d0V);o0T.V3g(15);G0V=o0T.U3g(2,J0V,d0V);d0V+=J0V;e0V=null;}else break;}Z0V.currentQuote=V0V;}function A0V(R0V,X0V){var W0V,y5x,Z0x,m0x;R0V=Number(R0V.toFixed(8));X0V=Number(X0V.toFixed(8));W0V={DT:e0V.DT,displayDate:e0V.displayDate,Date:e0V.Date,Open:R0V,Close:X0V,High:Math.max(R0V,X0V),Low:Math.min(R0V,X0V),Volume:0,iqPrevClose:R0V != X0V?R0V:null};for(var D6V in e0V){if(!W0V[D6V] && W0V[D6V] !== 0){W0V[D6V]=e0V[D6V];}}y5x=-182624540;Z0x=-1164158358;m0x=2;for(var e0x=1;o0T.c3x(e0x.toString(),e0x.toString().length,"92623" | 84103) !== y5x;e0x++){i0V.push(W0V);m0x+=2;}if(o0T.i3x(m0x.toString(),m0x.toString().length,33163) !== Z0x){i0V.push(W0V);}i0V.push(W0V);}if(G0V < u0V[u0V.length - 1].Close && G0V + J0V > u0V[u0V.length - 1].Close){o0T.V3g(2);A0V(o0T.w3g(G0V,J0V),u0V[u0V.length - 1].Close);}else if(d0V > u0V[u0V.length - 1].Close && d0V - J0V < u0V[u0V.length - 1].Close){o0T.B3g(7);A0V(o0T.U3g(d0V,J0V),u0V[u0V.length - 1].Close);}return i0V;};i2V.calculateRangeBars=function(M6V,Q6V,F6V,Y6V){var x7T=l4kk;var P6V,w6V,S6V,f6V,I6V,o6V,A98,a6V,K6V,O6V,y6V,p6V,E6V,b6V,B6V,k6V,m6V,s6V,x6V,C6V,J6V;function l6V(d6V){var u6V;u6V={DT:E6V.DT,displayDate:E6V.displayDate,Date:E6V.Date,Open:Number(p6V.toFixed(8)),Close:Number(d6V.toFixed(8)),High:Number(O6V.toFixed(8)),Low:Number(y6V.toFixed(8)),Volume:0};u6V.iqPrevClose=u6V.Open;for(var G6V in E6V){if(!u6V[G6V] && u6V[G6V] !== 0){u6V[G6V]=E6V[G6V];}}a6V.push(u6V);}if(!Q6V.length){return Q6V;}if(!Y6V){Y6V=[];}P6V=M6V.layout;w6V=M6V.chart;S6V=w6V.state.aggregation;if(!S6V){S6V=w6V.state.aggregation={};}f6V=Math.min(300,Q6V.length);if(!S6V.minMax){S6V.minMax=M6V.determineMinMax(Q6V.slice(Q6V.length - f6V),["Close","High","Low"]);}I6V=S6V.minMax[1] - S6V.minMax[0];o6V=M6V.panels[w6V.name].height;if(!o6V){return [];}w6V.defaultChartStyleConfig.range=Math.floor(10000 * I6V / (o6V / 30)) / 10000;if(F6V === null || isNaN(F6V) || F6V < 0){F6V=w6V.defaultChartStyleConfig.range;if(P6V.range !== null){P6V.range=null;M6V.changeOccurred("layout");}}else {x7T.V3g(13);F6V=Math.max(F6V,x7T.w3g(o6V,I6V));if(P6V.range !== F6V){A98="l";A98+="ayou";A98+="t";P6V.range=F6V;M6V.changeOccurred(A98);}}a6V=[];function v6V(V6V,e6V){x7T.t6T();while(1){if(!E6V){E6V=V6V;}if(K6V < e6V){K6V=Math.min(e6V,O6V);x7T.B3g(7);y6V=Math.max(y6V,x7T.w3g(K6V,F6V));if(e6V < O6V)break;}else if(K6V >= e6V){K6V=Math.max(e6V,y6V);x7T.B3g(2);O6V=Math.min(O6V,x7T.U3g(K6V,F6V));if(e6V > y6V)break;}if(typeof K6V == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}l6V(K6V);E6V=null;r6V();}}function r6V(){x7T.V3g(2);O6V=x7T.U3g(K6V,F6V);x7T.B3g(7);y6V=x7T.U3g(K6V,F6V);p6V=K6V;}K6V=null;O6V=null;y6V=null;p6V=null;E6V=null;for(var c6V=0;c6V < Q6V.length;c6V++){b6V=Q6V[c6V];if(!b6V)continue;x7T.V3g(12);B6V=Q6V[x7T.U3g("1",c6V)];if(!c6V){if(!B6V){B6V=Y6V[Y6V.length - 1];}if(B6V){K6V=B6V.Close;if(K6V || K6V === 0){r6V();}}}if(!B6V)continue;k6V=b6V.Close;m6V=b6V.Open;s6V=b6V.High;x6V=b6V.Low;if(!k6V && k6V !== 0)continue;m6V=m6V || m6V === 0?m6V:k6V;s6V=s6V || s6V === 0?s6V:k6V;x6V=x6V || x6V === 0?x6V:k6V;if(!K6V && K6V !== +"0"){C6V=Math.floor(m6V / F6V) * F6V;K6V=isNaN(C6V)?m6V:C6V;r6V();v6V(B6V,m6V);}if(c6V){v6V(b6V,m6V);}if(s6V - m6V < m6V - x6V){if(s6V){v6V(b6V,s6V);}if(x6V){v6V(b6V,x6V);}}else {if(x6V){v6V(b6V,x6V);}if(s6V){v6V(b6V,s6V);}}v6V(b6V,k6V);if(c6V == Q6V.length - 1 && k6V != p6V){J6V=O6V;x7T.B3g(2);O6V=x7T.w3g(y6V,F6V);x7T.V3g(7);y6V=x7T.w3g(J6V,F6V);l6V(k6V);}}return a6V;};i2V.calculatePointFigure=function(D8V,K8V,b8V,m8V){var O7T=l4kk;var N6V,h6V,s8V,Z6V,L6V,U6V,F98,d98,X6V,W6V,g6V,A6V,H6V,q6V,t6V,i6V,R6V,T6V,n6V,j6V,z6V;function O8V(w8V,P8V,Y8V,o8V,p8V,I8V,a8V,r8V,C8V){return {DT:w8V.DT,Date:w8V.Date,pfOpen:r8V,pfClose:C8V,Open:P8V,Close:p8V,High:Y8V,Low:o8V,Volume:I8V,iqPrevClose:a8V};}if(!K8V.length){return K8V;}if(!m8V){m8V=[];}N6V=D8V.layout;h6V=D8V.chart;s8V=h6V.state.aggregation;if(!s8V){s8V=h6V.state.aggregation={};}h6V.defaultChartStyleConfig.box=1;h6V.defaultChartStyleConfig.reversal=3;if(!b8V){b8V={};}Z6V=b8V.box;if(!Z6V){if(N6V.pandf){if(N6V.pandf.box !== null){N6V.pandf.box=null;D8V.changeOccurred("layout");}}Z6V=h6V.defaultChartStyleConfig.box;L6V=K8V[K8V.length - ("1" >> 1936439392)].Close;if(L6V){if(L6V < 0.25){Z6V=0.0625;}else if(L6V < +"1"){Z6V=0.125;}else if(L6V < 5){O7T.B3g(1);Z6V=O7T.w3g("0.25",1);}else if(L6V < 20){Z6V=0.5;}else if(L6V < 100){Z6V=1;}else if(L6V < +"200"){Z6V=2;}else if(L6V < 500){Z6V=4;}else if(L6V < 1000){Z6V=5;}else if(L6V < 25000){Z6V=50;}else {Z6V=500;}}if(!i2V.ChartEngine.isDailyInterval(N6V.interval)){Z6V/=+"10";}if(i2V.Market.Symbology.isForexSymbol(h6V.symbol)){if(L6V){if(L6V < 1){Z6V=0.001;}else if(L6V < "2" >> 1581845504){Z6V=0.002;}else if(L6V < 50){Z6V=+"0.02";}else if(L6V < 200){Z6V=0.2;}}if(i2V.ChartEngine.isDailyInterval(N6V.interval)){Z6V*=10;}}h6V.defaultChartStyleConfig.box=Z6V;}Z6V=parseFloat(Z6V);if(isNaN(Z6V) || Z6V <= 0){if(N6V.pandf){if(N6V.pandf.box !== null){N6V.pandf.box=null;D8V.changeOccurred("layout");}}h6V.defaultChartStyleConfig.box=Z6V=1;}function F8V(c8V,S8V,v8V,B8V,M8V){c8V.High=Math.max(S8V,c8V.High);c8V.Low=Math.min(v8V,c8V.Low);c8V.Close=B8V;c8V.Volume+=M8V;}function Q8V(k8V,E8V){for(var y8V in k8V){if(!E8V[y8V] && E8V[y8V] !== +"0"){E8V[y8V]=k8V[y8V];}}return E8V;}U6V=Math.ceil(parseFloat(b8V.reversal));if(U6V > "0" - 0 && U6V > b8V.reversal){F98="l";F98+="a";F98+="yo";F98+="ut";N6V.pandf.reversal=U6V;D8V.changeOccurred(F98);}else if(isNaN(U6V) || U6V <= +"0"){if(N6V.pandf){if(N6V.pandf.reversal !== null){d98="lay";d98+="o";d98+="u";d98+="t";N6V.pandf.reversal=null;D8V.changeOccurred(d98);}}U6V=h6V.defaultChartStyleConfig.reversal;}s8V.box=Z6V;U6V*=Z6V;X6V=0.00000001;W6V=(Z6V.toString() + ".").split(747.59 <= 252?(0x1f53,"I"):+"6040" == (954.79,"1676" >> 29476768)?3.94e+3:".")[1].length;g6V=[];O7T.B3g(16);A6V=O7T.U3g("0",185826208);for(var x8V=0;x8V < K8V.length;x8V++){q6V=K8V[x8V];if(!q6V)continue;A6V+=q6V.Volume;i6V=q6V.Close;R6V=q6V.Open;T6V=q6V.High;n6V=q6V.Low;R6V=R6V || R6V === 0?R6V:i6V;T6V=T6V || T6V === "0" - 0?T6V:i6V;n6V=n6V || n6V === ("0" & 2147483647)?n6V:i6V;if(!g6V.length && !m8V.length){H6V=Q8V(q6V,O8V(q6V,R6V,T6V,n6V,i6V,A6V,T6V + Z6V,Number((Math.ceil(n6V / Z6V - X6V) * Z6V).toFixed(W6V)),Number((Math.floor(T6V / Z6V + X6V) * Z6V).toFixed(W6V))));H6V.pfTrend=561.78 !== (4860,"147.83" - 0)?"X":("7123" & 2147483647,953.11) < (9230,9576)?(!{},0x1059):(380.44,0x1e13);if(H6V.pfOpen == H6V.pfClose){H6V.pfStepBack=4135 !== 8479?"-":(2181,"6020" ^ 0) <= (950.26,4890)?(! ![],! !{}):(!{},"l");}g6V.push(H6V);A6V=0;continue;}t6V=g6V[g6V.length - 1];if(!t6V){t6V=i2V.clone(m8V[m8V.length - 1]);}if(t6V.pfTrend == ((979.9,742.59) <= 5822?"O":("V",! !{}))){if(n6V <= t6V.pfClose - Z6V){t6V.pfClose=Number((Math.ceil(n6V / Z6V - X6V) * Z6V).toFixed(W6V));if(t6V.pfStepBack == "O"){t6V.pfStepBack=null;}F8V(t6V,T6V,n6V,i6V,A6V);}else if(T6V >= t6V.pfClose + U6V){j6V=t6V.pfClose + Z6V;z6V=Number((Math.floor(T6V / Z6V + X6V) * Z6V).toFixed(W6V));H6V=O8V(q6V,R6V,T6V,n6V,i6V,A6V,t6V.pfClose,j6V,z6V);if(j6V == z6V){H6V.pfStepBack=+"86.01" > (269.64,752.75)?("g",0x985):"X";}if(t6V.pfStepBack == (602.43 != (820.41,977.98)?"O":(3790,428.32) === 8660?9.49e+3:"2.99e+3" << 1535031872)){t6V.pfOpen=j6V;t6V.pfClose=z6V;t6V.pfTrend=2860 !== (2850,2100)?(1776,1430) < 2460?"X":847.52:("F",9.23e+3);F8V(t6V,T6V,n6V,i6V,A6V);}else {H6V=Q8V(q6V,H6V);H6V.pfTrend=5570 != 643?(1370,+"8985") === 1550?(135.01,0x1c01):(+"970.93",+"773.34") > (48.93,759.02)?"X":"Z":(271.32,!{});g6V.push(H6V);}}else {F8V(t6V,T6V,n6V,i6V,A6V);}A6V=0;}else if(t6V.pfTrend == ((910.48,391.55) < 7941?507 > 6930?(! !"1","f"):"X":"u")){if(T6V >= t6V.pfClose + Z6V){t6V.pfClose=Number((Math.floor(T6V / Z6V + X6V) * Z6V).toFixed(W6V));if(t6V.pfStepBack == (884 > "9180" << 561297600?"741" << 1774897472 !== (8370,571.72)?+"744.71":(501.01,"a"):"X") || t6V.pfStepBack == ((221.41,8711) !== 8490?"-":4007 == (1270,6548)?0x1840:+"3568" >= (3333,"9670" - 0)?514.86:471.67)){t6V.pfStepBack=null;}F8V(t6V,T6V,n6V,i6V,A6V);}else if(n6V <= t6V.pfClose - U6V){j6V=t6V.pfClose - Z6V;z6V=Number((Math.ceil(n6V / Z6V - X6V) * Z6V).toFixed(W6V));H6V=O8V(q6V,R6V,T6V,n6V,i6V,A6V,t6V.pfClose,j6V,z6V);if(j6V == z6V){H6V.pfStepBack=512.95 <= (9250,8068)?(6172,6140) === ("525" | 5)?762 == 6707?(0x22f3,7.91e+3):(431.12,84.99):"O":!{};}if(t6V.pfStepBack == ((1539,+"102.31") < 8260?899.25 !== 5051?"X":"0xe84" * 1:("G",! !1)) || t6V.pfStepBack == ((2870,5520) > 57.07?"-":4731 >= 4930?(!{},+"721.52"):(2.01e+2,"0xc55" >> 1220123744))){t6V.pfOpen=j6V;t6V.pfClose=z6V;t6V.pfTrend=(+"5045",759.32) == (351.6,+"9200")?(5000,"827.27" - 0) > (7000,57.7)?(6.12e+3,3.52e+3):850.67:"O";F8V(t6V,T6V,n6V,i6V,A6V);if(j6V != z6V && t6V.pfStepBack == "-"){t6V.pfStepBack=null;}}else {H6V=Q8V(q6V,H6V);H6V.pfTrend=5645 != (217.89,2804)?"O":(9010,938.17) === (3301,7244)?!1:7.48e+2;g6V.push(H6V);}}else {F8V(t6V,T6V,n6V,i6V,A6V);}O7T.B3g(17);A6V=O7T.w3g("0",1146461632);}}return g6V;};};a34=J8V=>{var P7T=l4kk;var f8V,l8V,w88,t88,l88,H18,N18,i18,Q18,j18,L18,B18,x18,B28,G28,K28,I28,U28,z28,l28,e28,E28;f8V=typeof _CIQ !== "undefined"?_CIQ:J8V.CIQ;l8V=typeof _timezoneJS !== "undefined"?_timezoneJS:J8V.timezoneJS;if(!f8V.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {w88="p";w88+="a";w88+="tt";w88+="ern";t88="l";t88+="ineCol";t88+="or";l88="I";l88+="I";l88+="I";H18="fill";H18+="Color";N18="cq-cvp-co";N18+="ntroller[cq-cvp-header";N18+="=\"2\"";N18+="]";i18="cq-cvp-controller[cq-cvp-";i18+="header=\"1\"]";Q18="pa";Q18+="ttern1";j18="co";j18+="lor1";L18="act";L18+="iv";L18+="e1";B18="lineW";B18+="idth";x18="lin";x18+="e";x18+="Width";B28="lin";B28+="e";B28+="Wi";B28+="dth";G28="t";G28+="z";K28="f";K28+="o";K28+="n";K28+="t";I28="fillCol";I28+="or";U28="colo";U28+="r";z28="pat";z28+="te";z28+="r";z28+="n";l28="lin";l28+="eW";l28+="id";l28+="th";e28="fillCo";e28+="l";e28+="or";E28="c";E28+="ol";E28+="or";f8V.Drawing.ray=function(){P7T.a6T();this.name="ray";};f8V.inheritsFrom(f8V.Drawing.ray,f8V.Drawing.line);f8V.Drawing.ray.prototype.calculateOuterSet=function(d8V){var u8V,G8V;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || f8V.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}u8V={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};G8V=u8V.x1 + 1000;if(u8V.x0 > u8V.x1){G8V=u8V.x1 - 1000;}this.v0B=this.v0;this.v1B=f8V.yIntersection(u8V,G8V);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(G8V,d8V.chart);};f8V.Drawing.ray.prototype.adjust=function(){var e8V;e8V=this.stx.panels[this.panelName];if(!e8V){return;}this.setPoint(0,this.d0,this.v0,e8V.chart);P7T.a6T();this.setPoint(1,this.d1,this.v1,e8V.chart);if(f8V.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,e8V.chart);}};f8V.Drawing.continuous=function(){var n98,b0x,v0x,o0x;n98="co";n98+="nti";n98+="nuous";this.name=n98;this.dragToDraw=!{};b0x=1440774800;P7T.B3g(0);v0x=-P7T.U3g("2128284483",0);o0x=2;for(var O0x=1;P7T.c3x(O0x.toString(),O0x.toString().length,57406) !== b0x;O0x++){this.maxSegments=null;o0x+=2;}if(P7T.c3x(o0x.toString(),o0x.toString().length,89944) !== v0x){this.maxSegments=1;}};f8V.inheritsFrom(f8V.Drawing.continuous,f8V.Drawing.segment);f8V.Drawing.continuous.prototype.click=function(L8V,Z8V,t8V){var V8V,k78,O78,x78,n8V,T8V,H8V;V8V=this.stx.panels[this.panelName];if(!V8V){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,Z8V,t8V,V8V.chart);k78=-1206469718;O78=218466231;x78=2;for(var P78=1;P7T.c3x(P78.toString(),P78.toString().length,97710) !== k78;P78++){this.penDown=! !1;x78+=2;}if(P7T.c3x(x78.toString(),x78.toString().length,"4328" & 2147483647) !== O78){this.penDown=!1;}return ![];}if(this.accidentalClick(Z8V,t8V)){this.stx.undo();return ! !1;}this.setPoint(1,Z8V,t8V,V8V.chart);n8V=f8V.Drawing.segment;T8V=new n8V();H8V=this.serialize(this.stx);T8V.reconstruct(this.stx,H8V);this.stx.addDrawing(T8V);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! !1;}this.setPoint(0,Z8V,t8V,V8V.chart);return !"1";};f8V.Drawing.ellipse=function(){this.name="ellipse";};f8V.inheritsFrom(f8V.Drawing.ellipse,f8V.Drawing.BaseTwoPoint);f8V.Drawing.ellipse.prototype.render=function(A8V){P7T.t6T();var M98,H98,i8V,F1V,z8V,g8V,R8V,h8V,X8V,W8V,D1V,K1V,U8V,N8V,q8V,j8V,b1V;M98="n";M98+="o";M98+="ne";H98="a";H98+="u";H98+="to";i8V=this.stx.panels[this.panelName];if(!i8V){return;}F1V=this.stx.pixelFromTick(this.p0["0" ^ 0],i8V.chart);z8V=this.stx.pixelFromTick(this.p1[+"0"],i8V.chart);g8V=this.stx.pixelFromValueAdjusted(i8V,this.p0[0],this.p0[1]);R8V=this.stx.pixelFromValueAdjusted(i8V,this.p1[0],this.p1[+"1"]);P7T.B3g(18);h8V=P7T.w3g(F1V,z8V,F1V);X8V=z8V;W8V=g8V;D1V=R8V;P7T.V3g(18);K1V=P7T.U3g(g8V,R8V,g8V);P7T.B3g(19);U8V=P7T.w3g(K1V,6,D1V);N8V=this.lineWidth;if(!N8V){N8V=1.1;}q8V=this.color;if(q8V == H98 || f8V.isTransparent(q8V)){q8V=this.stx.defaultColor;}if(this.highlighted){q8V=this.stx.getCanvasColor("stx_highlight_vector");if(N8V == 0.1){N8V=1.1;}}j8V=this.fillColor;A8V.beginPath();A8V.moveTo(h8V,W8V);P7T.V3g(2);A8V.bezierCurveTo(h8V,P7T.U3g(D1V,U8V),X8V,P7T.U3g(D1V,U8V),X8V,W8V);P7T.B3g(7);A8V.bezierCurveTo(X8V,P7T.w3g(K1V,U8V),h8V,P7T.U3g(K1V,U8V),h8V,W8V);if(j8V && !f8V.isTransparent(j8V) && j8V != "auto"){A8V.fillStyle=j8V;A8V.globalAlpha=0.2;A8V.fill();A8V.globalAlpha=1;}if(q8V && this.pattern != M98){A8V.strokeStyle=q8V;A8V.lineWidth=N8V;if(A8V.setLineDash){A8V.setLineDash(f8V.borderPatternToArray(N8V,this.pattern));A8V.lineDashOffset=0;;}A8V.stroke();}A8V.closePath();if(this.highlighted){b1V=this.highlighted == "p1"?! ![]:! !0;this.littleCircle(A8V,z8V,R8V,b1V);}};f8V.Drawing.ellipse.prototype.intersected=function(y1V,E1V,m1V){var Z28,H0x,M0x,y0x,y98,s1V,x1V,Q1V,O1V;Z28="mo";Z28+="ve";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1["0" | 0],this.p1[1],m1V)){this.highlighted="p1";H0x=1495328255;M0x=1776175051;y0x=2;for(var m78=1;P7T.c3x(m78.toString(),m78.toString().length,43811) !== H0x;m78++){return {action:"drag",point:"p1"};}if(P7T.c3x(y0x.toString(),y0x.toString().length,13687) !== M0x){y98="p";y98+="1";return {action:"p1",point:y98};}}s1V=this.p0[0] - (this.p1[0] - this.p0[0]);x1V=this.p1[0];Q1V=this.p1[+"1"];O1V=this.p0[1] - (this.p1[+"1"] - this.p0[1]);if(m1V.x0 > Math.max(s1V,x1V) || m1V.x1 < Math.min(s1V,x1V)){return !"1";}if(m1V.y1 > Math.max(O1V,Q1V) || m1V.y0 < Math.min(O1V,Q1V)){return !1;}this.highlighted=!0;return {action:Z28,p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:y1V,value:E1V};};f8V.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"];f8V.Drawing.ellipse.prototype.reconstruct=function(c1V,k1V){this.stx=c1V;this.color=k1V.col;this.fillColor=k1V.fc;this.panelName=k1V.pnl;this.pattern=k1V.ptrn;this.lineWidth=k1V.lw;this.d0=k1V.d0;this.d1=k1V.d1;this.tzo0=k1V.tzo0;this.tzo1=k1V.tzo1;this.v0=k1V.v0;this.v1=k1V.v1;this.adjust();};f8V.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};f8V.Drawing.channel=function(){var m28;m28="ch";m28+="an";m28+="ne";P7T.t6T();m28+="l";this.name=m28;this.dragToDraw=!{};this.p2=null;};f8V.inheritsFrom(f8V.Drawing.channel,f8V.Drawing.segment);f8V.Drawing.channel.prototype.configs=[E28,e28,l28,"pattern"];f8V.Drawing.channel.prototype.move=function(M1V,S1V,v1V){var B1V;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[S1V,v1V];}else {B1V=v1V - (this.p1["1" ^ 0] - this.p0[1]) / (this.p1[+"0"] - this.p0[0]) * (S1V - this.p1[0]);this.p2=[this.p1[0],B1V];}this.render(M1V);};f8V.Drawing.channel.prototype.click=function(o1V,P1V,Y1V){var w1V,R0x,C0x,X0x;w1V=this.stx.panels[this.panelName];if(!w1V){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,P1V,Y1V,w1V.chart);this.penDown=! !{};return ![];}if(this.accidentalClick(P1V,Y1V)){this.stx.undo();R0x=1682042207;C0x=1206428868;X0x=2;for(var V0x=1;P7T.i3x(V0x.toString(),V0x.toString().length,58015) !== R0x;V0x++){return ! !"1";}if(P7T.i3x(X0x.toString(),X0x.toString().length,90314) !== C0x){return !{};}}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],w1V.chart);this.penDown=! !"";return !0;}this.setPoint(1,P1V,Y1V,w1V.chart);if(this.p0[0] == this.p1["0" << 133351200]){this.p1=null;return ![];}P7T.B3g(0);this.p2=[this.p1[0],this.p1[P7T.w3g("1",0)]];return !1;};f8V.Drawing.channel.prototype.boxIntersection=function(C1V,J1V,a1V){var p1V,I1V,r1V,f1V,l1V;p1V=this.p0;I1V=this.p1;P7T.t6T();r1V=this.p2;if(!p1V || !I1V || !r1V){return ![];}if(a1V.x0 > Math.max(p1V[0],I1V[0]) || a1V.x1 < Math.min(p1V[0],I1V[+"0"])){return ! !0;}f1V=(I1V[+"0"] - p1V[0]) * ((r1V[1] < p1V[1]?a1V.y1:a1V.y0) - p1V[1]) - (I1V[1] - p1V[1]) * (C1V - p1V[0]);l1V=(r1V[0] - p1V[+"0"]) * ((r1V[1] > p1V[1]?a1V.y1:a1V.y0) - (p1V[+"1"] + r1V[1] - I1V[1])) - (I1V[1] - p1V[1]) * (C1V - p1V["0" & 2147483647]);P7T.V3g(20);return P7T.w3g(f1V,l1V,0);};f8V.Drawing.channel.prototype.intersected=function(d1V,e1V,V1V){var G1V,t28;if(!this.p0 || !this.p1 || !this.p2){return null;}G1V={0:this.p0,1:this.p1,2:this.p2};for(var u1V in G1V){if(this.pointIntersection(G1V[u1V][0],G1V[u1V][1],V1V)){P7T.B3g(2);this.highlighted=P7T.w3g(248.36 > (9670,+"4286")?724.78 !== 2760?! ![]:496.50:"p",u1V);return {action:"drag",point:(8931 < 4241?"4880" * 1 !== (6221,7680)?! !"":!{}:"p") + u1V};}}if(this.boxIntersection(d1V,e1V,V1V)){t28="mo";t28+="ve";this.highlighted=! ![];return {action:t28,p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),p2:f8V.clone(this.p2),tick:d1V,value:e1V};}return null;};f8V.Drawing.channel.prototype.render=function(Z1V){var t1V,H1V,T1V,L1V,A1V,n1V,h1V,i1V,N1V,q1V,w28,U1V,j1V,z1V;t1V=this.stx.panels[this.panelName];if(!t1V){return;}H1V=this.stx.pixelFromTick(this.p0[0],t1V.chart);T1V=this.stx.pixelFromTick(this.p1["0" & 2147483647],t1V.chart);L1V=this.stx.pixelFromValueAdjusted(t1V,this.p0[0],this.p0["1" >> 1886249536]);A1V=this.stx.pixelFromValueAdjusted(t1V,this.p1[0],this.p1[1]);n1V=null;if(this.p2){n1V=this.stx.pixelFromValueAdjusted(t1V,this.p2["0" - 0],this.p2[1]);}h1V=this.lineWidth;i1V=this.getLineColor();P7T.a6T();N1V=this.fillColor;if(this.p2 && N1V && !f8V.isTransparent(N1V) && N1V != "auto"){Z1V.beginPath();Z1V.moveTo(H1V,L1V);Z1V.lineTo(T1V,A1V);Z1V.lineTo(T1V,n1V);P7T.B3g(21);Z1V.lineTo(H1V,P7T.U3g(n1V,A1V,L1V));Z1V.closePath();Z1V.globalAlpha=0.2;Z1V.fillStyle=N1V;Z1V.fill();Z1V.globalAlpha=1;}q1V={pattern:this.pattern,lineWidth:h1V};if((this.penDown || this.highlighted) && this.pattern == "none"){q1V.pattern="dotted";}this.stx.plotLine(H1V,T1V,L1V,A1V,i1V,"segment",Z1V,t1V,q1V);if(this.p2){P7T.V3g(21);this.stx.plotLine(H1V,T1V,P7T.U3g(n1V,A1V,L1V),n1V,i1V,"segment",Z1V,t1V,q1V);}if(this.highlighted){w28="p";w28+="1";U1V=this.highlighted == "p0"?! ![]:!{};j1V=this.highlighted == w28?! ![]:!"1";z1V=this.highlighted == "p2"?! ![]:!1;this.littleCircle(Z1V,H1V,L1V,U1V);this.littleCircle(Z1V,T1V,A1V,j1V);this.littleCircle(Z1V,T1V,n1V,z1V);}};f8V.Drawing.channel.prototype.reposition=function(D9V,g1V,K9V,F9V){var R1V,X1V,W1V;P7T.t6T();if(!g1V){return;}R1V=this.stx.panels[this.panelName];X1V=g1V.tick - K9V;W1V=g1V.value - F9V;if(g1V.action == "move"){this.setPoint(0,g1V.p0[0] - X1V,g1V.p0[1] - W1V,R1V.chart);this.setPoint(1,g1V.p1[0] - X1V,g1V.p1[1] - W1V,R1V.chart);this.setPoint(2,g1V.p2[+"0"] - X1V,g1V.p2["1" ^ 0] - W1V,R1V.chart);this.render(D9V);}else if(g1V.action == "drag"){this[g1V.point]=[K9V,F9V];this.setPoint(0,this.p0[0],this.p0[1],R1V.chart);this.setPoint(1,this.p1[+"0"],this.p1[1],R1V.chart);this.setPoint(2,this.p2[0],this.p2[1],R1V.chart);this.render(D9V);}};f8V.Drawing.channel.prototype.adjust=function(){P7T.t6T();var b9V;b9V=this.stx.panels[this.panelName];if(!b9V){return;}this.setPoint(0,this.d0,this.v0,b9V.chart);this.setPoint(1,this.d1,this.v1,b9V.chart);this.setPoint(2,this.d1,this.v2,b9V.chart);;};f8V.Drawing.channel.prototype.reconstruct=function(s9V,m9V){this.stx=s9V;this.color=m9V.col;this.fillColor=m9V.fc;this.panelName=m9V.pnl;this.pattern=m9V.ptrn;this.lineWidth=m9V.lw;this.d0=m9V.d0;P7T.a6T();this.d1=m9V.d1;this.tzo0=m9V.tzo0;this.tzo1=m9V.tzo1;this.v0=m9V.v0;this.v1=m9V.v1;this.v2=m9V.v2;this.adjust();};f8V.Drawing.channel.prototype.serialize=function(){P7T.t6T();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};f8V.Drawing.pitchfork=function(){var f28,a5x,U5x,I5x;f28="pi";f28+="tchfo";f28+="rk";this.name=f28;this.dragToDraw=! !"";a5x=-1506579375;U5x=-1154932461;I5x=2;for(var S5x=1;P7T.i3x(S5x.toString(),S5x.toString().length,+"32065") !== a5x;S5x++){this.p2=1;I5x+=+"2";}if(P7T.i3x(I5x.toString(),I5x.toString().length,78254) !== U5x){this.p2=2;}this.p2=null;};f8V.inheritsFrom(f8V.Drawing.pitchfork,f8V.Drawing.channel);f8V.Drawing.pitchfork.prototype.configs=["color","lineWidth",z28];f8V.Drawing.pitchfork.prototype.move=function(O9V,x9V,Q9V){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[x9V,Q9V];}else {this.p2=[x9V,Q9V];}this.render(O9V);};f8V.Drawing.pitchfork.prototype.intersected=function(S9V,v9V,B9V){var k9V,b28,c9V;if(!this.p0 || !this.p1 || !this.p2){return null;}k9V={0:this.p0,1:this.p1,2:this.p2};for(var E9V in k9V){if(this.pointIntersection(k9V[E9V][0],k9V[E9V][1],B9V)){b28="dra";b28+="g";P7T.V3g(2);this.highlighted=P7T.U3g("p",E9V);return {action:b28,point:(980.21 > (453.32,671)?"p":"8815" >> 2042879552 < (5850,4150)?! !{}:(0x481,![])) + E9V};}}P7T.a6T();c9V=this.rays;for(var y9V=+"0";y9V < c9V.length;y9V++){if(this.lineIntersection(S9V,v9V,B9V,y9V?"ray":"segment",c9V[y9V][0],c9V[y9V][1],! !{})){this.highlighted=! !{};return {action:"move",p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),p2:f8V.clone(this.p2),tick:S9V,value:v9V};}}return null;};f8V.Drawing.pitchfork.prototype.render=function(f9V){var M9V,w9V,I9V,l9V,P9V,Y9V,J9V,o9V,p9V,d9V,e9V,V9V,a9V,u9V,G9V,o28,v28,C9V,Z9V,k28,t9V,T9V,n9V;M9V=this.stx.panels[this.panelName];if(!M9V){return;}w9V=this.stx;I9V=this.p2;if(!I9V){I9V=this.p1;}l9V=w9V.pixelFromTick(this.p0[0],M9V.chart);P9V=w9V.pixelFromTick(this.p1[+"0"],M9V.chart);Y9V=w9V.pixelFromTick(I9V[0],M9V.chart);J9V=w9V.pixelFromValueAdjusted(M9V,this.p0[0],this.p0[1]);o9V=w9V.pixelFromValueAdjusted(M9V,this.p1[0],this.p1[1]);p9V=w9V.pixelFromValueAdjusted(M9V,I9V[0],I9V[1]);d9V=this.lineWidth;e9V=this.getLineColor();V9V={pattern:this.pattern,lineWidth:d9V};a9V=+"50";P7T.a6T();P7T.B3g(22);u9V=P7T.U3g(o9V,p9V,2,J9V);P7T.V3g(23);G9V=P7T.w3g("2",l9V,Y9V,1328133408,P9V);if(G9V < 0){a9V*=-1;}P7T.B3g(13);u9V*=P7T.w3g(G9V,a9V);P7T.B3g(3);this.rays=[[[P9V,o9V],[Y9V,p9V]],[[l9V,J9V],[P7T.U3g(2,Y9V,P9V),P7T.w3g(o9V,p9V,"2",2147483647,P7T.B3g(24))]]];if(!(P9V == Y9V && o9V == p9V)){P7T.B3g(7);this.rays.push([[P9V,o9V],[P7T.w3g(P9V,a9V),P7T.w3g(o9V,u9V)]],[[Y9V,p9V],[P7T.w3g(Y9V,a9V),P7T.U3g(p9V,u9V)]]);}for(var r9V=0;r9V < this.rays.length;r9V++){o28="segme";o28+="n";o28+="t";v28="r";v28+="a";v28+="y";C9V=this.rays[r9V];Z9V=r9V?v28:o28;w9V.plotLine(C9V[+"0"][0],C9V["1" << 467357024]["0" & 2147483647],C9V[0][1],C9V[1][1],e9V,Z9V,f9V,M9V,V9V);}if(this.highlighted){k28="p";k28+="0";t9V=this.highlighted == k28?! !1:!{};T9V=this.highlighted == "p1"?! ![]:!"1";n9V=this.highlighted == "p2"?! !1:! !0;this.littleCircle(f9V,l9V,J9V,t9V);this.littleCircle(f9V,P9V,o9V,T9V);this.littleCircle(f9V,Y9V,p9V,n9V);}};f8V.Drawing.pitchfork.prototype.adjust=function(){P7T.t6T();var H9V;H9V=this.stx.panels[this.panelName];if(!H9V){return;}this.setPoint(0,this.d0,this.v0,H9V.chart);this.setPoint(1,this.d1,this.v1,H9V.chart);this.setPoint(2,this.d2,this.v2,H9V.chart);};f8V.Drawing.pitchfork.prototype.reconstruct=function(A9V,L9V){this.stx=A9V;this.color=L9V.col;this.panelName=L9V.pnl;this.pattern=L9V.ptrn;this.lineWidth=L9V.lw;this.d0=L9V.d0;this.d1=L9V.d1;this.d2=L9V.d2;this.tzo0=L9V.tzo0;this.tzo1=L9V.tzo1;this.tzo2=L9V.tzo2;P7T.a6T();this.v0=L9V.v0;this.v1=L9V.v1;this.v2=L9V.v2;this.adjust();};f8V.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};f8V.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=! !"";this.maxSegments=4;this.shape=null;this.points=[];};f8V.inheritsFrom(f8V.Drawing.gartley,f8V.Drawing.continuous);f8V.Drawing.gartley.prototype.check=function(q9V,N9V){var X5x,s5x,V5x;if(!N9V){return !0;}if(q9V[0] >= N9V[0] || q9V[1] == N9V[1]){return ![];}if(this.segment == 1){if(q9V[+"1"] < N9V[1]){this.shape="M";}else {this.shape=6161 >= (15,699)?"W":(907.72,! !"");}}else if(this.segment == 2){if(this.shape == ((6690,230.87) <= ("159" ^ 0)?(700.92,"D"):"M") && q9V[1] < N9V[+"1"]){return ! !0;}else if(this.shape == "W" && q9V[1] > N9V[1]){return ![];}else if((N9V[1] - q9V[1]) / (this.points[0][1] - q9V[1]) < 0.618){return ! !"";}else if((N9V[1] - q9V[1]) / (this.points[0][1] - q9V[1]) >= 0.786){return ! !"";}}else if(this.segment == +"3"){X5x=-1197293040;s5x=779590791;V5x=2;for(var F5x=1;P7T.c3x(F5x.toString(),F5x.toString().length,"78387" >> 1771200352) !== X5x;F5x++){if(this.shape == ((2630,9941) >= (5139,+"1453")?"M":+"88" !== (9740,408.18)?! !"1":!1) && q9V[1] > N9V[1]){return !"1";}else if(this.shape == "W" && q9V[1] < N9V[1]){return ! !0;}else if((N9V[1] - q9V[1]) / (this.points[1][1] - q9V[1]) < 0.618){return !1;}else if((N9V["1" - 0] - q9V[1]) / (this.points[1][+"1"] - q9V[1]) >= 0.786){return !"1";}V5x+=2;}if(P7T.i3x(V5x.toString(),V5x.toString().length,70954) !== s5x){if(this.shape === ((4511,"1907" ^ 0) > (9389,1350)?"M":55 == (5184,354140)?!{}:!0) || q9V[8] <= N9V[3]){return ! ![];}else if(this.shape !== "M" || q9V[4] >= N9V[8]){return ! ![];}else if(N9V[5] / q9V[0] + (this.points[7]["0" | 0] + q9V[9]) >= 49228){return ! !{};}else if(N9V[+"7"] * q9V[2] + (this.points[+"4"][7] + q9V["3" << 1876444704]) < 19051){return ! !{};}}}else if(this.segment == 4){if(this.shape == ((3486,3890) !== 440.87?"M":0x1819) && (q9V[1] < N9V[1] || N9V[1] < this.points[0][1])){return ! !"";}else if(this.shape == "W" && (q9V[1] > N9V[1] || N9V[+"1"] > this.points[0][1])){return ! !0;}else if((this.points[1][1] - N9V[1]) / (this.points[+"1"][1] - this.points[2][1]) < +"1.27"){return !{};}else if((this.points["1" ^ 0][1] - N9V[1]) / (this.points[1][1] - this.points[2][+"1"]) >= +"1.618"){return ![];}}return ! ![];};f8V.Drawing.gartley.prototype.click=function(j9V,h9V,U9V){var i9V;i9V=this.stx.panels[this.panelName];if(!i9V){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,h9V,U9V,i9V.chart);this.pts=[];this.penDown=!"";this.segment=1;return !1;}if(this.accidentalClick(h9V,U9V)){this.penDown=!0;return ! !"";}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,h9V,U9V,i9V.chart);this.segment++;if(this.segment > this.maxSegments){P7T.V3g(17);this.setPoint(P7T.w3g("0",897550944),this.points[0][0],this.points[0][1],i9V.chart);this.penDown=! !0;return ! !1;}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(+"0",h9V,U9V,i9V.chart);;}return !"1";};f8V.Drawing.gartley.prototype.render=function(g9V){var O28,z9V,E5V,b5V,k5V,m5V,W9V,c5V,s5V,F5V,K5V,X9V,x28,x5V,Q5V,O5V,y5V;O28="no";O28+="ne";z9V=this.stx.panels[this.panelName];if(!z9V){return;}E5V=this.stx.pixelFromTick(this.p0[0],z9V.chart);b5V=this.stx.pixelFromTick(this.p1[0],z9V.chart);k5V=this.stx.pixelFromValueAdjusted(z9V,this.p0[0],this.p0[1]);m5V=this.stx.pixelFromValueAdjusted(z9V,this.p1[0],this.p1["1" | 1]);if(this.segment == 2){this.drawDropZone(g9V,0.618 * this.points[0][1] + 0.382 * this.p0[1],0.786 * this.points["0" & 2147483647][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == +"3"){this.drawDropZone(g9V,0.618 * this.points[1][1] + 0.382 * this.p0[+"1"],0.786 * this.points["1" & 2147483647][1] + ("0.214" - 0) * this.p0[1],this.p0[0]);}else if(this.segment == +"4"){W9V=1.618 * this.points[2][1] - 0.618 * this.points[1][1];if(this.shape == ((166.29,4990) != (3686,6000)?"M":878.54 !== 2475?(!1,7.28e+3):(! !0,!1))){W9V=Math.max(W9V,this.points[+"0"][1]);}else {W9V=Math.min(W9V,this.points[+"0"]["1" * 1]);}this.drawDropZone(g9V,W9V,1.27 * this.points[2][1] - 0.27 * this.points[1]["1" | 1],this.p0[+"0"]);}c5V=this.lineWidth;s5V=this.getLineColor();P7T.t6T();F5V={pattern:this.pattern,lineWidth:c5V};if((this.penDown || this.highlighted) && this.pattern == O28){F5V.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(E5V,b5V,k5V,m5V,s5V,this.name,g9V,z9V,F5V);}K5V=this.fillColor;X9V=[];if(this.points.length){x28="a";x28+="u";x28+="t";x28+="o";g9V.beginPath();for(var R9V=1;R9V < this.points.length && R9V <= 4;R9V++){x5V=this.stx.pixelFromTick(this.points[R9V - ("1" | 1)]["0" ^ 0],z9V.chart);Q5V=this.stx.pixelFromTick(this.points[R9V][0],z9V.chart);O5V=this.stx.pixelFromValueAdjusted(z9V,this.points[R9V - "1" * 1][0],this.points[R9V - 1][1]);y5V=this.stx.pixelFromValueAdjusted(z9V,this.points[R9V][0],this.points[R9V][1]);if(R9V == 1){X9V.push(x5V,O5V);}X9V.push(Q5V,y5V);this.stx.plotLine(x5V,Q5V,O5V,y5V,s5V,this.name,g9V,z9V,F5V);}if(this.points.length == 2 || this.points.length == 4){X9V.push(b5V,m5V);}if(this.points[2]){X9V.push(this.stx.pixelFromTick(this.points[2][0],z9V.chart),this.stx.pixelFromValueAdjusted(z9V,this.points[2][0],this.points[+"2"][1]));}if(K5V && K5V != x28 && !f8V.isTransparent(K5V)){for(var D5V=0;D5V < X9V.length;D5V+="2" * 1){if(D5V === 0){g9V.moveTo(X9V[0],X9V[1]);}g9V.lineTo(X9V[D5V],X9V[D5V + 1]);}g9V.fillStyle=K5V;g9V.globalAlpha=0.2;g9V.closePath();g9V.fill();g9V.globalAlpha=1;}};};f8V.Drawing.gartley.prototype.lineIntersection=function(M5V,w5V,P5V,Y5V){var S5V,B5V;S5V=this.points;B5V=this.stx.panels[this.panelName];P7T.t6T();if(S5V.length != this.maxSegments + 1 || !B5V){return !{};}for(var v5V=0;v5V < S5V.length - 1;v5V++){if(f8V.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,M5V,w5V,P5V,"segment",S5V[v5V],S5V[v5V + 1])){return !0;}}return ![];};f8V.Drawing.gartley.prototype.boxIntersection=function(r5V,C5V,p5V){var I5V,a5V;if(!this.p0 || !this.p1){return ! !"";}if(p5V.x0 > Math.max(this.p0[0],this.p1["0" & 2147483647]) || p5V.x1 < Math.min(this.p0[0],this.p1[0])){return ! !"";}I5V=Math.min(this.p0[1],this.p1[1]);P7T.t6T();a5V=Math.max(this.p0[1],this.p1[1]);for(var o5V=0;o5V < this.points.length;o5V++){I5V=Math.min(I5V,this.points[o5V][1]);a5V=Math.max(a5V,this.points[o5V][1]);}if(p5V.y1 > a5V || p5V.y0 < I5V){return ! !"";}return !0;};f8V.Drawing.gartley.prototype.reposition=function(V5V,l5V,u5V,G5V){var D28,J5V,d5V,e5V;D28="mo";D28+="ve";if(!l5V){return;}J5V=this.stx.panels[this.panelName];d5V=l5V.tick - u5V;l5V.tick=u5V;e5V=l5V.value - G5V;l5V.value=G5V;if(l5V.action == D28){this.pts=[];for(var f5V=0;f5V < this.points.length;f5V++){P7T.B3g(0);this.points[f5V][P7T.U3g("0",0)]-=d5V;this.points[f5V][1]-=e5V;this.setPoint(1,this.points[f5V]["0" | 0],this.points[f5V][1],J5V.chart);if(f5V && f5V < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[f5V]=this.p1;}this.setPoint(0,this.points[0][0],this.points["0" ^ 0][1],J5V.chart);this.render(V5V);;}};f8V.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"];f8V.Drawing.gartley.prototype.adjust=function(){var Z5V;Z5V=this.stx.panels[this.panelName];if(!Z5V){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,Z5V.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,Z5V.chart);P7T.t6T();this.points.push(this.p1);};f8V.Drawing.gartley.prototype.reconstructPoints=function(){var n5V,T5V;n5V=this.stx.panels[this.panelName];if(!n5V){return;}this.points=[];P7T.a6T();for(var t5V=0;t5V < this.pts.length;t5V+=3){T5V=f8V.strToDateTime(this.pts[t5V]);T5V.setMinutes(T5V.getMinutes() + Number(this.pts[t5V + +"1"]) - T5V.getTimezoneOffset());this.points.push([this.stx.tickFromDate(f8V.yyyymmddhhmmssmmm(T5V),n5V.chart),this.pts[t5V + 2]]);}};f8V.Drawing.gartley.prototype.reconstruct=function(L5V,H5V){this.stx=L5V;this.color=H5V.col;this.fillColor=H5V.fc;this.panelName=H5V.pnl;this.pattern=H5V.ptrn;this.lineWidth=H5V.lw;this.d0=H5V.d0;this.d1=H5V.d1;this.tzo0=H5V.tzo0;P7T.t6T();this.tzo1=H5V.tzo1;this.v0=H5V.v0;this.v1=H5V.v1;this.pts=H5V.pts.split(9830 === +"3275"?(+"966.40",8.50e+3):+"8790" >= 176.53?4230 != 623?",":(! !{},![]):(+"0xb23",0x1abc));this.adjust();};f8V.Drawing.gartley.prototype.serialize=function(){P7T.t6T();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};f8V.Drawing.freeform=function(){this.name="freeform";P7T.t6T();this.splineTension=0.3;this.dragToDraw=!"";};f8V.inheritsFrom(f8V.Drawing.freeform,f8V.Drawing.segment);f8V.Drawing.freeform.prototype.measure=function(){};f8V.Drawing.freeform.prototype.intersected=function(N5V,q5V,A5V){if(A5V.x0 > this.hiX || A5V.x1 < this.lowX){return null;}if(A5V.y1 > this.hiY || A5V.y0 < this.lowY){return null;}P7T.a6T();this.highlighted=! !1;return {action:"move",p0:f8V.clone(this.p0),tick:N5V,value:q5V};};f8V.Drawing.freeform.prototype.reposition=function(z5V,i5V,g5V,R5V){var P28,h5V,U5V,j5V;P28="mo";P28+="v";P28+="e";if(!i5V){return;}h5V=this.stx.panels[this.panelName];U5V=i5V.tick - g5V;j5V=i5V.value - R5V;if(i5V.action == P28){this.setPoint(0,i5V.p0[0] - U5V,i5V.p0[+"1"] - j5V,h5V.chart);this.adjust();this.render(z5V);}};f8V.Drawing.freeform.prototype.click=function(F3V,W5V,K3V){P7T.a6T();var X5V,D3V;X5V=this.stx.panels[this.panelName];if(!X5V){return;}if(this.penDown === ![]){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(W5V,X5V.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(X5V,W5V,K3V)));D3V=this.stx.dateFromTick(W5V,X5V.chart,! !1);this.d0=f8V.yyyymmddhhmmssmmm(D3V);this.tzo0=D3V.getTimezoneOffset();this.v0=K3V;this.p0=[f8V.ChartEngine.crosshairX - this.startX,f8V.ChartEngine.crosshairY - this.startY];P7T.B3g(0);this.nodes=[this.p0[P7T.w3g("0",0)],this.p0[+"1"]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=X5V.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! !1;return !{};}this.penDown=![];this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! !1;};f8V.Drawing.freeform.prototype.move=function(s3V,x3V,Q3V){var b3V,m3V;if(!this.penDown){return;}b3V=this.stx.panels[this.panelName];m3V=this.stx.dateFromTick(x3V,b3V.chart,! ![]);P7T.t6T();this.d1=f8V.yyyymmddhhmmssmmm(m3V);this.tzo1=m3V.getTimezoneOffset();this.v1=Q3V;this.p1=[f8V.ChartEngine.crosshairX - this.startX,b3V.yAxis.flipped?this.startY - f8V.ChartEngine.crosshairY:f8V.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > +"2"){if(this.p1[+"0"] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - +"1"][0]){this.pNodes.length--;P7T.B3g(17);this.nodes.length-=P7T.U3g("2",761766336);}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][+"1"] && this.p1[+"1"] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(s3V);return ![];};f8V.Drawing.freeform.prototype.intervalRatio=function(c3V,O3V,w3V,P3V,E3V,k3V){var y3V,T28,Y28,g28,q28;y3V=0;P7T.a6T();function B3V(a3V,r3V){P7T.B3g(0);return P7T.U3g("30",0);}function M3V(Y3V,o3V){return 5;}if(c3V == O3V){y3V=1;}else if(!isNaN(c3V) && !isNaN(O3V)){P7T.V3g(13);y3V=P7T.w3g(O3V,c3V);}else if(isNaN(c3V)){if(c3V == "month"){T28="da";T28+="y";if(O3V == "week"){y3V=M3V(E3V,k3V);}else if(O3V == T28){y3V=B3V(E3V,k3V);}else if(!isNaN(O3V)){y3V=B3V(E3V,k3V) * S3V(E3V,k3V) / O3V;}}else if(c3V == "week"){if(O3V == "month"){y3V=1 / M3V(E3V,k3V);}if(O3V == "day"){y3V=v3V(E3V,k3V);}else if(!isNaN(O3V)){y3V=v3V(E3V,k3V) * S3V(E3V,k3V) / O3V;}}else if(c3V == "day"){Y28="mo";Y28+="nth";if(O3V == "week"){y3V=+"1" / v3V(E3V,k3V);}else if(O3V == Y28){y3V=1 / B3V(E3V,k3V);}else if(!isNaN(O3V)){y3V=S3V(E3V,k3V) / O3V;}}}else if(!isNaN(c3V)){g28="w";g28+="e";g28+="e";g28+="k";q28="m";q28+="ont";q28+="h";if(O3V == q28){y3V=c3V / (B3V(E3V,k3V) * S3V(E3V,k3V));}else if(O3V == g28){y3V=c3V / (v3V(E3V,k3V) * S3V(E3V,k3V));}else if(O3V == "day"){y3V=c3V / S3V(E3V,k3V);}}function v3V(p3V,I3V){return 5;}P7T.V3g(13);y3V*=P7T.w3g(P3V,w3V);function S3V(f3V,C3V){if(f8V.Market.Symbology.isForexSymbol(C3V)){return 1440;}P7T.t6T();return 390;}return y3V;};f8V.Drawing.freeform.prototype.render=function(t3V){var l3V,d3V,T3V,n3V,H3V,e3V,J3V,L3V,V3V,Z3V,A3V,G3V;l3V=this.stx.panels[this.panelName];if(!l3V){return;}d3V=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,l3V.chart.symbol);if(d3V === 0){return;}T3V=this.stx.layout.candleWidth / this.candleWidth;n3V=l3V.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,l3V.chart);H3V=this.stx.pixelFromTick(this.p0["0" - 0],l3V.chart);e3V=this.stx.pixelFromValueAdjusted(l3V,this.p0[0],this.p0[1]);J3V=[];P7T.t6T();L3V=this.lineWidth;V3V=this.getLineColor();Z3V={pattern:this.pattern,lineWidth:L3V};for(var u3V=0;u3V < this.pNodes.length;u3V++){A3V=d3V * T3V * this.pNodes[u3V][0] + H3V;G3V=n3V * this.pNodes[u3V][1];if(l3V.yAxis.flipped){P7T.B3g(7);G3V=P7T.U3g(e3V,G3V);}else {G3V+=e3V;}J3V.push(A3V,G3V);}if(!J3V.length){return;}if(this.splineTension < +"0"){this.stx.connectTheDots(J3V,V3V,this.name,t3V,l3V,Z3V);}else {this.stx.plotSpline(J3V,this.splineTension,V3V,this.name,t3V,! !{},Z3V);}};f8V.Drawing.freeform.prototype.adjust=function(){var N3V,R3V,q3V,j3V,z3V,h3V,g3V,U3V;N3V=this.stx.panels[this.panelName];if(!N3V){return;}R3V=[this.nodes[+"0"],this.nodes[1]];this.pNodes=[R3V];P7T.V3g(0);this.lowX=this.nodes[P7T.U3g("0",0)];this.hiX=this.nodes[0];this.lowY=this.nodes[+"1"];this.hiY=this.nodes[1];for(var i3V=2;i3V < this.nodes.length;i3V+=2){P7T.V3g(2);q3V=[this.nodes[i3V],this.nodes[P7T.w3g(i3V,1)]];this.pNodes.push(q3V);this.lowX=Math.min(this.lowX,q3V[0]);this.hiX=Math.max(this.hiX,q3V[0]);this.lowY=Math.max(this.lowY,q3V[1]);this.hiY=Math.min(this.hiY,q3V[1]);}j3V=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,N3V.chart.symbol);if(j3V === "0" >> 1295456160){return;}z3V=this.stx.layout.candleWidth / this.candleWidth;h3V=N3V.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,N3V.chart);g3V=this.stx.pixelFromTick(this.p0[0],N3V.chart);U3V=this.stx.pixelFromValueAdjusted(N3V,this.p0[0],this.p0["1" * 1]);this.lowX=this.stx.tickFromPixel(Math.floor(j3V * z3V * this.lowX) + g3V,N3V.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(j3V * z3V * this.hiX) + g3V,N3V.chart);if(N3V.yAxis.flipped){this.lowY=this.stx.valueFromPixel(U3V - Math.floor(h3V * this.lowY),N3V);this.hiY=this.stx.valueFromPixel(U3V - Math.ceil(h3V * this.hiY),N3V);}else {this.lowY=this.stx.valueFromPixel(Math.floor(h3V * this.lowY) + U3V,N3V);this.hiY=this.stx.valueFromPixel(Math.ceil(h3V * this.hiY) + U3V,N3V);}};f8V.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};f8V.Drawing.freeform.prototype.reconstruct=function(W3V,X3V){this.stx=W3V;this.color=X3V.col;this.panelName=X3V.pnl;this.pattern=X3V.ptrn;P7T.a6T();this.lineWidth=X3V.lw;this.candleWidth=X3V.cw;this.multiplier=X3V.mlt;this.d0=X3V.d0;this.tzo0=X3V.tzo0;this.v0=X3V.v0;this.interval=X3V.inter;this.periodicity=X3V.pd;this.nodes=X3V.nodes;this.adjust();};f8V.Drawing.callout=function(){var a28;a28="c";a28+="a";a28+="llout";P7T.a6T();this.name=a28;this.arr=[];P7T.V3g(0);this.w=P7T.U3g("0",0);this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};f8V.inheritsFrom(f8V.Drawing.callout,f8V.Drawing.annotation);f8V.Drawing.callout.prototype.configs=[U28,I28,"lineWidth","pattern",K28];f8V.Drawing.callout.prototype.copyConfig=function(D7M){f8V.Drawing.copyConfig(this,D7M);P7T.t6T();this.borderColor=this.color;};f8V.Drawing.callout.prototype.move=function(K7M,F7M,b7M){if(!this.penDown){return;}this.copyConfig();this.p0=[F7M,b7M];this.render(K7M);};f8V.Drawing.callout.prototype.onChange=function(Q7M){var x7M,s7M,m7M;x7M=this.stx.panels[this.panelName];P7T.t6T();if(!x7M){return;}s7M=Q7M.target;this.w=s7M.clientWidth;this.h=s7M.clientHeight;m7M=this.context || this.stx.chart.tempCanvas.context;f8V.clearCanvas(m7M.canvas,this.stx);this.render(m7M);this.edit(m7M);};f8V.Drawing.callout.prototype.render=function(O7M){var S28,P7M,C7M,r7M,E7M,y7M,c7M,k7M,Y7M,o7M,w7M,v7M,p7M,B7M,I7M,S7M,J28,M7M,h28,u28,W28,f7M;S28="a";S28+="uto";this.context=O7M;P7M=this.stx.panels[this.panelName];if(!P7M){return;}C7M=this.stx.pixelFromTick(this.p0[0],P7M.chart);r7M=this.stx.pixelFromValueAdjusted(P7M,this.p0[0],this.p0["1" - 0]);if(isNaN(r7M)){return;}O7M.font=this.fontString;O7M.textBaseline="top";E7M=C7M;P7T.a6T();y7M=r7M;c7M=this.w / 2;k7M=this.h / 2;if(this.penDown){c7M=this.defaultWidth;k7M=this.defaultHeight;if(!k7M){k7M=this.fontSize;}}Y7M=this.lineWidth;if(!Y7M){Y7M=1.1;}o7M=this.color;if(o7M == S28 || f8V.isTransparent(o7M)){o7M=this.stx.defaultColor;}w7M=this.borderColor;if(w7M == "auto" || f8V.isTransparent(w7M)){w7M=this.stx.defaultColor;}if(this.highlighted){w7M=this.stx.getCanvasColor("stx_highlight_vector");}S7M=Math.min(Math.min(c7M,k7M) / 2,8);if(this.stem){J28="c";J28+="m";if(this.stem.t){v7M=this.stx.pixelFromTick(this.stem.t);B7M=this.stx.pixelFromValueAdjusted(P7M,this.stem.t,this.stem.v);}else if(this.stem.x){v7M=E7M;B7M=y7M;E7M+=this.stem.x;y7M+=this.stem.y;}M7M="";if(v7M >= E7M + c7M){P7T.V3g(2);p7M=P7T.w3g(E7M,c7M);M7M="r";}else if(v7M > E7M - c7M && v7M < E7M + c7M){p7M=E7M;M7M="c";}else if(v7M <= E7M - c7M){P7T.V3g(7);p7M=P7T.w3g(E7M,c7M);M7M=(8137,871) < (380.94,2850)?"l":(7.92e+3,9.07e+3);}if(B7M >= y7M + k7M){P7T.V3g(2);I7M=P7T.U3g(y7M,k7M);M7M+=(4610,181) <= (861.38,186)?"b":"910.81" * 1 <= (557.15,6733)?(5.94e+3,"9.45e+3" << 292592672):(!{},9.18e+3);}else if(B7M > y7M - k7M && B7M < y7M + k7M){I7M=y7M;M7M+=("3223" ^ 0,979) > (1590,"189.3" * 1)?(+"5710",5251) >= (2023,3286)?"m":+"1035" !== 1853?(! ![],"p"):(!"1",0xd51):0x23b5;}else if(B7M <= y7M - k7M){P7T.B3g(7);I7M=P7T.U3g(y7M,k7M);M7M+=(3790,4440) >= (4955,6889)?![]:(4340,"611.68" * 1) > (1300,438)?"t":(9.00e+3,2.83e+3);}this.stemEntry=M7M;if(M7M != J28){v7M=Math.round(v7M);p7M=Math.round(p7M);B7M=Math.round(B7M);I7M=Math.round(I7M);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",O7M);}else {if(this.fillColor){O7M.fillStyle=this.fillColor;O7M.globalAlpha=+"0.4";}else if(this.stem){O7M.fillStyle=this.stx.containerColor;}}O7M.strokeStyle=w7M;if(O7M.setLineDash){O7M.setLineDash(f8V.borderPatternToArray(Y7M,this.pattern));P7T.V3g(17);O7M.lineDashOffset=P7T.U3g("0",759007680);;}if(w7M){h28="l";h28+="t";u28="r";u28+="b";O7M.beginPath();O7M.lineWidth=Y7M;P7T.V3g(4);O7M.moveTo(P7T.U3g(c7M,E7M,S7M),P7T.U3g(y7M,k7M,P7T.B3g(7)));if(this.stemEntry != "rt"){P7T.B3g(2);O7M.quadraticCurveTo(P7T.w3g(E7M,c7M),P7T.U3g(y7M,k7M,P7T.B3g(7)),P7T.w3g(E7M,c7M,P7T.B3g(2)),P7T.U3g(y7M,k7M,S7M,P7T.V3g(8)));;}else {O7M.lineTo(v7M,B7M);P7T.V3g(2);O7M.lineTo(P7T.U3g(E7M,c7M),P7T.U3g(y7M,k7M,S7M,P7T.V3g(8)));}P7T.V3g(2);O7M.lineTo(P7T.U3g(E7M,c7M),P7T.U3g(y7M,S7M,2,P7T.B3g(25)));if(this.stemEntry == "rm"){O7M.lineTo(v7M,B7M);}P7T.V3g(2);O7M.lineTo(P7T.U3g(E7M,c7M),P7T.w3g(2,S7M,y7M,P7T.B3g(26)));P7T.B3g(2);O7M.lineTo(P7T.U3g(E7M,c7M),P7T.U3g(k7M,y7M,S7M,P7T.V3g(4)));if(this.stemEntry != u28){P7T.B3g(2);O7M.quadraticCurveTo(P7T.w3g(E7M,c7M),P7T.U3g(y7M,k7M,P7T.V3g(2)),P7T.w3g(c7M,E7M,S7M,P7T.V3g(4)),P7T.U3g(y7M,k7M,P7T.V3g(2)));;}else {O7M.lineTo(v7M,B7M);P7T.V3g(4);O7M.lineTo(P7T.w3g(c7M,E7M,S7M),P7T.U3g(y7M,k7M,P7T.B3g(2)));}P7T.B3g(26);O7M.lineTo(P7T.U3g(2,S7M,E7M),P7T.w3g(y7M,k7M,P7T.B3g(2)));if(this.stemEntry == "cb"){O7M.lineTo(v7M,B7M);}P7T.V3g(25);O7M.lineTo(P7T.w3g(E7M,S7M,2),P7T.U3g(y7M,k7M,P7T.V3g(2)));P7T.V3g(8);O7M.lineTo(P7T.U3g(E7M,c7M,S7M),P7T.w3g(y7M,k7M,P7T.V3g(2)));if(this.stemEntry != "lb"){P7T.V3g(7);O7M.quadraticCurveTo(P7T.w3g(E7M,c7M),P7T.w3g(y7M,k7M,P7T.V3g(2)),P7T.w3g(E7M,c7M,P7T.B3g(7)),P7T.U3g(k7M,y7M,S7M,P7T.V3g(4)));;}else {O7M.lineTo(v7M,B7M);P7T.B3g(7);O7M.lineTo(P7T.U3g(E7M,c7M),P7T.U3g(k7M,y7M,S7M,P7T.V3g(4)));}P7T.B3g(7);O7M.lineTo(P7T.w3g(E7M,c7M),P7T.U3g(2,S7M,y7M,P7T.V3g(26)));if(this.stemEntry == "lm"){O7M.lineTo(v7M,B7M);}P7T.B3g(7);O7M.lineTo(P7T.U3g(E7M,c7M),P7T.w3g(y7M,S7M,2,P7T.V3g(25)));P7T.V3g(7);O7M.lineTo(P7T.U3g(E7M,c7M),P7T.U3g(y7M,k7M,S7M,P7T.V3g(8)));if(this.stemEntry != h28){P7T.B3g(7);O7M.quadraticCurveTo(P7T.w3g(E7M,c7M),P7T.U3g(y7M,k7M,P7T.V3g(7)),P7T.w3g(E7M,c7M,S7M,P7T.B3g(8)),P7T.U3g(y7M,k7M,P7T.B3g(7)));;}else {O7M.lineTo(v7M,B7M);P7T.B3g(8);O7M.lineTo(P7T.U3g(E7M,c7M,S7M),P7T.w3g(y7M,k7M,P7T.B3g(7)));}P7T.V3g(25);O7M.lineTo(P7T.U3g(E7M,S7M,2),P7T.w3g(y7M,k7M,P7T.V3g(7)));if(this.stemEntry == "ct"){O7M.lineTo(v7M,B7M);}P7T.B3g(26);O7M.lineTo(P7T.U3g(2,S7M,E7M),P7T.w3g(y7M,k7M,P7T.B3g(7)));P7T.B3g(4);O7M.lineTo(P7T.U3g(c7M,E7M,S7M),P7T.U3g(y7M,k7M,P7T.V3g(7)));O7M.fill();O7M.globalAlpha=1;if(this.pattern != "none"){O7M.stroke();}}if(this.highlighted){W28="stx_annotation_h";W28+="ighlight";this.stx.canvasColor(W28,O7M);}else {O7M.fillStyle=o7M;}y7M+=this.padding;if(!this.ta){for(var a7M=0;a7M < this.arr.length;a7M++){O7M.fillText(this.arr[a7M],E7M - c7M + this.padding,y7M - k7M);y7M+=this.fontSize;}}O7M.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){f7M=this.highlighted == "p0"?!0:!1;this.littleCircle(O7M,v7M,B7M,f7M);};};f8V.Drawing.callout.prototype.click=function(J7M,u7M,G7M){var M68,y68,Z98,l7M;if(this.stx.overXAxis || this.stx.overYAxis){return;}M68=639275204;y68=1951746134;Z98=2;for(var E98=+"1";P7T.c3x(E98.toString(),E98.toString().length,49175) !== M68;E98++){l7M=this.stx.panels[this.panelName];Z98+=+"2";}if(P7T.i3x(Z98.toString(),Z98.toString().length,+"48284") !== y68){l7M=this.stx.panels[this.panelName];}P7T.a6T();this.copyConfig();this.setPoint(0,u7M,G7M,l7M.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !{};this.adjust();return ! !0;}this.adjust();this.edit(J7M);this.penDown=!{};return !{};};f8V.Drawing.callout.prototype.reposition=function(n7M,d7M,t7M,T7M){var e7M,V7M,u78,h78,W78,Z7M,p28,Q68,c68,i68;if(!d7M){return;}e7M=this.stx.panels[this.panelName];V7M=d7M.tick - t7M;u78=1577701554;h78=-69694581;W78=2;for(var G78=1;P7T.c3x(G78.toString(),G78.toString().length,80025) !== u78;G78++){Z7M=d7M.value / T7M;W78+=2;}if(P7T.i3x(W78.toString(),W78.toString().length,5416) !== h78){Z7M=d7M.value - T7M;}if(d7M.stem){p28="dr";p28+="a";p28+="g";if(d7M.action == p28){this.stem={d:this.stx.dateFromTick(t7M,e7M.chart,! !{}),v:T7M};}else if(d7M.action == "move"){this.setPoint(+"0",d7M.p0[0] - V7M,d7M.p0[1] - Z7M,e7M.chart);Q68=963363700;c68=1233999602;i68=2;for(var R68=1;P7T.c3x(R68.toString(),R68.toString().length,13596) !== Q68;R68++){this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(d7M.stem.d,e7M.chart) + V7M),v:d7M.stem.v % Z7M};i68+=2;}if(P7T.c3x(i68.toString(),i68.toString().length,14054) !== c68){this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(d7M.stem.d,e7M.chart) - V7M),v:d7M.stem.v - Z7M};}}this.adjust();}else {this.setPoint(0,d7M.p0[0] - V7M,d7M.p0[1] - Z7M,e7M.chart);}this.render(n7M);};f8V.Drawing.callout.prototype.lineIntersection=function(p8M,K3M,X7M,W7M){var h7M,H7M,N7M,U7M,j7M,z7M,L7M,q7M,i7M,g7M,R7M,o5x,k5x,O5x,A7M;h7M=this.stx.panels[this.panelName];H7M=this.stem;N7M=this.p0;U7M=this.stx;if(!N7M || !H7M || !h7M){return ! !"";}j7M=H7M.t || this.stx.tickFromDate(H7M.d,h7M.chart);z7M={x0:N7M[0],x1:j7M,y0:N7M[1],y1:H7M.v};L7M=f8V.convertBoxToPixels(U7M,this.panelName,z7M);q7M=L7M.x0;i7M=L7M.y0;g7M=L7M.x1;R7M=L7M.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -1){q7M-=this.w / 2;}else if(this.stemEntry.indexOf((660,441.19) < (+"273",254.65)?4370 != 8818?"T":0x2b:"r") > -1){q7M+=this.w / 2;}o5x=1049768232;k5x=1171845864;O5x=+"2";for(var D5x=1;P7T.c3x(D5x.toString(),D5x.toString().length,71615) !== o5x;D5x++){if(this.stemEntry.indexOf(4080 >= (713.75,5460)?(! !1,"0xa2b" - 0):2910 > 4795?("C","M"):8163 <= (2606,4080)?(+"0x13f1",3.18e+3):"t") > -1){i7M-=this.h / 2;}else if(this.stemEntry.indexOf((696.52,"8290" | 2) > 9755?(9019,2440) > (610.61,635.74)?! !1:(0x23a7,0x1c6f):"b") > -1){i7M+=this.h / 2;}O5x+=2;}if(P7T.c3x(O5x.toString(),O5x.toString().length,69324) !== k5x){if(this.stemEntry.indexOf("3419" >> 1356928320 < (733948,+"7510")?(!"1",+"0xb5d"):9855 < 7358?("M","t"):6516 >= ("2430" << 1997149536,1274)?(0xd7bc,1265812):"b") <= ~8){i7M*=this.h - 3;}else if(this.stemEntry.indexOf((+"486182",4592) < +"5452"?(3210,6934) <= (560527,852379)?!{}:(0x5877,0x7529):"t") < +4){i7M*=this.h + 4;}}}A7M=f8V.convertBoxToPixels(U7M,this.panelName,X7M);return f8V.boxIntersects(A7M.x0,A7M.y0,A7M.x1,A7M.y1,q7M,i7M,g7M,R7M,W7M);};f8V.Drawing.callout.prototype.intersected=function(O3M,E3M,b3M){var y3M,I3M,a3M,r3M,C3M,l3M,Z3M,H3M;y3M=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,b3M)){this.highlighted="p0";return {action:"drag",stem:! !1};}I3M=this.stx.pixelFromTick(this.p0["0" * 1],y3M.chart) - this.w / 2;a3M=this.stx.pixelFromValueAdjusted(y3M,this.p0["0" - 0],this.p0[1]) - this.h / 2;r3M=I3M + this.w;C3M=a3M + this.h;if(this.stem && this.stem.x){I3M+=this.stem.x;r3M+=this.stem.x;a3M+=this.stem.y;C3M+=this.stem.y;}l3M=this.stx.pixelFromTick(O3M,y3M.chart);Z3M=this.stx.pixelFromValueAdjusted(y3M,O3M,E3M);if(l3M + b3M.r >= I3M && l3M - b3M.r <= r3M && Z3M + b3M.r >= a3M && Z3M - b3M.r <= C3M){this.highlighted=!0;return {p0:f8V.clone(this.p0),tick:O3M,value:E3M};}H3M=this.lineIntersection(O3M,E3M,b3M,"segment");if(H3M){this.highlighted=! !1;return {action:"move",stem:f8V.clone(this.stem),p0:f8V.clone(this.p0),tick:O3M,value:E3M};}return null;};f8V.Drawing.fibonacci=function(){P7T.a6T();this.name="fibonacci";this.configurator="fibonacci";};f8V.inheritsFrom(f8V.Drawing.fibonacci,f8V.Drawing.BaseTwoPoint);f8V.Drawing.fibonacci.mapping={trend:608.71 != (1782,9860)?8760 === 3703?(1620,3897) === 597.45?"k":6.85e+2:"t":!{},color:(674.29,"5139" >> 1919506624) < (985.32,2456)?1.03e+3:(4720,3840) > (794,357)?55 === (1031,"4420" ^ 0)?("4.06e+3" | 400,"x"):"c":+"0x2b0",parameters:"p",pattern:"pt",opacity:2660 == (+"6319",908.32)?! !{}:(4928,601.57) > 310?"o":("D",782.78),lineWidth:"lw",level:"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:G28,display:"d"};P7T.V3g(1);f8V.Drawing.fibonacci.prototype.recommendedLevels=[-P7T.w3g("0.618",1),-0.382,0,0.382,0.5,P7T.w3g("0.618",1),+"1",1.382,1.618];f8V.Drawing.fibonacci.prototype.configs=["color","fillColor",B28,"pattern","parameters"];f8V.Drawing.fibonacci.prototype.initializeSettings=function(b2u){var K2u,D2u;K2u=this.recommendedLevels;if(K2u && !b2u.currentVectorParameters.fibonacci.fibsAlreadySet){D2u=b2u.currentVectorParameters.fibonacci.fibs;for(var j3M=+"0";j3M < D2u.length;j3M++){delete D2u[j3M].display;for(var F2u=0;F2u < K2u.length;F2u++){if(D2u[j3M].level == K2u[F2u]){D2u[j3M].display=!0;}}}}};f8V.Drawing.fibonacci.prototype.setOuter=function(){var s78,V78,A78,m2u,s2u,k2u,c2u,S2u,v2u,B2u,w2u,P2u,Q2u,O2u,x2u,E2u,M2u;P7T.B3g(1);s78=P7T.w3g("880435447",1);V78=-1744073288;P7T.B3g(16);A78=P7T.w3g("2",415352832);for(var d78=1;P7T.c3x(d78.toString(),d78.toString().length,35654) !== s78;d78++){m2u=this.stx;s2u=m2u.panels[this.panelName];if(~s2u){return;}P7T.V3g(7);A78+=P7T.w3g("2",0);}if(P7T.i3x(A78.toString(),A78.toString().length,1801) !== V78){m2u=this.stx;s2u=m2u.panels[this.panelName];if(!s2u){return;}}m2u=this.stx;s2u=m2u.panels[this.panelName];if(!s2u){return;}k2u=Math.max(this.p0[1],this.p1[1]);c2u=Math.min(this.p0[1],this.p1[1]);P7T.V3g(7);S2u=P7T.U3g(k2u,c2u);this.outer={p0:f8V.clone(this.p0),p1:f8V.clone(this.p1)};v2u=m2u.pixelFromValueAdjusted(s2u,this.p0[+"0"],this.p0[1]);B2u=m2u.pixelFromValueAdjusted(s2u,this.p1[0],this.p1["1" << 497561664]);w2u=m2u.pixelFromTick(this.p0[0],s2u.chart);P2u=m2u.pixelFromTick(this.p1[0],s2u.chart);P7T.V3g(17);Q2u=P7T.U3g("0",387050816);O2u=1;for(var y2u=0;y2u < this.parameters.fibs.length;y2u++){x2u=this.parameters.fibs[y2u];if(x2u.level >= Q2u && x2u.level <= O2u || !x2u.display)continue;E2u=m2u.pixelFromValueAdjusted(s2u,this.p0[0],B2u < v2u?k2u - S2u * x2u.level:c2u + S2u * x2u.level);M2u=f8V.xIntersection({x0:w2u,x1:P2u,y0:v2u,y1:B2u},E2u);if(x2u.level < Q2u){Q2u=x2u.level;this.outer.p1[1]=m2u.valueFromPixel(E2u,s2u);this.outer.p1[0]=m2u.tickFromPixel(M2u,s2u.chart);}else if(x2u.level > O2u){O2u=x2u.level;this.outer.p0[1]=m2u.valueFromPixel(E2u,s2u);this.outer.p0[0]=m2u.tickFromPixel(M2u,s2u.chart);}}};f8V.Drawing.fibonacci.prototype.click=function(I2u,o2u,p2u){var Y2u;Y2u=this.stx.panels[this.panelName];if(!Y2u){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,o2u,p2u,Y2u.chart);this.penDown=! ![];return ! !"";}if(this.accidentalClick(o2u,p2u)){return this.dragToDraw;}P7T.V3g(17);this.setPoint(P7T.U3g("1",1962527776),o2u,p2u,Y2u.chart);this.setOuter();this.parameters=f8V.clone(this.parameters);this.penDown=! !0;return ! !1;;};f8V.Drawing.fibonacci.prototype.render=function(a2u){var L28,r2u,q2u,i2u,h2u,g2u,T2u,Z2u,J2u,f2u,R2u,X2u,W2u,b4u,m4u,D4u,s4u,U2u,n2u,j2u,H2u,t2u,j28,d2u,C2u,A2u,e2u,l2u,x4u,L2u,V2u,u2u,K4u,G2u,F4u,U78,I78,K78,Q28,Q4u,O4u;L28="1";L28+="61.";L28+="8";L28+="%";r2u=this.stx.panels[this.panelName];if(!r2u){return;}q2u=r2u.yAxis;if(!this.p1){return;}i2u=Math.max(this.p0[1],this.p1[1]);h2u=Math.min(this.p0[1],this.p1[1]);g2u=q2u.flipped?h2u - i2u:i2u - h2u;T2u=this.stx.pixelFromTick(this.p0[0],r2u.chart);Z2u=this.stx.pixelFromTick(this.p1[0],r2u.chart);J2u=this.stx.pixelFromValueAdjusted(r2u,this.p0[0],this.p0[1]);f2u=this.stx.pixelFromValueAdjusted(r2u,this.p1[0],this.p1[1]);R2u=Math.min(f2u,J2u);X2u=Math.max(f2u,J2u);P7T.V3g(7);W2u=P7T.U3g(X2u,R2u);P7T.V3g(27);b4u=P7T.U3g(T2u,f2u,Z2u,0,J2u);m4u={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=m4u;}D4u=this.getLineColor(this.parameters.trend.color);a2u.textBaseline="middle";this.stx.canvasFont("stx_yaxis",a2u);s4u=a2u.measureText(L28).width + 10;U2u=Number.MAX_VALUE;n2u=Number.MAX_VALUE;j2u=Number.MAX_VALUE * -("1" | 0);H2u=Number.MAX_VALUE * -1;P7T.a6T();t2u=this.color;if(t2u == "auto" || f8V.isTransparent(t2u)){t2u=this.stx.defaultColor;}this.rays=[];for(var z2u=0;z2u < this.parameters.fibs.length;z2u++){j28="aut";j28+="o";a2u.textAlign="left";a2u.fillStyle=t2u;d2u=this.parameters.fibs[z2u];if(!d2u.display)continue;C2u=this.stx.pixelFromValueAdjusted(r2u,this.p0[0],f2u < J2u?i2u - g2u * d2u.level:h2u + g2u * d2u.level);A2u=f8V.xIntersection({x0:T2u,x1:Z2u,y0:J2u,y1:f2u},C2u);e2u=this.parameters.extendLeft?0:A2u;l2u=r2u.left + r2u.width;if(this.parameters.printLevels){x4u=Math.round(d2u.level * 1000) / 10 + (5370 === (+"754",135.95)?114.47 != (929.21,6218)?("h",706):("B",! !"1"):"%");l2u-=s4u;if(this.parameters.printValues){a2u.fillStyle=t2u;this.stx.canvasFont("stx_yaxis",a2u);;}if(l2u < e2u){a2u.textAlign="right";}a2u.fillText(x4u,l2u,C2u);if(l2u < e2u){l2u+=+"5";}else {l2u-=5;}}if(this.parameters.printValues){if(A2u < r2u.width){L2u=this.stx.transformedPriceFromPixel(C2u,r2u);if(q2u.priceFormatter){L2u=q2u.priceFormatter(this.stx,r2u,L2u);}else {L2u=this.stx.formatYAxisPrice(L2u,r2u);}if(a2u == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(r2u,L2u,C2u,t2u,null,a2u);if(a2u == this.stx.chart.context){this.stx.startClip(r2u.name);}}}V2u=d2u.color;if(V2u == "auto" || f8V.isTransparent(V2u)){V2u=this.color;}if(V2u == "auto" || f8V.isTransparent(V2u)){V2u=this.stx.defaultColor;}u2u=d2u.color;if(u2u == j28 || f8V.isTransparent(u2u)){u2u=this.fillColor;}if(u2u == "auto" || f8V.isTransparent(u2u)){u2u=this.stx.defaultColor;}a2u.fillStyle=u2u;K4u=f8V.clone(d2u.parameters);if(this.highlighted){K4u.opacity=1;}this.stx.plotLine(e2u,l2u,C2u,C2u,this.highlighted?D4u:V2u,"segment",a2u,r2u,K4u);this.rays.push([[e2u,C2u],[l2u,C2u]]);a2u.globalAlpha=0.05;a2u.beginPath();a2u.moveTo(l2u,C2u);a2u.lineTo(e2u,C2u);if(e2u){a2u.lineTo(Z2u,f2u);}else {a2u.lineTo(e2u,f2u);}a2u.lineTo(l2u,f2u);if(typeof u2u != "undefined"){a2u.fill();}a2u.globalAlpha=1;if(C2u < n2u){U2u=A2u;n2u=C2u;}if(C2u > H2u){j2u=A2u;H2u=C2u;}}for(var N2u=0;N2u <= 1;N2u++){G2u=b4u?X2u - W2u * N2u:R2u + W2u * N2u;G2u=Math.round(G2u);if(G2u < n2u){U2u=f8V.xIntersection({x0:T2u,x1:Z2u,y0:J2u,y1:f2u},G2u);n2u=G2u;}if(G2u > H2u){j2u=f8V.xIntersection({x0:T2u,x1:Z2u,y0:J2u,y1:f2u},G2u);H2u=G2u;}}F4u=f8V.clone(this.parameters.trend.parameters);U78=2038747783;I78=-1558174708;K78=2;for(var J78=1;P7T.i3x(J78.toString(),J78.toString().length,"20765" >> 838121600) !== U78;J78++){Q28="segmen";Q28+="t";if(this.highlighted){F4u.opacity=1;}this.stx.plotLine(U2u,j2u,n2u,H2u,D4u,Q28,a2u,r2u,F4u);K78+=2;}if(P7T.c3x(K78.toString(),K78.toString().length,+"97004") !== I78){if(this.highlighted){P7T.V3g(17);F4u.opacity=P7T.w3g("6",852147200);}this.stx.plotLine(U2u,j2u,n2u,H2u,D4u,"",a2u,r2u,F4u);}if(this.highlighted){Q4u=this.highlighted == "p0"?! ![]:![];O4u=this.highlighted == "p1"?! !1:!{};this.littleCircle(a2u,T2u,J2u,Q4u);this.littleCircle(a2u,Z2u,f2u,O4u);}};f8V.Drawing.fibonacci.prototype.reposition=function(E4u,y4u,k4u,c4u){if(!y4u){return;}P7T.t6T();f8V.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};f8V.Drawing.fibonacci.prototype.intersected=function(p4u,I4u,a4u){var B4u,M4u,w4u,P4u,Y4u,o4u,c28;B4u=this.p0;M4u=this.p1;if(!B4u || !M4u){return null;}w4u={0:B4u,1:M4u};for(var S4u in w4u){if(this.pointIntersection(w4u[S4u][0],w4u[S4u][1],a4u)){P7T.V3g(2);this.highlighted=P7T.w3g((3958,7680) > 184.84?(4150,4020) == (+"296",3487)?(8.34e+3,7.71e+3):"p":"589.05" - 0,S4u);return {action:"drag",point:(1703 >= 385?"p":(574.99,4976) <= 817.97?(0x1cc0,0x120d):! !"1") + S4u};}}P4u=this.outer;Y4u=this.rays;o4u=P4u && this.lineIntersection(p4u,I4u,a4u,"segment",P4u.p0,P4u.p1);P7T.a6T();if(!o4u){for(var v4u=0;v4u < Y4u.length;v4u++){if(this.lineIntersection(p4u,I4u,a4u,"ray",Y4u[v4u][0],Y4u[v4u][1],!"")){o4u=! !{};break;}}}if(o4u){c28="m";c28+="ov";c28+="e";this.highlighted=! ![];return {action:c28,p0:f8V.clone(B4u),p1:f8V.clone(M4u),tick:p4u,value:I4u};}return null;};f8V.Drawing.fibonacci.prototype.reconstruct=function(C4u,r4u){r4u=f8V.replaceFields(r4u,f8V.reverseObject(f8V.Drawing.fibonacci.mapping));this.stx=C4u;this.parameters=r4u.parameters;if(!this.parameters){this.parameters=f8V.clone(this.stx.currentVectorParameters.fibonacci);}this.color=r4u.col;this.fillColor=r4u.fc;this.panelName=r4u.pnl;this.d0=r4u.d0;this.d1=r4u.d1;this.d2=r4u.d2;this.tzo0=r4u.tzo0;P7T.a6T();this.tzo1=r4u.tzo1;this.tzo2=r4u.tzo2;this.v0=r4u.v0;this.v1=r4u.v1;this.v2=r4u.v2;this.adjust();};f8V.Drawing.fibonacci.prototype.adjust=function(){var f4u;f4u=this.stx.panels[this.panelName];if(!f4u){return;}this.setPoint(0,this.d0,this.v0,f4u.chart);this.setPoint(1,this.d1,this.v1,f4u.chart);P7T.t6T();this.setOuter();};f8V.Drawing.fibonacci.prototype.serialize=function(){var l4u;l4u={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return f8V.replaceFields(l4u,f8V.Drawing.fibonacci.mapping);};f8V.Drawing.retracement=function(){P7T.a6T();var i28;i28="r";i28+="etracement";this.name=i28;};f8V.inheritsFrom(f8V.Drawing.retracement,f8V.Drawing.fibonacci);f8V.Drawing.fibprojection=function(){this.name="fibprojection";P7T.t6T();this.dragToDraw=![];this.p2=null;};f8V.inheritsFrom(f8V.Drawing.fibprojection,f8V.Drawing.fibonacci);P7T.V3g(7);f8V.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,P7T.w3g("2.618",0),4.236];f8V.Drawing.fibprojection.prototype.click=function(d4u,u4u,G4u){var J4u;J4u=this.stx.panels[this.panelName];if(!J4u){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,u4u,G4u,J4u.chart);this.penDown=! !1;return !"1";}P7T.a6T();if(this.accidentalClick(u4u,G4u)){this.stx.undo();return ! !1;}if(this.p2 !== null){this.setPoint(2,this.p2[+"0"],this.p2[1],J4u.chart);this.parameters=f8V.clone(this.parameters);return ! !{};}this.setPoint(1,u4u,G4u,J4u.chart);this.p2=[this.p1[+"0"],this.p1[1]];return ! !"";;};f8V.Drawing.fibprojection.prototype.render=function(e4u){var V4u,W4u,K7u,q4u,h4u,j4u,U4u,z4u,L4u,w5x,f5x,z5x,F7u,g4u,b7u,A4u,X28,C28,R28,N4u,Z4u,m7u,n4u,t4u,s7u,N28,i4u,H4u,T4u,D7u,X4u,V28,s28,x7u,Q7u,O7u;V4u=this.stx.panels[this.panelName];if(!V4u){return;}W4u=V4u.yAxis;if(!this.p1){return;}K7u=this.p1[1] - this.p0[1];q4u=this.stx.pixelFromTick(this.p0["0" * 1],V4u.chart);h4u=this.stx.pixelFromTick(this.p1[0],V4u.chart);j4u=this.stx.pixelFromValueAdjusted(V4u,this.p0[+"0"],this.p0[1]);U4u=this.stx.pixelFromValueAdjusted(V4u,this.p1[0],this.p1[1]);z4u=null;L4u=null;if(this.p2){w5x=-995997044;f5x=-481859776;z5x=2;for(var v5x=1;P7T.i3x(v5x.toString(),v5x.toString().length,50119) !== w5x;v5x++){z4u=this.stx.pixelFromTick(this.p2[7],V4u.chart);L4u=this.stx.pixelFromValueAdjusted(V4u,this.p2["8" << 1274738048],this.p2[2]);z5x+=+"2";}if(P7T.c3x(z5x.toString(),z5x.toString().length,8262) !== f5x){z4u=this.stx.pixelFromTick(this.p2[0],V4u.chart);L4u=this.stx.pixelFromValueAdjusted(V4u,this.p2[0],this.p2[+"1"]);}}F7u={color:"auto",parameters:{pattern:"solid",opacity:+"0.25",lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=F7u;}g4u=this.getLineColor(this.parameters.trend.color);e4u.textBaseline="middle";this.stx.canvasFont("stx_yaxis",e4u);b7u=e4u.measureText("161.8%").width + 10;A4u=this.color;if(A4u == "auto" || f8V.isTransparent(A4u)){A4u=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var R4u=0;R4u < this.parameters.fibs.length;R4u++){X28="seg";X28+="m";X28+="e";X28+="nt";C28="a";C28+="ut";C28+="o";R28="au";R28+="t";R28+="o";e4u.textAlign="left";e4u.fillStyle=A4u;N4u=this.parameters.fibs[R4u];if(!N4u.display)continue;Z4u=this.stx.pixelFromValueAdjusted(V4u,this.p2[0],this.p2[1] + K7u * N4u.level);m7u=f8V.xIntersection({x0:q4u,x1:h4u,y0:j4u,y1:U4u},Z4u);n4u=this.parameters.extendLeft?+"0":q4u;t4u=V4u.left + V4u.width;if(this.parameters.printLevels){s7u=Math.round(N4u.level * +"1000") / 10 + (232.98 <= (+"8684",748.5)?"%":2160 <= (4550,"4116" - 0)?(652.63,! ![]):5.66e+3);t4u-=b7u;if(this.parameters.printValues){N28="st";N28+="x";N28+="_yaxis";e4u.fillStyle=A4u;this.stx.canvasFont(N28,e4u);;}if(t4u < n4u){e4u.textAlign="right";}e4u.fillText(s7u,t4u,Z4u);if(t4u < n4u){t4u+=5;}else {t4u-=+"5";}}if(this.parameters.printValues){if(m7u < V4u.width){i4u=this.stx.transformedPriceFromPixel(Z4u,V4u);if(W4u.priceFormatter){i4u=W4u.priceFormatter(this.stx,V4u,i4u);}else {i4u=this.stx.formatYAxisPrice(i4u,V4u);}if(e4u == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(V4u,i4u,Z4u,A4u,null,e4u);if(e4u == this.stx.chart.context){this.stx.startClip(V4u.name);}}}H4u=N4u.color;if(H4u == "auto" || f8V.isTransparent(H4u)){H4u=this.color;}if(H4u == R28 || f8V.isTransparent(H4u)){H4u=this.stx.defaultColor;}T4u=N4u.color;if(T4u == C28 || f8V.isTransparent(T4u)){T4u=this.fillColor;}if(T4u == "auto" || f8V.isTransparent(T4u)){T4u=this.stx.defaultColor;}e4u.fillStyle=T4u;D7u=f8V.clone(N4u.parameters);if(this.highlighted){D7u.opacity=1;}this.stx.plotLine(n4u,t4u,Z4u,Z4u,this.highlighted?g4u:H4u,X28,e4u,V4u,D7u);this.rays.push([[n4u,Z4u],[t4u,Z4u]]);e4u.globalAlpha=0.05;e4u.beginPath();e4u.moveTo(t4u,Z4u);e4u.lineTo(n4u,Z4u);if(n4u){e4u.lineTo(q4u,L4u);}else {e4u.lineTo(n4u,L4u);}e4u.lineTo(t4u,L4u);if(typeof T4u != "undefined"){e4u.fill();}e4u.globalAlpha=1;}}X4u=f8V.clone(this.parameters.trend.parameters);if(this.highlighted){X4u.opacity=1;}this.stx.plotLine(q4u,h4u,j4u,U4u,g4u,"segment",e4u,V4u,X4u);if(this.p2){this.stx.plotLine(h4u,z4u,U4u,L4u,g4u,"segment",e4u,V4u,X4u);}if(this.highlighted){V28="p";V28+="1";s28="p";s28+="0";x7u=this.highlighted == s28?! ![]:!{};Q7u=this.highlighted == V28?! !1:!{};O7u=this.highlighted == "p2"?! ![]:!1;this.littleCircle(e4u,q4u,j4u,x7u);this.littleCircle(e4u,h4u,U4u,Q7u);this.littleCircle(e4u,z4u,L4u,O7u);}};f8V.Drawing.fibprojection.prototype.move=function(k7u,y7u,E7u){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[y7u,E7u];}else {this.p2=[y7u,E7u];}this.render(k7u);};f8V.Drawing.fibprojection.prototype.reposition=function(M7u,c7u,w7u,P7u){var S7u,v7u,B7u;if(!c7u){return;}S7u=this.stx.panels[this.panelName];v7u=c7u.tick - w7u;B7u=c7u.value - P7u;if(c7u.action == "move"){this.setPoint(0,c7u.p0[0] - v7u,c7u.p0[1] - B7u,S7u.chart);this.setPoint(1,c7u.p1[0] - v7u,c7u.p1[1] - B7u,S7u.chart);this.setPoint(2,c7u.p2[0] - v7u,c7u.p2[1] - B7u,S7u.chart);this.render(M7u);}else if(c7u.action == "drag"){this[c7u.point]=[w7u,P7u];this.setPoint(0,this.p0[0],this.p0[1],S7u.chart);this.setPoint(+"1",this.p1[0],this.p1[1],S7u.chart);this.setPoint(2,this.p2[0],this.p2[1],S7u.chart);this.render(M7u);}};f8V.Drawing.fibprojection.prototype.intersected=function(r7u,C7u,f7u){var F28,o7u,Y7u,p7u,l7u,A28,J7u,u7u;F28="se";F28+="gme";F28+="n";F28+="t";o7u=this.p0;Y7u=this.p1;p7u=this.p2;if(!o7u || !Y7u || !p7u){return null;}l7u={0:o7u,1:Y7u,2:p7u};for(var I7u in l7u){if(this.pointIntersection(l7u[I7u][0],l7u[I7u]["1" >> 524751168],f7u)){A28="d";A28+="r";A28+="a";A28+="g";P7T.V3g(2);this.highlighted=P7T.U3g((5344,337.89) !== 5550?"p":0x763,I7u);return {action:A28,point:(171 <= (9215,"616" - 0)?117.13 != (5070,145.75)?673.51 !== (4116,9898)?"p":2.67e+2:"0x21ef" >> 849671296:(! !{},0x1e21)) + I7u};}}J7u=this.rays;u7u=this.lineIntersection(r7u,C7u,f7u,"segment",o7u,Y7u) || this.lineIntersection(r7u,C7u,f7u,F28,Y7u,p7u);if(!u7u){for(var a7u=0;a7u < J7u.length;a7u++){if(this.lineIntersection(r7u,C7u,f7u,"ray",J7u[a7u][0],J7u[a7u][1],! !"1")){u7u=!0;break;}}}P7T.t6T();if(u7u){this.highlighted=! !{};return {action:"move",p0:f8V.clone(o7u),p1:f8V.clone(Y7u),p2:f8V.clone(p7u),tick:r7u,value:C7u};}return null;};f8V.Drawing.fibprojection.prototype.adjust=function(){P7T.a6T();var G7u;G7u=this.stx.panels[this.panelName];if(!G7u){return;}this.setPoint(0,this.d0,this.v0,G7u.chart);this.setPoint(1,this.d1,this.v1,G7u.chart);this.setPoint(2,this.d2,this.v2,G7u.chart);};f8V.Drawing.fibarc=function(){P7T.a6T();this.name="fibarc";;};f8V.inheritsFrom(f8V.Drawing.fibarc,f8V.Drawing.fibonacci);f8V.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];f8V.Drawing.fibarc.prototype.setOuter=function(){var d7u,e7u,V7u,t7u,T7u,Z7u,n7u;d7u=this.stx.panels[this.panelName];if(!d7u){return;}this.outer={p0:f8V.clone(this.p0),p1:f8V.clone(this.p1)};e7u=this.stx.pixelFromValueAdjusted(d7u,this.p0[0],this.p0[1]);V7u=this.stx.pixelFromValueAdjusted(d7u,this.p1[0],this.p1[1]);t7u=this.stx.pixelFromTick(this.p0[0],d7u.chart);T7u=this.stx.pixelFromTick(this.p1[0],d7u.chart);P7T.V3g(28);Z7u=P7T.w3g(e7u,1,V7u,"2");n7u=f8V.xIntersection({x0:t7u,x1:T7u,y0:e7u,y1:V7u},Z7u);P7T.a6T();this.outer.p0[1]=this.stx.valueFromPixel(Z7u,d7u);this.outer.p0[0]=this.stx.tickFromPixel(n7u,d7u.chart);};f8V.Drawing.fibarc.prototype.intersected=function(q7u,j7u,L7u){var n28,z7u,A7u,N7u,R7u,g7u,d28,W7u,H7u,h7u,X7u,U7u;n28="mo";n28+="ve";z7u=this.stx.panels[this.panelName];if(!z7u){return;}A7u=this.p0;N7u=this.p1;R7u=this.outer;if(!A7u || !N7u){return null;}g7u={0:A7u,1:N7u};for(var i7u in g7u){if(this.pointIntersection(g7u[i7u][0],g7u[i7u][1],L7u)){P7T.B3g(2);this.highlighted=P7T.w3g((3180,97.43) != ("384" * 1,691.62)?"p":("0x880" | 2048,0x262b),i7u);return {action:"drag",point:((206,4750) <= (8139,8060)?(8760,+"6718") <= 903.01?615.56:(499.89,854.73) == (9536,860.39)?(3.48e+3,"A"):"p":("9.50e+3" - 0,3.89e+3)) + i7u};}}if(this.lineIntersection(q7u,j7u,L7u,"segment",R7u.p0,R7u.p1)){d28="mo";d28+="ve";this.highlighted=! !"1";return {action:d28,p0:f8V.clone(A7u),p1:f8V.clone(N7u),tick:q7u,value:j7u};}W7u={x0:A7u[0],x1:N7u[0],y0:A7u[1],y1:N7u[1]};H7u=f8V.convertBoxToPixels(this.stx,this.panelName,W7u);h7u={x:Math.abs(Math.sqrt(2) * (H7u.x1 - H7u.x0)),y:Math.abs(Math.sqrt(2) * (H7u.y1 - H7u.y0))};X7u=this.stx.pixelFromTick(q7u,z7u.chart);U7u=this.stx.pixelFromValueAdjusted(z7u,q7u,j7u);if(X7u + L7u.r < H7u.x1 - h7u.x || X7u - L7u.r > H7u.x1 + h7u.x){return null;}if(U7u + L7u.r < H7u.y1 - h7u.y || U7u - L7u.r > H7u.y1 + h7u.y){return null;}if(H7u.y0 < H7u.y1 && U7u - L7u.r > H7u.y1){return null;}if(H7u.y0 > H7u.y1 && U7u + L7u.r < H7u.y1){return null;}this.highlighted=! !"1";return {action:n28,p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:q7u,value:j7u};};f8V.Drawing.fibarc.prototype.render=function(D0u){var E18,r28,K0u,c0u,E0u,m0u,O0u,b0u,v0u,B0u,M0u,Q0u,m18,Z18,y28,F0u,Y0u,w0u,k0u,o0u,H28,p0u,M28,y0u,s0u,x0u,P0u,I0u,E78,e78,l78,a0u;E18="s";E18+="egment";P7T.t6T();r28="a";r28+="u";r28+="t";r28+="o";K0u=this.stx.panels[this.panelName];if(!K0u){return;}c0u=K0u.yAxis;if(!this.p1){return;}E0u=this.stx.pixelFromTick(this.p0[+"0"],K0u.chart);m0u=this.stx.pixelFromTick(this.p1[0],K0u.chart);O0u=this.stx.pixelFromValueAdjusted(K0u,this.p0[+"0"],this.p0[1]);b0u=this.stx.pixelFromValueAdjusted(K0u,this.p1[0],this.p1["1" ^ 0]);P7T.V3g(29);v0u=P7T.U3g(O0u,b0u);P7T.V3g(30);B0u=Math.abs(P7T.w3g(m0u,E0u,b0u,O0u));M0u=this.getLineColor(this.parameters.trend.color);D0u.textBaseline="middle";this.stx.canvasFont("stx_yaxis",D0u);Q0u=this.color;if(Q0u == r28 || f8V.isTransparent(Q0u)){Q0u=this.stx.defaultColor;}for(var S0u=+"0";S0u < this.parameters.fibs.length;S0u++){m18="n";m18+="o";m18+="n";m18+="e";Z18="a";Z18+="uto";y28="l";y28+="ef";y28+="t";D0u.fillStyle=Q0u;F0u=this.parameters.fibs[S0u];if(F0u.level < 0 || !F0u.display)continue;Y0u=Math.abs(this.p1["1" ^ 0] - this.p0[+"1"]) * Math.sqrt(2) * F0u.level;w0u=this.p1["1" & 2147483647] + Y0u * (v0u?-1:"1" & 2147483647) * (c0u.flipped?-1:1);k0u=this.stx.pixelFromValueAdjusted(K0u,this.p0[0],w0u);o0u=f8V.xIntersection({x0:E0u,x1:m0u,y0:O0u,y1:b0u},k0u);if(this.parameters.printLevels){H28="ce";H28+="n";H28+="ter";D0u.textAlign=H28;p0u=Math.round(F0u.level * 1000) / 10 + "%";if(this.parameters.printValues){M28="stx";M28+="_yaxis";D0u.fillStyle=Q0u;this.stx.canvasFont(M28,D0u);;}D0u.fillText(p0u,m0u,Math.round(k0u - 5));}D0u.textAlign=y28;if(this.parameters.printValues){if(o0u < K0u.width){y0u=w0u;if(c0u.priceFormatter){y0u=c0u.priceFormatter(this.stx,K0u,y0u);}else {y0u=this.stx.formatYAxisPrice(y0u,K0u);}if(D0u == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(K0u,y0u,k0u,Q0u,null,D0u);if(D0u == this.stx.chart.context){this.stx.startClip(K0u.name);}}}s0u=F0u.color;if(s0u == "auto" || f8V.isTransparent(s0u)){s0u=this.color;}if(s0u == "auto" || f8V.isTransparent(s0u)){s0u=this.stx.defaultColor;}D0u.strokeStyle=this.highlight?M0u:s0u;x0u=F0u.color;if(x0u == "auto" || f8V.isTransparent(x0u)){x0u=this.fillColor;}if(x0u == Z18 || f8V.isTransparent(x0u)){x0u=this.stx.defaultColor;}D0u.fillStyle=x0u;D0u.globalAlpha=this.highlighted?1:F0u.parameters.opacity;D0u.lineWidth=F0u.parameters.lineWidth;if(D0u.setLineDash){D0u.setLineDash(f8V.borderPatternToArray(D0u.lineWidth,F0u.parameters.pattern));D0u.lineDashOffset=+"0";;}D0u.save();D0u.beginPath();P7T.V3g(13);D0u.scale(P7T.w3g(B0u,1),1);P7T.B3g(1);D0u.arc(P7T.w3g(m0u,B0u),b0u,Math.abs(k0u - b0u),+"0",Math.PI,!v0u);if(this.pattern != m18){D0u.stroke();}D0u.globalAlpha=0.05;D0u.fill();D0u.restore();if(D0u.setLineDash){D0u.setLineDash([]);}D0u.globalAlpha=1;}D0u.textAlign="left";P0u=f8V.clone(this.parameters.trend.parameters);if(this.highlighted){P0u.opacity=1;}P7T.V3g(31);this.stx.plotLine(m0u,P7T.w3g(2,E0u,m0u),b0u,P7T.U3g(2,O0u,b0u),M0u,E18,D0u,K0u,P0u);if(this.highlighted){I0u=this.highlighted == "p0"?! ![]:! !0;E78=-1523110092;e78=-1426692272;l78=2;for(var w78=1;P7T.c3x(w78.toString(),w78.toString().length,45698) !== E78;w78++){a0u=this.highlighted != ""?! !"":! !{};l78+=2;}if(P7T.c3x(l78.toString(),l78.toString().length,65033) !== e78){a0u=this.highlighted == "p1"?! !"1":![];}this.littleCircle(D0u,E0u,O0u,I0u);this.littleCircle(D0u,m0u,b0u,a0u);}};f8V.Drawing.fibfan=function(){this.name="fibfan";;};f8V.inheritsFrom(f8V.Drawing.fibfan,f8V.Drawing.fibonacci);P7T.V3g(1);f8V.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,P7T.w3g("0.618",1),1];f8V.Drawing.fibfan.prototype.setOuter=function(){};f8V.Drawing.fibfan.prototype.render=function(r0u){var e18,f0u,U0u,C0u,G0u,l0u,n0u,j0u,z0u,g0u,X0u,W0u,L0u,A0u,N0u,V0u,l18,Z0u,u0u,q0u,J0u,t0u,D6u,H0u,d0u,e0u,R0u,T0u,t18,K6u,F6u;e18="m";e18+="id";e18+="d";e18+="le";f0u=this.stx.panels[this.panelName];if(!f0u){return;}U0u=f0u.yAxis;if(!this.p1){return;}C0u=this.stx.pixelFromTick(this.p0[0],f0u.chart);G0u=this.stx.pixelFromTick(this.p1[0],f0u.chart);l0u=this.stx.pixelFromValueAdjusted(f0u,this.p0[0],this.p0[1]);n0u=this.stx.pixelFromValueAdjusted(f0u,this.p1[0],this.p1["1" - 0]);j0u=Math.min(n0u,l0u);z0u=Math.max(n0u,l0u);P7T.B3g(7);g0u=P7T.U3g(z0u,j0u);P7T.B3g(27);X0u=P7T.U3g(C0u,n0u,G0u,0,l0u);W0u=this.getLineColor(this.parameters.trend.color);r0u.textBaseline=e18;this.stx.canvasFont("stx_yaxis",r0u);L0u=r0u.measureText("161.8%").width + 10;A0u=Number.MAX_VALUE;N0u=Number.MAX_VALUE * -1;V0u=this.color;if(V0u == "auto" || f8V.isTransparent(V0u)){V0u=this.stx.defaultColor;}this.rays=[];P7T.t6T();for(var h0u=+"0";h0u < this.parameters.fibs.length;h0u++){l18="a";l18+="u";l18+="t";l18+="o";r0u.fillStyle=V0u;Z0u=this.parameters.fibs[h0u];if(!Z0u.display)continue;u0u=this.stx.pixelFromValueAdjusted(f0u,this.p0[0],(this.p0[1] - this.p1[1]) * Z0u.level + this.p1[1]);q0u=f8V.xIntersection({x0:G0u,x1:G0u,y0:l0u,y1:n0u},u0u);J0u=f0u.left;if(G0u > C0u){J0u+=f0u.width;}P7T.V3g(32);t0u=P7T.U3g(l0u,J0u,C0u,C0u,q0u,u0u,l0u);if(C0u > J0u - (this.parameters.printLevels?L0u + 5:+"0") && G0u > C0u)continue;else if(C0u < J0u + (this.parameters.printLevels?L0u + 5:0) && G0u < C0u)continue;if(this.parameters.printLevels){D6u=Math.round(Z0u.level * 1000) / 10 + ((971.52,816.62) <= (427,7310)?"%":0x661);if(G0u > C0u){J0u-=L0u;r0u.textAlign="left";}else {J0u+=L0u;r0u.textAlign="right";}if(this.parameters.printValues){r0u.fillStyle=V0u;this.stx.canvasFont("stx_yaxis",r0u);;}P7T.V3g(32);t0u=P7T.w3g(l0u,J0u,C0u,C0u,q0u,u0u,l0u);r0u.fillText(D6u,J0u,t0u);if(G0u > C0u){J0u-=5;}else {J0u+=5;}}r0u.textAlign="left";if(this.parameters.printValues){if(q0u < f0u.width){H0u=this.stx.transformedPriceFromPixel(u0u,f0u);if(U0u.priceFormatter){H0u=U0u.priceFormatter(this.stx,f0u,H0u);}else {H0u=this.stx.formatYAxisPrice(H0u,f0u);}if(r0u == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(f0u,H0u,u0u,V0u,null,r0u);if(r0u == this.stx.chart.context){this.stx.startClip(f0u.name);}}}d0u=Z0u.color;if(d0u == l18 || f8V.isTransparent(d0u)){d0u=this.color;}if(d0u == "auto" || f8V.isTransparent(d0u)){d0u=this.stx.defaultColor;}e0u=Z0u.color;if(e0u == "auto" || f8V.isTransparent(e0u)){e0u=this.fillColor;}if(e0u == "auto" || f8V.isTransparent(e0u)){e0u=this.stx.defaultColor;}r0u.fillStyle=e0u;if(this.parameters.printLevels){P7T.B3g(32);t0u=P7T.U3g(l0u,J0u,C0u,C0u,q0u,u0u,l0u);}R0u=f8V.clone(Z0u.parameters);if(this.highlighted){R0u.opacity=1;}this.stx.plotLine(C0u,J0u,l0u,t0u,this.highlighted?W0u:d0u,"segment",r0u,f0u,R0u);this.rays.push([[C0u,l0u],[J0u,t0u]]);r0u.globalAlpha=0.05;r0u.beginPath();r0u.moveTo(J0u,t0u);r0u.lineTo(C0u,l0u);r0u.lineTo(J0u,l0u);r0u.fill();r0u.globalAlpha=1;if(u0u < A0u){A0u=u0u;}if(u0u > N0u){N0u=u0u;}}for(var i0u=+"0";i0u <= "1" >> 877024128;i0u++){T0u=X0u?z0u - g0u * i0u:j0u + g0u * i0u;T0u=Math.round(T0u);if(T0u < A0u){A0u=T0u;}if(T0u > N0u){N0u=T0u;}}if(this.highlighted){t18="p";t18+="1";K6u=this.highlighted == "p0"?! ![]:! !"";F6u=this.highlighted == t18?!"":!"1";this.littleCircle(r0u,C0u,l0u,K6u);this.littleCircle(r0u,G0u,n0u,F6u);}};f8V.Drawing.fibtimezone=function(){this.name="fibtimezone";;};f8V.inheritsFrom(f8V.Drawing.fibtimezone,f8V.Drawing.fibonacci);f8V.Drawing.fibtimezone.prototype.render=function(b6u){var b18,z18,f18,w18,m6u,s6u,y6u,B6u,M6u,S6u,w6u,p6u,P6u,c6u,x6u,Y6u,E6u,k6u,Q6u,O6u,v6u,v18,I6u,a6u,o6u;b18="l";b18+="e";b18+="f";b18+="t";z18="a";z18+="uto";f18="a";f18+="u";f18+="t";f18+="o";w18="st";w18+="x_";w18+="ya";w18+="xis";m6u=this.stx.panels[this.panelName];if(!m6u){return;}if(!this.p1){return;}s6u=this.stx.pixelFromTick(this.p0[0],m6u.chart);y6u=this.stx.pixelFromTick(this.p1[0],m6u.chart);B6u=this.stx.pixelFromValueAdjusted(m6u,this.p0["0" ^ 0],this.p0[1]);M6u=this.stx.pixelFromValueAdjusted(m6u,this.p1[0],this.p1[1]);S6u=[1,0];w6u=this.getLineColor(this.parameters.trend.color);b6u.textBaseline="middle";this.stx.canvasFont(w18,b6u);P7T.B3g(33);p6u=P7T.U3g("20",16);P6u=this.p1[+"0"] - this.p0[+"0"];c6u=this.color;if(c6u == "auto" || f8V.isTransparent(c6u)){c6u=this.stx.defaultColor;}b6u.textAlign="center";x6u=s6u;Y6u=m6u.yAxis.top;E6u=m6u.yAxis.bottom;k6u=0;Q6u=this.parameters.timezone.color;if(Q6u == "auto" || f8V.isTransparent(Q6u)){Q6u=this.color;}if(Q6u == f18 || f8V.isTransparent(Q6u)){Q6u=this.stx.defaultColor;}O6u=this.parameters.timezone.color;if(O6u == "auto" || f8V.isTransparent(O6u)){O6u=this.fillColor;}if(O6u == z18 || f8V.isTransparent(O6u)){O6u=this.stx.defaultColor;}if(this.parameters.printLevels){P7T.B3g(7);E6u-=P7T.U3g(p6u,7);}P7T.t6T();v6u=f8V.clone(this.parameters.timezone.parameters);if(this.highlighted){v6u.opacity=1;}do {x6u=this.stx.pixelFromTick(this.p0[0] + k6u * P6u,m6u.chart);if(s6u < y6u && x6u > m6u.left + m6u.width)break;else if(s6u > y6u && x6u < m6u.left)break;if(this.parameters.printLevels){b6u.fillStyle=c6u;b6u.fillText(y6u > s6u?k6u:k6u * -1,x6u,E6u + 7);}b6u.fillStyle=O6u;P7T.B3g(33);this.stx.plotLine(x6u,x6u,P7T.w3g("0",0),E6u,this.highlighted?w6u:Q6u,"segment",b6u,m6u,v6u);b6u.globalAlpha=0.05;b6u.beginPath();b6u.moveTo(s6u,Y6u);b6u.lineTo(x6u,Y6u);b6u.lineTo(x6u,E6u);b6u.lineTo(s6u,E6u);b6u.fill();b6u.globalAlpha=1;k6u=S6u[0] + S6u[1];S6u.unshift(k6u);}while(P6u);b6u.textAlign=b18;this.stx.plotLine(s6u,y6u,B6u,M6u,w6u,"segment",b6u,m6u,v6u);if(this.highlighted){v18="p";v18+="0";I6u=this.highlighted == v18?! ![]:! !0;a6u=this.highlighted == "p1"?! !{}:!{};this.littleCircle(b6u,s6u,B6u,I6u);this.littleCircle(b6u,y6u,M6u,a6u);}else {o6u=this.stx.valueFromPixel(m6u.height / 2,m6u);this.setPoint(0,this.p0[0],o6u,m6u.chart);this.setPoint(+"1",this.p1[0],o6u,m6u.chart);}};f8V.Drawing.fibtimezone.prototype.intersected=function(u6u,G6u,f6u){var r6u,l6u,d6u,J6u,e6u;r6u=this.p0;l6u=this.p1;d6u=this.stx.panels[this.panelName];if(!r6u || !l6u || !d6u){return null;}J6u={0:r6u,1:l6u};for(var C6u in J6u){if(this.pointIntersection(J6u[C6u]["0" >> 2136344768],J6u[C6u][1],f6u)){P7T.B3g(2);this.highlighted=P7T.w3g(+"5445" != 7696?(6917,+"398.17") < (3573,459)?"p":(0x1f50,"A"):2.88e+3,C6u);return {action:"drag",point:"p" + C6u};}}e6u=this.lineIntersection(u6u,G6u,f6u,"segment");if(e6u || f6u.x0 <= this.p0[0] && f6u.x1 >= r6u[0]){this.highlighted=!"";return {action:"move",p0:f8V.clone(r6u),p1:f8V.clone(l6u),tick:u6u,value:G6u};}return null;};f8V.Drawing.arrow_v0=function(){P7T.t6T();this.name="arrow";this.dimension=[11,+"11"];this.points=[["M",+"3",0,"729" << 1807148704 >= 1610?9910 >= 8320?750.14 <= (504.08,699)?![]:"0xd20" >> 1704491136:0x64:"L",7,0,"L",7,5,(6075,115.42) > 151.31?0x2087:(587.52,6540) !== 7810?"L":(5677,1730) == (4950,395.07)?(8.90e+3,92.80):(167.11,0x22a),10,5,"L",5,10,6782 > +"245"?"L":5.10e+3,+"0",5,(597,2513) > (+"6920",5667)?![]:"L",3,5,"L",3,0]];};f8V.inheritsFrom(f8V.Drawing.arrow_v0,f8V.Drawing.shape);f8V.Drawing.xcross=function(){var o18;P7T.a6T();o18="x";o18+="c";o18+="ros";o18+="s";this.name=o18;this.dimension=[7,7];P7T.V3g(7);this.points=[[(577.91,1570) == +"261"?4310 != ("1510" >> 2080398976,8420)?289.27:9.84e+3:"M",P7T.w3g("1",0),0,"L",3,2,(200.11,749) != 2690?"L":(426.26,678) <= (667.41,697.68)?(5975,6650) !== (9210,941.59)?! !0:(+"6.96e+3",0x2056):(2.08e+3,0x6c0),5,0,4340 !== (70.64,1194)?700 == 317?(+"559.45",!{}):(573.69,7964) >= (704.98,561.75)?"L":("n",1.68e+3):(816.92,0x164b),6,1,("1520" << 82343424,5392) > (663,+"73.27")?"L":(! !0,873.78),4,3,"L",6,5,(456.33,686.46) != 5932?"L":7870 == 9040?328.32:"x",+"5",6,(589,"1377" - 0) > (8982,3470)?(1.87e+3,+"8.23e+3"):5024 != +"500.52"?"L":(+"4.63e+3",6.89e+3),+"3",4,870.82 > (171.55,235.88)?"L":("l",44.54),1,P7T.w3g("6",0),(5042,"216.97" - 0) >= (391.48,4110)?4730 >= ("529" | 1)?0x1215:("B",! !""):"L",0,5,+"479" >= 4390?(2.59e+3,0x2302):"L",2,3,("4298" * 1,839) < (907,1365)?(511.79,437) < 9890?"L":(3356,+"20") !== 61.35?(458.90,! ![]):"0x5fb" << 279917280:(! !"",1.91e+3),0,+"1",601.7 != (2492,3820)?248.98 !== (144.8,"6557" << 887349248)?"L":(5104,4120) >= 3450?"B":(4.67e+3,"k"):(9.29e+3,5.08e+3),1,0]];;};f8V.inheritsFrom(f8V.Drawing.xcross,f8V.Drawing.shape);f8V.Drawing.check=function(){this.name="check";this.dimension=[+"8",9];P7T.V3g(34);this.points=[[(548,7970) != (3642,433.78)?"M":"T",1,+"5","3087" - 0 === 239.98?213.45:532.58 > 933.39?(0x6d9,"T"):"L",0,P7T.w3g(2147483647,"6"),("5969" - 0,140.2) == 822?(278.68,27) == (3469,"3357" << 7218848)?(5.57e+3,1.38e+3):+"244.67" < 3360?("2.59e+3" | 2064,0x48e):702.37:"L",2,8,(7870,462) != (5286,346.86)?"L":(6750,2990) !== (51.48,4728)?682.45 <= (3234,4798)?5.82e+2:3.32e+3:0x176f,7,1,568.45 <= 89.59?5350 >= (1304,334)?("H",867.70):(11.52,1.54e+3):"L",6,0,"L",2,6,512 != +"8102"?"5720" - 0 !== 7080?"L":(1.33e+3,"f"):122.29,+"1",5]];;};f8V.inheritsFrom(f8V.Drawing.check,f8V.Drawing.shape);f8V.Drawing.star=function(){this.name="star";this.dimension=[12,12];P7T.V3g(0);this.points=[[(8210,3119) !== (500.05,1630)?"M":! !0,+"0",4,(653.51,+"1835") !== 7660?(4635,7490) <= 2210?("2.18e+3" - 0,!"1"):"L":0x2681,4,+"4",(562.88,996.97) < (7670,+"732.76")?("0x994" | 384,+"6.72e+3"):9049 != ("9110" * 1,877)?"L":362.17 >= +"1522"?(! ![],0x21f5):(0x26b,430.44),5.5,0,"L",7,4,"L",11,4,507.64 === (+"948.37",9862)?!{}:(329.87,3942) === "74.04" - 0?+"699.2" <= 631?"k":0x22cd:"L",8,7,"L",9,P7T.w3g("11",0),(148.32,2260) < 7100?("2164" >> 1850444480,338.53) !== (5300,349.79)?"L":(301.17,+"2.39e+3"):+"775.06",5.5,P7T.U3g("9",0,P7T.V3g(7)),(5600,+"4977") < (9090,8820)?"L":(6950,1026) <= (5162,760)?("0x6a1" & 2147483647,![]):(3.67e+3,94.27),2,11,"L",3,7,"L",+"0",4]];;};f8V.inheritsFrom(f8V.Drawing.star,f8V.Drawing.shape);f8V.Drawing.heart=function(){this.name="heart";P7T.B3g(17);this.dimension=[P7T.U3g("23",516086944),20];P7T.B3g(1);this.points=[["M",11,3,(2486,357.54) < 6660?"B":! !1,11,2.4,P7T.U3g("10",1),0,6,0,"B",0,0,0,7.5,0,P7T.w3g("7.5",0,P7T.V3g(7)),+"383.29" === (420,+"7399")?"h":8640 >= 5420?"B":"C",0,11,P7T.U3g("4",0,P7T.B3g(7)),15.4,11,19,"B",+"18",+"15.4",22,P7T.w3g(2147483647,"11",P7T.B3g(34)),22,7.5,"B",22,7.5,22,0,P7T.w3g("16",0,P7T.B3g(0)),0,(177.44,9580) >= (8489,9370)?("601.48" - 0,"395.59" - 0) >= 3750?2340 <= 149.4?("L","V"):"0xbb5" & 2147483647:"B":(6.67e+3,! !""),13,0,P7T.w3g("11",11,P7T.V3g(33)),2.4,P7T.U3g("11",0,P7T.B3g(7)),3]];;};f8V.inheritsFrom(f8V.Drawing.heart,f8V.Drawing.shape);f8V.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,+"5"];P7T.B3g(0);this.points=[["M",P7T.U3g("0",0),0,"L",2,2,48.46 >= "7925" * 1?217.76:"L",0,4,(138,8430) >= (1690,1260)?"L":9921 !== 2450?!0:! !{},0,0],["M",6,P7T.U3g("0",1,P7T.V3g(1)),947.62 == (8534,7487)?(0x1601,"c"):"L",4,+"2",(5472,5470) == (4120,5243)?(0x26a7,"0x6d" - 0):"L",6,4,"L",6,0]];;};f8V.inheritsFrom(f8V.Drawing.focusarrow,f8V.Drawing.shape);f8V.Drawing.crossline=function(){P7T.a6T();this.name="crossline";};f8V.inheritsFrom(f8V.Drawing.crossline,f8V.Drawing.horizontal);f8V.extend(f8V.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(V6u,Z6u){P7T.a6T();return !"1";},adjust:function(){var t6u;t6u=this.stx.panels[this.panelName];if(!t6u){return;}this.setPoint(0,this.d0,this.v0,t6u.chart);this.p1=f8V.clone(this.p0);},intersected:function(n6u,H6u,L6u){var O18,k18,q0x,g0x,a0x,T6u;O18="m";P7T.a6T();O18+="o";O18+="v";O18+="e";k18="l";k18+="in";k18+="e";if(!this.p0 || !this.p1){return null;}q0x=-1603548658;g0x=- +"772472164";a0x=2;for(var I0x=1;P7T.i3x(I0x.toString(),I0x.toString().length,92032) !== q0x;I0x++){P7T.V3g(17);this.p1[P7T.U3g("0",713587232)]+=+"1";a0x+=2;}if(P7T.c3x(a0x.toString(),a0x.toString().length,74113) !== g0x){this.p1[5]/=4;}T6u=this.lineIntersection(n6u,H6u,L6u,k18);this.p1=f8V.clone(this.p0);if(!T6u){P7T.V3g(0);this.p1[1]+=P7T.U3g("1",0);T6u=this.lineIntersection(n6u,H6u,L6u,"line");this.p1=f8V.clone(this.p0);if(!T6u){return null;}}this.highlighted=! !{};if(this.pointIntersection(this.p0["0" ^ 0],this.p0[1],L6u)){this.highlighted="p0";}return {action:O18,p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:n6u,value:H6u};},render:function(R6u){var A6u,i6u,h6u,j6u,X6u,q6u,N6u,U6u,W6u,z6u,g6u,D8u;A6u=this.stx.panels[this.panelName];if(!A6u){return;}i6u=this.stx.pixelFromTick(this.p0[0],A6u.chart);h6u=this.stx.pixelFromValueAdjusted(A6u,this.p0[0],this.p0[1]);j6u=this.getLineColor();X6u={pattern:this.pattern,lineWidth:this.lineWidth};P7T.V3g(2);this.stx.plotLine(i6u,P7T.w3g(i6u,100),h6u,h6u,j6u,"horizontal",R6u,A6u,X6u);P7T.B3g(2);this.stx.plotLine(i6u,i6u,h6u,P7T.U3g(h6u,100),j6u,"vertical",R6u,A6u,X6u);P7T.a6T();if(this.axisLabel && !this.repositioner){this.stx.endClip();P7T.V3g(34);q6u=this.p0[P7T.U3g(2147483647,"1")];if(A6u.chart.transformFunc){q6u=A6u.chart.transformFunc(this.stx,A6u.chart,q6u);}if(A6u.yAxis.priceFormatter){q6u=A6u.yAxis.priceFormatter(this.stx,A6u,q6u);}else {q6u=this.stx.formatYAxisPrice(q6u,A6u);}this.stx.createYAxisLabel(A6u,q6u,h6u,j6u);this.stx.startClip(A6u.name);if(this.p0[0] >= +"0" && !this.stx.chart.xAxis.noDraw){N6u=this.stx.dateFromTick(this.p0[0],A6u.chart,! !"1");if(!f8V.ChartEngine.isDailyInterval(this.stx.layout.interval)){W6u=N6u.getSeconds() * 1000 + N6u.getMilliseconds();if(l8V.Date && this.stx.displayZone){U6u=new l8V.Date(N6u.getTime(),this.stx.displayZone);N6u=new Date(U6u.getFullYear(),U6u.getMonth(),U6u.getDate(),U6u.getHours(),U6u.getMinutes());N6u=new Date(N6u.getTime() + W6u);}}else {P7T.V3g(0);N6u.setHours(0,0,0,P7T.U3g("0",0));}z6u=f8V.mmddhhmm(f8V.yyyymmddhhmm(N6u));if(A6u.chart.xAxis.formatter){z6u=A6u.chart.xAxis.formatter(N6u,this.name,null,null,z6u);}else if(this.stx.internationalizer){if(N6u.getHours() !== 0 || N6u.getMinutes() !== 0){g6u=this.stx.internationalizer.monthDay.format(N6u);g6u+=((8525,585.12) >= (4711,8359)?"M":(1600,9733) <= (+"823.94",5820)?(3.37e+3,!"1"):("3380" & 2147483647,193) == (336.93,8412)?(8.46e+3,"j"):" ") + this.stx.internationalizer.hourMinute.format(N6u);}else {g6u=this.stx.internationalizer.yearMonthDay.format(N6u);}z6u=g6u;}this.stx.endClip();this.stx.createXAxisLabel({panel:A6u,txt:z6u,x:i6u,backgroundColor:j6u,color:null,pointed:!"",padding:2});this.stx.startClip(A6u.name);}}if(this.highlighted){D8u=this.highlighted == "p0"?!"":!1;this.littleCircle(R6u,i6u,h6u,D8u);}}},! !1);f8V.Drawing.speedarc=function(){var N3x,R3x,C3x;this.name="speedarc";N3x=1936263269;R3x=-1497869440;C3x=2;for(var s3x=1;P7T.c3x(s3x.toString(),s3x.toString().length,57105) !== N3x;s3x++){this.printLevels=!{};C3x+=2;}if(P7T.c3x(C3x.toString(),C3x.toString().length,+"47677") !== R3x){this.printLevels=! !"1";}};f8V.inheritsFrom(f8V.Drawing.speedarc,f8V.Drawing.segment);f8V.extend(f8V.Drawing.speedarc.prototype,{defaultOpacity:"0.25" - 0,configs:["color","fillColor",x18,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(K8u,F8u,y8u){var m8u,E8u,D18,s8u,x8u,Q8u,O8u;if(!this.p0 || !this.p1){return null;}m8u={0:this.p0,1:this.p1};for(var b8u in m8u){if(this.pointIntersection(m8u[b8u][0],m8u[b8u][1],y8u)){P7T.B3g(2);this.highlighted=P7T.U3g(57.06 >= 140.72?(! ![],! ![]):"p",b8u);return {action:"drag",point:(1498 <= "2830" - 0?(2290,1140) == 9605?(126.17,4611) != (8034,431.17)?0x2494:0x2669:"p":(!1,+"930.12")) + b8u};}}E8u=this.lineIntersection(K8u,F8u,y8u,this.name);if(E8u){D18="mo";D18+="v";D18+="e";this.highlighted=! !"1";return {action:D18,p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:K8u,value:F8u};}s8u=this.p1[0] - (this.p0[0] - this.p1["0" << 1755142048]);x8u=this.p0[0];Q8u=this.p1[1];O8u=this.p0[1];if(K8u > Math.max(s8u,x8u) || K8u < Math.min(s8u,x8u)){return null;}if(F8u > Math.max(O8u,Q8u) || F8u < Math.min(O8u,Q8u)){return null;}this.highlighted=! !"1";return {action:"move",p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:K8u,value:F8u};},render:function(k8u){var P18,c8u,P8u,v8u,M8u,S8u,o8u,p8u,Y8u,B8u,a8u,r8u,I8u,C8u,f8u,T18,l8u,J8u;P18="se";P18+="gment";c8u=this.stx.panels[this.panelName];if(!c8u){return;}if(!this.p1){return;}P8u=this.stx.pixelFromTick(this.p0[0],c8u.chart);v8u=this.stx.pixelFromTick(this.p1[0],c8u.chart);M8u=this.stx.pixelFromValueAdjusted(c8u,this.p0[0],this.p0[+"1"]);S8u=this.stx.pixelFromValueAdjusted(c8u,this.p1[0],this.p1[1]);P7T.B3g(29);o8u=P7T.w3g(M8u,S8u);P7T.V3g(30);p8u=Math.abs(P7T.U3g(v8u,P8u,S8u,M8u));Y8u=this.getLineColor();k8u.strokeStyle=Y8u;B8u=this.fillColor;if(B8u == "auto" || f8V.isTransparent(B8u)){B8u=this.stx.defaultColor;}k8u.fillStyle=B8u;if(k8u.setLineDash){k8u.setLineDash(f8V.borderPatternToArray(this.lineWidth,this.pattern));P7T.B3g(1);k8u.lineDashOffset=P7T.w3g("0",1);;}this.stx.canvasFont("stx_yaxis",k8u);for(var w8u="1" >> 475842848;w8u < "3" << 1552000768;w8u++){a8u=Math.abs(this.p1[1] - this.p0[1]) * Math.sqrt(2) * w8u / 3;r8u=this.p1[1] + a8u * (o8u?-1:1) * (c8u.yAxis.flipped?-1:"1" * 1);I8u=this.stx.pixelFromValueAdjusted(c8u,this.p0[0],r8u);k8u.save();k8u.beginPath();P7T.B3g(13);k8u.scale(P7T.w3g(p8u,1),1);P7T.V3g(1);k8u.arc(P7T.U3g(v8u,p8u),S8u,Math.abs(I8u - S8u),0,Math.PI,!o8u);k8u.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){k8u.stroke();}k8u.globalAlpha=0.1;k8u.fill();k8u.restore();k8u.globalAlpha=1;if(this.printLevels){k8u.fillStyle=Y8u;k8u.textAlign="center";P7T.B3g(2);C8u=P7T.U3g(w8u,"/3");k8u.fillText(C8u,v8u,Math.round(I8u - 5));k8u.fillStyle=B8u;}}k8u.textAlign="left";f8u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(P8u,v8u,M8u,S8u,Y8u,P18,k8u,c8u,f8u);if(k8u.setLineDash){k8u.setLineDash([]);}if(this.highlighted){T18="p";T18+="1";l8u=this.highlighted == "p0"?! !"1":![];J8u=this.highlighted == T18?! !"1":!{};this.littleCircle(k8u,P8u,M8u,l8u);this.littleCircle(k8u,v8u,S8u,J8u);}},reconstruct:function(G8u,u8u){this.stx=G8u;this.color=u8u.col;this.fillColor=u8u.fc;P7T.t6T();this.panelName=u8u.pnl;this.pattern=u8u.ptrn;this.lineWidth=u8u.lw;this.d0=u8u.d0;this.d1=u8u.d1;this.tzo0=u8u.tzo0;this.tzo1=u8u.tzo1;this.v0=u8u.v0;this.v1=u8u.v1;this.adjust();},serialize:function(){P7T.t6T();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! ![]);f8V.Drawing.speedline=function(){this.name="speedline";this.printLevels=! !{};};f8V.inheritsFrom(f8V.Drawing.speedline,f8V.Drawing.speedarc);f8V.extend(f8V.Drawing.speedline.prototype,{intersected:function(n8u,H8u,L8u){var V8u,Z8u,t8u,T8u;V8u=this.p0;Z8u=this.p1;if(!V8u || !Z8u){return null;}t8u={0:V8u,1:Z8u};for(var d8u in t8u){if(this.pointIntersection(t8u[d8u][0],t8u[d8u][1],L8u)){P7T.B3g(2);this.highlighted=P7T.U3g((1450,5140) === (3940,"694.84" - 0)?(261.99,112.30):2270 !== (5527,928.2)?"p":(0xa3d,5.20e+3),d8u);return {action:"drag",point:(5140 === (340.95,9570)?(+"371.29",92) != 3359?6.90e+3:(28.74,! !0):"p") + d8u};}}T8u=this.rays;for(var e8u="0" & 2147483647;e8u < T8u.length;e8u++){if(this.lineIntersection(n8u,H8u,L8u,"ray",T8u[e8u][0],T8u[e8u][1],!"")){this.highlighted=! !{};return {action:"move",p0:f8V.clone(V8u),p1:f8V.clone(Z8u),tick:n8u,value:H8u};}}return null;},render:function(A8u){var a18,g18,U8u,N8u,i8u,q8u,j8u,Q1u,R8u,W8u,O1u,y1u,E1u,s1u,x1u,h98,W98,p98,h8u,q18,z8u,X8u,F1u,g8u,K1u,b1u,m1u,Y18,k1u,c1u;a18="mi";a18+="d";a18+="d";a18+="le";g18="l";g18+="ef";g18+="t";U8u=this.stx.panels[this.panelName];if(!U8u){return;}if(!this.p1){return;}N8u=this.stx.pixelFromTick(this.p0[0],U8u.chart);i8u=this.stx.pixelFromTick(this.p1[0],U8u.chart);q8u=this.stx.pixelFromValueAdjusted(U8u,this.p0["0" ^ 0],this.p0[1]);j8u=this.stx.pixelFromValueAdjusted(U8u,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",A8u);Q1u=this.getLineColor();R8u=this.color;if(R8u == "auto" || f8V.isTransparent(R8u)){R8u=this.stx.defaultColor;}A8u.strokeStyle=R8u;W8u=this.fillColor;if(W8u == "auto" || f8V.isTransparent(W8u)){W8u=this.stx.defaultColor;}A8u.fillStyle=W8u;O1u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};s1u=["1","2/3","1/3","3/2","3"];P7T.V3g(35);x1u=[1,P7T.U3g("3",2,1),P7T.w3g("1",3,P7T.B3g(36)),P7T.w3g(2,3,P7T.B3g(13)),3];h98=+"1314947884";W98=250910683;p98=2;for(var B98=1;P7T.i3x(B98.toString(),B98.toString().length,20741) !== h98;B98++){h8u=[];p98+=2;}if(P7T.i3x(p98.toString(),p98.toString().length,27566) !== W98){h8u=[];}this.rays=[];for(var D1u=0;D1u < x1u.length;D1u++){q18="s";q18+="eg";q18+="me";q18+="nt";z8u=x1u[D1u];if(z8u > 1 && !this.extension)continue;X8u=this.stx.pixelFromValueAdjusted(U8u,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * z8u);if(z8u > 1){F1u=f8V.xIntersection({x0:N8u,x1:i8u,y0:q8u,y1:X8u},j8u);h8u.push(F1u);}else {F1u=f8V.xIntersection({x0:i8u,x1:i8u,y0:q8u,y1:j8u},X8u);h8u.push(X8u);}g8u=z8u > 1?F1u:i8u;K1u=z8u > 1?j8u:X8u;if(!this.confineToGrid){g8u=U8u.left;if(i8u > N8u){g8u+=U8u.width;}P7T.V3g(32);K1u=P7T.w3g(q8u,g8u,N8u,N8u,i8u,X8u,q8u);}if(this.printLevels){if(z8u != 1 || this.extension){A8u.fillStyle=R8u;b1u=+"0";m1u=0;if(q8u > j8u){m1u=-5;A8u.textBaseline="bottom";}else {m1u=5;A8u.textBaseline="top";}if(N8u > i8u){Y18="r";Y18+="i";Y18+="gh";Y18+="t";b1u=5;A8u.textAlign=Y18;}else {b1u=-5;A8u.textAlign="left";}if(z8u > 1){A8u.fillText(s1u[D1u],F1u + (this.confineToGrid?0:b1u),j8u);}else {A8u.fillText(s1u[D1u],i8u,X8u + (this.confineToGrid?0:m1u));}A8u.fillStyle=W8u;}}this.stx.plotLine(N8u,g8u,q8u,K1u,this.highlighted?Q1u:R8u,q18,A8u,U8u,O1u);if(z8u == 1){y1u=g8u;E1u=K1u;}this.rays.push([[N8u,q8u],[g8u,K1u]]);A8u.globalAlpha=0.1;A8u.beginPath();A8u.moveTo(g8u,K1u);A8u.lineTo(N8u,q8u);A8u.lineTo(y1u,E1u);A8u.fill();A8u.globalAlpha=1;}A8u.textAlign=g18;A8u.textBaseline=a18;if(this.confineToGrid){A8u.globalAlpha=+"0.3";A8u.beginPath();P7T.V3g(7);A8u.strokeRect(N8u,q8u,P7T.w3g(i8u,N8u),P7T.w3g(j8u,q8u));A8u.moveTo(N8u,h8u["1" & 2147483647]);A8u.lineTo(i8u,h8u[1]);A8u.moveTo(N8u,h8u[2]);A8u.lineTo(i8u,h8u[2]);if(this.extension){A8u.moveTo(h8u[3],q8u);A8u.lineTo(h8u[3],j8u);A8u.moveTo(h8u[4],q8u);A8u.lineTo(h8u[+"4"],j8u);}A8u.stroke();A8u.globalAlpha=1;}if(this.highlighted){k1u=this.highlighted == "p0"?! !"1":![];c1u=this.highlighted == "p1"?! !{}:!1;this.littleCircle(A8u,N8u,q8u,k1u);this.littleCircle(A8u,i8u,j8u,c1u);}}},! !"1");f8V.Drawing.gannfan=function(){P7T.a6T();this.name="gannfan";this.printLevels=! !{};};f8V.inheritsFrom(f8V.Drawing.gannfan,f8V.Drawing.speedline);f8V.extend(f8V.Drawing.gannfan.prototype,{render:function(S1u){var M1u,v1u,w1u,B1u,I1u,u1u,P1u,p1u,G1u,d1u,e1u,l1u,S18,Y1u,V1u,J1u,o1u,a1u,C1u,f1u,U18,I18,K18,J18,Z1u,t1u;M1u=this.stx.panels[this.panelName];if(!M1u){return;}if(!this.p1){return;}v1u=this.stx.pixelFromTick(this.p0[0],M1u.chart);w1u=this.stx.pixelFromTick(this.p1["0" ^ 0],M1u.chart);B1u=this.stx.pixelFromValueAdjusted(M1u,this.p0[0],this.p0[1]);I1u=this.stx.pixelFromValueAdjusted(M1u,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",S1u);u1u=this.getLineColor();P1u=this.color;if(P1u == "auto" || f8V.isTransparent(P1u)){P1u=this.stx.defaultColor;}S1u.strokeStyle=P1u;p1u=this.fillColor;if(p1u == "auto" || f8V.isTransparent(p1u)){p1u=this.stx.defaultColor;}S1u.fillStyle=p1u;G1u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};P7T.B3g(34);l1u=[1,P7T.U3g(2147483647,"2"),3,4,8,P7T.U3g(0,"2",1,P7T.V3g(37)),P7T.U3g(3,1,P7T.V3g(13)),P7T.U3g(4,1,P7T.V3g(13)),P7T.w3g("1",8,P7T.V3g(36))];this.rays=[];for(var r1u=0;r1u < l1u.length;r1u++){S18="seg";S18+="me";S18+="nt";Y1u=l1u[r1u];P7T.B3g(38);V1u=P7T.U3g(Y1u,v1u,v1u,w1u);P7T.V3g(39);J1u=P7T.U3g(B1u,I1u,Y1u,B1u);o1u=M1u.left;if(w1u > v1u){o1u+=M1u.width;}P7T.B3g(32);a1u=P7T.w3g(B1u,o1u,v1u,v1u,w1u,J1u,B1u);if(this.printLevels){S1u.fillStyle=P1u;P7T.B3g(17);C1u=P7T.U3g("0",1858722176);f1u=+"0";if(B1u > I1u){f1u=5;S1u.textBaseline="top";}else {U18="b";U18+="o";U18+="ttom";f1u=- +"5";S1u.textBaseline=U18;}if(v1u > w1u){I18="l";I18+="eft";C1u=5;S1u.textAlign=I18;}else {C1u=-5;S1u.textAlign="right";}if(Y1u > "1" - 0){K18="x";K18+="1";P7T.V3g(2);S1u.fillText(P7T.U3g(Y1u,K18),P7T.w3g(V1u,C1u),I1u);}else {P7T.B3g(26);S1u.fillText(P7T.w3g(Y1u,1,"1x"),w1u,P7T.w3g(J1u,f1u,P7T.B3g(2)));}S1u.fillStyle=p1u;}this.stx.plotLine(v1u,o1u,B1u,a1u,this.highlighted?u1u:P1u,S18,S1u,M1u,G1u);this.rays.push([[v1u,B1u],[o1u,a1u]]);if(Y1u == 1){d1u=o1u;e1u=a1u;}S1u.globalAlpha=0.1;S1u.beginPath();S1u.moveTo(o1u,a1u);S1u.lineTo(v1u,B1u);S1u.lineTo(d1u,e1u);S1u.fill();S1u.globalAlpha=1;}S1u.textAlign="left";S1u.textBaseline="middle";if(this.highlighted){J18="p";J18+="1";Z1u=this.highlighted == "p0"?! !{}:!{};t1u=this.highlighted == J18?! !1:!{};this.littleCircle(S1u,v1u,B1u,Z1u);this.littleCircle(S1u,w1u,I1u,t1u);}}},! ![]);f8V.Drawing.timecycle=function(){var u18;u18="tim";u18+="e";u18+="cycl";u18+="e";this.name=u18;this.printLevels=!"";};f8V.inheritsFrom(f8V.Drawing.timecycle,f8V.Drawing.speedarc);f8V.extend(f8V.Drawing.timecycle.prototype,{intersected:function(N1u,q1u,H1u){var T1u,L1u,i1u,A1u,h18,h1u,W18;T1u=this.p0;L1u=this.p1;i1u=this.stx.panels[this.panelName];if(!T1u || !L1u || !i1u){return null;}A1u={0:T1u,1:L1u};for(var n1u in A1u){if(this.pointIntersection(A1u[n1u][0],A1u[n1u][1],H1u)){h18="d";h18+="r";h18+="a";h18+="g";P7T.B3g(2);this.highlighted=P7T.w3g((8877,"533" << 966617824) !== (+"572",2130)?"p":"k",n1u);return {action:h18,point:(322 < (8280,4800)?"p":(504.06,"z")) + n1u};}}h1u=this.lineIntersection(N1u,q1u,H1u,"segment");if(h1u || H1u.x0 <= this.p0[0] && H1u.x1 >= T1u[0]){W18="m";W18+="o";W18+="v";W18+="e";this.highlighted=! !{};return {action:W18,p0:f8V.clone(T1u),p1:f8V.clone(L1u),tick:N1u,value:q1u};}return null;},render:function(U1u){var G18,p18,j1u,g1u,K9u,s9u,x9u,b9u,Q9u,c9u,O9u,z1u,y9u,W1u,D9u,F9u,E9u,R1u,m9u,S9u,v9u,B9u,k9u;G18="se";G18+="gment";p18="cent";p18+="e";p18+="r";j1u=this.stx.panels[this.panelName];if(!j1u){return;}if(!this.p1){return;}g1u=this.stx.pixelFromTick(this.p0[0],j1u.chart);K9u=this.stx.pixelFromTick(this.p1[0],j1u.chart);s9u=this.stx.pixelFromValueAdjusted(j1u,this.p0["0" & 2147483647],this.p0[1]);x9u=this.stx.pixelFromValueAdjusted(j1u,this.p1[0],this.p1[1]);b9u=0;Q9u=this.getLineColor();U1u.textBaseline="middle";this.stx.canvasFont("stx_yaxis",U1u);c9u=20;O9u=this.p1[0] - this.p0[0];U1u.textAlign=p18;z1u=g1u;y9u=j1u.yAxis.top;W1u=j1u.yAxis.bottom;D9u=this.color;if(D9u == "auto" || f8V.isTransparent(D9u)){D9u=this.stx.defaultColor;}F9u=this.fillColor;if(F9u == "auto" || f8V.isTransparent(F9u)){F9u=this.stx.defaultColor;}if(this.printLevels){P7T.B3g(40);W1u-=P7T.w3g(7,c9u,"7");}E9u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};R1u=[];U1u.save();U1u.fillStyle=F9u;P7T.a6T();U1u.globalAlpha=0.05;do {z1u=this.stx.pixelFromTick(this.p0[0] + b9u * O9u,j1u.chart);b9u++;if(g1u < K9u && z1u > j1u.left + j1u.width)break;else if(g1u > K9u && z1u < j1u.left)break;else if(z1u < j1u.left || z1u > j1u.left + j1u.width)continue;U1u.beginPath();U1u.moveTo(g1u,y9u);U1u.lineTo(z1u,y9u);U1u.lineTo(z1u,W1u);U1u.lineTo(g1u,W1u);U1u.fill();R1u.push({c:b9u,x:z1u});}while(O9u);U1u.globalAlpha=1;m9u=0;for(var X1u=+"0";X1u < R1u.length;X1u++){this.stx.plotLine(R1u[X1u].x,R1u[X1u].x,0,W1u,this.highlighted?Q9u:D9u,"segment",U1u,j1u,E9u);if(this.printLevels){U1u.fillStyle=D9u;S9u=this.stx.chart.context.measureText(R1u[X1u].c).width + 3;if(S9u < this.stx.layout.candleWidth + m9u){U1u.fillText(R1u[X1u].c,R1u[X1u].x,W1u + +"7");m9u=0;}else {m9u+=this.stx.layout.candleWidth;}}}U1u.restore();U1u.textAlign="left";this.stx.plotLine(g1u,K9u,s9u,x9u,Q9u,G18,U1u,j1u,E9u);if(this.highlighted){v9u=this.highlighted == "p0"?! !"1":! !0;B9u=this.highlighted == "p1"?! !1:!{};this.littleCircle(U1u,g1u,s9u,v9u);this.littleCircle(U1u,K9u,x9u,B9u);}else {k9u=this.stx.valueFromPixel(j1u.height / ("2" * 1),j1u);this.setPoint(0,this.p0["0" & 2147483647],k9u,j1u.chart);this.setPoint(1,this.p1[0],k9u,j1u.chart);}}},!"");f8V.Drawing.regression=function(){P7T.a6T();this.name="regression";};f8V.inheritsFrom(f8V.Drawing.regression,f8V.Drawing.segment);f8V.extend(f8V.Drawing.regression.prototype,{configs:["color",B18,"pattern",L18,j18,"lineWidth1",Q18,"active2","color2","lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(w9u){var c18,M9u;c18="a";c18+="ut";c18+="o";f8V.Drawing.copyConfig(this,w9u);M9u=this.stx.currentVectorParameters;this.active1=! !M9u.active1;this.active2=! !M9u.active2;this.active3=! !M9u.active3;this.color1=M9u.color1 || c18;this.color2=M9u.color2 || "auto";this.color3=M9u.color3 || "auto";this.lineWidth1=M9u.lineWidth1;this.lineWidth2=M9u.lineWidth2;this.lineWidth3=M9u.lineWidth3;this.pattern1=M9u.pattern1;this.pattern2=M9u.pattern2;this.pattern3=M9u.pattern3;},$controls:[i18,N18,'cq-cvp-controller[cq-cvp-header="3"]'],click:function(f9u,o9u,p9u){var Y9u,P9u,I9u,a9u;if(o9u < 0){return;}this.copyConfig();Y9u=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,o9u,p9u,Y9u.chart);this.penDown=! ![];P9u=this.stx;this.field=P9u.highlightedDataSetField;if(!this.field && Y9u != P9u.chart.panel){for(var r9u in P9u.chart.seriesRenderers){I9u=P9u.chart.seriesRenderers[r9u];if(I9u.params.panel == Y9u.name){this.field=I9u.seriesParams[0].field;break;}}for(var C9u in P9u.layout.studies){a9u=P9u.layout.studies[C9u];if(a9u.panel == Y9u.name){this.field=Object.keys(a9u.outputMap)[0];break;}}}return ! !"";}if(this.accidentalClick(o9u,p9u)){return this.dragToDraw;}P7T.a6T();this.setPoint(1,o9u,p9u,Y9u.chart);this.penDown=!1;return ! ![];;},getYValue:function(V9u){var u9u,G9u,d9u,Z9u,J9u,l9u,e9u,R18;u9u=this.stx.chart.dataSet[V9u];G9u=this.stx.chart.dataSet[V9u];if(!u9u){return null;}d9u=this.stx.panels[this.panelName];Z9u=this.stx.getYAxisByField(d9u,this.field) || d9u.yAxis;if(this.stx.charts[d9u.name] && d9u.chart.transformFunc && Z9u == d9u.yAxis){G9u=u9u.transform;}if(!G9u){return null;}J9u=null;l9u=null;e9u=this.stx.defaultPlotField || "Close";if(this.field){R18="o";R18+="b";R18+="jec";R18+="t";l9u=f8V.existsInObjectChain(G9u,this.field);if(!l9u){return null;}J9u=l9u=l9u.obj[l9u.member];if(u9u != G9u){J9u=f8V.existsInObjectChain(u9u,this.field);J9u=J9u.obj[J9u.member];}if(typeof l9u == R18){l9u=l9u[e9u];J9u=J9u[e9u];}}else {l9u=G9u[e9u];J9u=u9u[e9u];}return {transformed:l9u,untransformed:J9u};},render:function(q9u){var T9u,H9u,L9u,D5u,i9u,K5u,h9u,z9u,Q5u,O5u,y5u,E5u,g9u,F5u,t9u,A9u,k5u,c5u,R9u,X9u,S5u,W9u,b5u,m5u,U9u,j9u,s5u,x5u,B5u,v5u,M5u,N9u,F68,d68,n68,C18,w5u,P5u;T9u=this.stx.panels[this.panelName];if(!T9u){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}H9u=this.stx.pixelFromTick(this.p0[0],T9u.chart);L9u=this.stx.pixelFromTick(this.p1[0],T9u.chart);if(H9u < T9u.left && L9u < T9u.left){return;}if(H9u > T9u.right && L9u > T9u.right){return;}D5u=this.stx.getYAxisByField(T9u,this.field);i9u=[];K5u=[];h9u=+"0";z9u=+"0";Q5u=0;O5u=0;y5u=Math.min(this.p1[0],this.p0[0]);E5u=Math.max(this.p1[0],this.p0[0]) + 1;P7T.B3g(7);g9u=P7T.w3g(E5u,y5u);for(var n9u=y5u;n9u < E5u;n9u++){F5u=this.getYValue(n9u);if(F5u){i9u.push(F5u.transformed);K5u.push(F5u.untransformed);}}t9u=i9u.length;P7T.V3g(41);A9u=P7T.w3g(t9u,t9u,2,1);k5u=Math.pow(A9u,2);P7T.V3g(42);c5u=P7T.U3g(3,t9u,1,2,"1",A9u);for(n9u=0;n9u < t9u;n9u++){Q5u+=t9u * i9u[n9u] - h9u;h9u+=i9u[n9u];O5u+=t9u * K5u[n9u] - z9u;z9u+=K5u[n9u];}P7T.V3g(43);R9u=P7T.U3g(t9u,c5u,h9u,Q5u,A9u,k5u,t9u);P7T.B3g(44);X9u=P7T.U3g(h9u,t9u,A9u,R9u);P7T.V3g(43);S5u=P7T.U3g(t9u,c5u,z9u,O5u,A9u,k5u,t9u);P7T.V3g(44);W9u=P7T.U3g(z9u,t9u,A9u,R9u);if(this.p0[+"0"] < this.p1[0]){b5u=X9u;P7T.B3g(45);m5u=P7T.U3g(g9u,R9u,X9u);this.p0[1]=W9u;P7T.B3g(45);this.p1[+"1"]=P7T.w3g(g9u,S5u,W9u);}else {P7T.V3g(45);b5u=P7T.U3g(g9u,R9u,X9u);m5u=X9u;P7T.V3g(45);this.p0[1]=P7T.w3g(g9u,S5u,W9u);this.p1[1]=W9u;}U9u=this.stx.pixelFromTransformedValue(b5u,T9u,D5u);j9u=this.stx.pixelFromTransformedValue(m5u,T9u,D5u);s5u=this.getLineColor();x5u={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(H9u,L9u,U9u,j9u,s5u,"segment",q9u,T9u,x5u);P7T.V3g(7);this.stx.plotLine(H9u,H9u,P7T.U3g(U9u,20),P7T.U3g(U9u,20,P7T.B3g(2)),s5u,"segment",q9u,T9u,x5u);P7T.V3g(7);this.stx.plotLine(L9u,L9u,P7T.w3g(j9u,20),P7T.U3g(j9u,20,P7T.V3g(2)),s5u,"segment",q9u,T9u,x5u);if(this.active1 || this.active2 || this.active3){P7T.B3g(13);B5u=P7T.w3g(t9u,h9u);v5u=0;for(n9u=0;n9u < t9u;n9u++){v5u+=Math.pow(i9u[n9u] - B5u,2);}P7T.V3g(13);M5u=Math.sqrt(P7T.U3g(t9u,v5u));N9u={context:q9u,panel:T9u,points:{0:{x:H9u,v:b5u},1:{x:L9u,v:m5u}},stddev:M5u,yAxis:D5u};this.lines={};if(this.active1){this.renderStddev((243.84,"7780" & 2147483647) > 159?147 === ("3557" ^ 0)?!"":227.71 > (745,524.16)?("a","G"):"1":629.64,"p",N9u);this.renderStddev("1","n",N9u);}if(this.active2){this.renderStddev((9580,833.09) >= 4130?761.75 > 5325?(520.51,0x1aff):7.12e+3:"2","p",N9u);this.renderStddev(+"9760" != (9412,1630)?"2":6016 > (9618,634.42)?(369.19,405.01) === (5570,2768)?(!1,6.78e+3):(!1,0x17e):0x12d5,("8414" | 8208) !== (850.91,379.08)?"n":997.90,N9u);}if(this.active3){P7T.B3g(33);F68=-P7T.U3g("1499579855",285262016);d68=1163204634;n68=2;for(var H68=1;P7T.c3x(H68.toString(),H68.toString().length,9201) !== F68;H68++){this.renderStddev("3","3",N9u);P7T.B3g(16);n68+=P7T.w3g("2",689546816);}if(P7T.c3x(n68.toString(),n68.toString().length,10098) !== d68){this.renderStddev("3","p",N9u);}this.renderStddev((9710,5147) >= 389.2?"3":1700 >= (932.95,123)?("U",0x2486):(3.84e+3,78.90),7860 <= (+"1740",3750)?(552.94,7376) !== (881.55,743.38)?!0:(![],"h"):"n",N9u);}}if(!this.highlighted){this.pixelX=[H9u,L9u];this.pixelY=[U9u,j9u];}else {C18="p";C18+="0";w5u=this.highlighted == C18?! !1:!{};P5u=this.highlighted == "p1"?! !"1":!{};this.littleCircle(q9u,H9u,U9u,w5u);this.littleCircle(q9u,L9u,j9u,P5u);}},renderStddev:function(C5u,t5u,f5u){var X18,d5u,T5u,n5u,H5u,l5u,e5u,V5u,u5u,G5u,I5u,o5u,J5u,Y5u,p5u,a5u,r5u,L5u,A5u,Z5u,N5u;X18="l";X18+="ineWi";X18+="dth";P7T.V3g(46);d5u=P7T.w3g(C5u,t5u,"stddev");P7T.B3g(2);T5u=P7T.w3g("color",C5u);P7T.V3g(2);n5u=P7T.w3g("pattern",C5u);P7T.B3g(2);H5u=P7T.w3g(X18,C5u);l5u=f5u.points;e5u=l5u[0].v;V5u=l5u[1].v;u5u=f5u.stddev;G5u=t5u === ((528,8240) === (1740,353)?(1.04e+3,594):(9827,749.6) <= 512.21?9260 > "6073" >> 1247528256?0x1ea1:(161.79,!0):"n")?C5u * - +"1":C5u * 1;I5u=this.stx;o5u=f5u.panel;J5u=f5u.yAxis;Y5u={name:d5u,color:this.getLineColor(this[T5u]),type:"segment",y0:I5u.pixelFromTransformedValue(e5u + u5u * G5u,o5u,J5u),y1:I5u.pixelFromTransformedValue(V5u + u5u * G5u,o5u,J5u),params:{pattern:this[n5u],lineWidth:this[H5u]}};if(this.lines){this.lines[d5u]=Y5u;}p5u=f5u.context;a5u=l5u[0].x;r5u=l5u[1].x;I5u.plotLine(a5u,r5u,Y5u.y0,Y5u.y1,Y5u.color,Y5u.type,p5u,o5u,Y5u.params);P7T.a6T();I5u.plotLine(a5u,a5u,Y5u.y0 - 10,Y5u.y0 + 10,Y5u.color,Y5u.type,p5u,o5u,Y5u.params);I5u.plotLine(r5u,r5u,Y5u.y1 - ("10" & 2147483647),Y5u.y1 + +"10",Y5u.color,Y5u.type,p5u,o5u,Y5u.params);P7T.V3g(2);L5u=P7T.U3g(C5u,4560 < (4330,+"408")?(! !"",8.82e+3):210.27 < (8456,9871)?"\u03c3":(7.51e+3,960.16));A5u=Math.max(a5u,r5u) + 5;Z5u=a5u < r5u?Y5u.y1:Y5u.y0;p5u.fillStyle=Y5u.color;p5u.save();p5u.textBaseline="middle";p5u.fillText(L5u,A5u,Z5u);p5u.restore();if(f5u.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(a5u >= o5u.chart.left && a5u <= o5u.chart.right || r5u >= o5u.chart.left && r5u <= o5u.chart.right){P7T.B3g(47);N5u=P7T.U3g(G5u,u5u,a5u < r5u?V5u:e5u);I5u.endClip();I5u.createYAxisLabel(o5u,f5u.formatPrice(N5u,J5u),Z5u,Y5u.color,null,p5u,J5u);I5u.startClip(o5u.name);}}},intersected:function(h5u,U5u,X5u){var j5u,z5u,g5u,W5u,D3u,R5u,i5u;if(!this.pixelX || !this.pixelY){return null;}j5u=this.repositionIntersection(h5u,U5u);if(j5u){return j5u;}P7T.t6T();z5u={0:this.pixelX,1:this.pixelY};for(var q5u=0;q5u < 2;q5u++){if(this.pointIntersection(z5u[0][q5u],z5u[+"1"][q5u],X5u,! !"1")){P7T.B3g(2);this.highlighted=P7T.U3g(474 != 9076?("7992" & 2147483647) != 8850?"p":("p","H"):(578.15,3.71e+3),q5u);return {action:"drag",point:"p" + q5u};}}g5u=this;W5u=this.pixelX[0];D3u=this.pixelX[1];R5u=function(F3u){var b3u,m3u;P7T.a6T();b3u=[W5u,F3u.y0];m3u=[D3u,F3u.y1];return g5u.lineIntersection(h5u,U5u,X5u,g5u.name,b3u,m3u,! !1);};i5u=R5u({y0:this.pixelY[0],y1:this.pixelY[1]});if(!i5u && this.lines){for(var K3u in this.lines){if(R5u(this.lines[K3u])){i5u=! !{};break;}}}if(i5u){this.highlighted=!0;return {action:"move",p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:h5u,value:U5u};}return null;},repositionIntersection:function(s3u,x3u){var s18;if(!this.p0 || !this.p1){return !"1";}if(this == this.stx.repositioningDrawing && this.highlighted){s18="dra";s18+="g";if(this.highlighted === ! !{}){return {action:"move",p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:s3u,value:x3u};}return {action:s18,point:this.highlighted};}return !{};},lineIntersection:function(B3u,M3u,c3u,S3u,O3u,y3u,v3u){var k3u,Q3u,E3u;if(!v3u){P7T.V3g(2);console.log(P7T.U3g(S3u," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !"1";}if(!O3u){O3u=this.p0;}if(!y3u){y3u=this.p1;}if(!(O3u && y3u)){return !{};}k3u=this.stx;Q3u=f8V.convertBoxToPixels(k3u,this.panelName,c3u);if(Q3u.x0 === undefined){return !"1";}E3u={x0:O3u[0],x1:y3u[0],y0:O3u["1" ^ 0],y1:y3u[+"1"]};return f8V.boxIntersects(Q3u.x0,Q3u.y0,Q3u.x1,Q3u.y1,E3u.x0,E3u.y0,E3u.x1,E3u.y1);},boxIntersection:function(P3u,Y3u,w3u){P7T.a6T();if(w3u.cx0 > Math.max(this.pixelX[0],this.pixelX["1" >> 1842126528]) || w3u.cx1 < Math.min(this.pixelX[0],this.pixelX[+"1"])){return !{};}if(!this.stx.repositioningDrawing && (w3u.cy1 < this.pixelY[0] || w3u.cy0 > this.pixelY[1])){return !"1";}return ! !"1";},reconstruct:function(p3u,o3u){this.stx=p3u;this.color=o3u.col;this.color1=o3u.col1;this.color2=o3u.col2;this.color3=o3u.col3;this.active1=o3u.dev1;this.active2=o3u.dev2;this.active3=o3u.dev3;this.panelName=o3u.pnl;this.pattern=o3u.ptrn;this.pattern1=o3u.ptrn1;this.pattern2=o3u.ptrn2;this.pattern3=o3u.ptrn3;this.lineWidth=o3u.lw;this.lineWidth1=o3u.lw1;this.lineWidth2=o3u.lw2;this.lineWidth3=o3u.lw3;this.d0=o3u.d0;this.d1=o3u.d1;this.tzo0=o3u.tzo0;this.tzo1=o3u.tzo1;this.field=o3u.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!"");f8V.Drawing.trendline=function(){P7T.a6T();this.name="trendline";};f8V.inheritsFrom(f8V.Drawing.trendline,f8V.Drawing.segment);f8V.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern","font"];f8V.Drawing.trendline.prototype.measure=function(){P7T.t6T();;};f8V.Drawing.trendline.prototype.reconstruct=function(I3u,a3u){P7T.a6T();f8V.Drawing.segment.prototype.reconstruct.call(this,I3u,a3u);this.callout=new f8V.Drawing.callout();this.callout.reconstruct(I3u,a3u.callout);};f8V.Drawing.trendline.prototype.serialize=function(){var r3u;r3u=f8V.Drawing.segment.prototype.serialize.call(this);r3u.callout=this.callout.serialize();return r3u;};f8V.Drawing.trendline.prototype.render=function(d3u){var V18,C3u,H3u,J3u,u3u,f3u,l3u,e3u,G3u,V3u,L3u,Z3u,A3u,N3u,t3u,T3u,n3u,q3u,i3u,A18,h3u,U3u;V18=" ";V18+="(";C3u=this.stx.panels[this.panelName];if(!C3u){return;}f8V.Drawing.segment.prototype.render.call(this,d3u);if(!this.callout){this.callout=new f8V.Drawing.callout();H3u=f8V.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,H3u);}this.callout.p0=f8V.clone(this.p0);J3u=this.stx.pixelFromTick(this.p0[0],C3u.chart);u3u=this.stx.pixelFromTick(this.p1[0],C3u.chart);f3u=this.stx.pixelFromValueAdjusted(C3u,this.p0["0" - 0],this.p0[1]);l3u=this.stx.pixelFromValueAdjusted(C3u,this.p1["0" | 0],this.p1[1]);if(!isFinite(f3u) || !isFinite(l3u)){return;}P7T.V3g(3);e3u=P7T.w3g(2,u3u,J3u);P7T.B3g(3);G3u=P7T.w3g(2,l3u,f3u);this.fontSize=f8V.stripPX(this.font && this.font.size || 13);V3u=this.callout.w * 1.2 + (this.callout.stemEntry[0] == (7220 <= +"6241"?0x7f3:7104 < (785,3138)?(2506,3570) <= 5910?+"458.90":+"5.09e+3":"c")?0:"50" >> 1780147232);L3u=Math.sqrt(Math.pow(u3u - J3u,+"2") + Math.pow(l3u - f3u,+"2"));Z3u=V3u / (L3u || V3u) * (this.p1[1] < this.p0[1]?1:- +"1");P7T.B3g(48);A3u=P7T.U3g(l3u,e3u,Z3u,G3u);P7T.B3g(49);N3u=P7T.w3g(Z3u,e3u,G3u,u3u);this.callout.p0[0]=this.stx.tickFromPixel(A3u,C3u.chart);this.callout.p0[1]=this.stx.priceFromPixel(N3u,C3u);P7T.V3g(1);this.callout.v0=this.callout.p0[P7T.w3g("1",1)];this.callout.p1=f8V.clone(this.p0);P7T.t6T();this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !1;t3u=this.p1["1" | 0] - this.p0[1];this.callout.text="" + Number(t3u).toFixed(2) + (this.p0[1] === +"0"?"":V18 + Number(100 * t3u / this.p0[1]).toFixed(2) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";T3u=Math.floor((this.p0[0] + this.p1[0]) / ("2" * 1));if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0["0" >> 1784984384] - this.p1[0]) < 20){q3u=this.stx.pixelFromTick(T3u,C3u.chart);P7T.V3g(50);i3u=P7T.U3g(f3u,l3u,u3u,J3u,q3u,f3u,J3u);n3u=this.stx.priceFromPixel(i3u,C3u) || G3u;}else {n3u=this.stx.priceFromPixel(G3u,C3u);}this.callout.stem={t:T3u,v:n3u};this.callout.renderText();this.callout.render(d3u);if(this.highlighted){A18="p";A18+="1";h3u=this.highlighted == "p0"?! ![]:!1;U3u=this.highlighted == A18?!0:!1;this.littleCircle(d3u,J3u,f3u,h3u);this.littleCircle(d3u,u3u,l3u,U3u);}};f8V.Drawing.trendline.prototype.lineIntersection=function(j3u,z3u,g3u,R3u){P7T.t6T();return f8V.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,j3u,z3u,g3u,"segment");};f8V.Drawing.trendline.prototype.intersected=function(W3u,D2X,F2X){P7T.t6T();var K2X,X3u;if(!this.p0 || !this.p1){return null;}K2X=this.callout.intersected(W3u,D2X,F2X);X3u=f8V.Drawing.segment.prototype.intersected.call(this,W3u,D2X,F2X);this.callout.highlighted=! !(K2X || X3u);if(X3u){return X3u;}else if(K2X){return {action:"move",p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:W3u,value:D2X};}return null;};f8V.Drawing.average=function(){var F18;F18="av";F18+="erag";F18+="e";P7T.a6T();this.name=F18;};f8V.inheritsFrom(f8V.Drawing.average,f8V.Drawing.regression);f8V.extend(f8V.Drawing.average.prototype,{configs:f8V.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){P7T.t6T();var n18,d18,b2X,s2X,Q2X,O2X,x2X,m2X;if(this.p0 && this.p1){n18=".mSt";n18+="ickyInterior";d18=" &sig";d18+="m";d18+="a;";this.stx.setMeasure(0,![],this.p0[0],this.p1[0],! !"1",this.name);b2X=[];s2X="";if(this.active1){b2X.push(7297 < (94,5810)?729.91:"1");}if(this.active2){b2X.push((489.73,"1928" ^ 0) != (9160,3225)?"2":![]);}if(this.active3){b2X.push((243.59,"668.12" * 1) !== (6099,+"5593")?"3":1989 < 8579?(6700,"3920" - 0) === (8122,2561)?("E",657.90):![]:44.10);}if(b2X.length){s2X="&ensp;" + b2X.join(", ") + d18;}Q2X=(this.stx.drawingContainer || document).querySelector(".mMeasure");O2X=this.stx.controls.mSticky;x2X=O2X && O2X.querySelector(n18);if(Q2X){Q2X.innerHTML+=s2X;}if(x2X){m2X=[];m2X.push(f8V.capitalize(this.name));m2X.push(this.field || this.stx.defaultPlotField || "Close");m2X.push(x2X.innerHTML + s2X);x2X.innerHTML=m2X.join("<br>");}}},render:function(B2X){P7T.a6T();var y2X,k2X,c2X,Y2X,S2X,r2X,C2X,e2X,f2X,I2X,v2X,w2X,o2X,P2X,E2X,p2X,a2X,l2X,u2X,M2X,r18,G2X,d2X;y2X=this.stx.panels[this.panelName];if(!y2X){return;}if(!this.p1){return;}if(this.p0[0] < "0" >> 554074144 || this.p1[+"0"] < 0){return;}k2X=this.stx.pixelFromTick(this.p0[0],y2X.chart);c2X=this.stx.pixelFromTick(this.p1[+"0"],y2X.chart);if(k2X < y2X.left && c2X < y2X.left){return;}if(k2X > y2X.right && c2X > y2X.right){return;}Y2X=this.stx.getYAxisByField(y2X,this.field);S2X=this.stx;r2X=Math.min(this.p1[0],this.p0[+"0"]);C2X=Math.max(this.p1[0],this.p0[0]) + +"1";P7T.V3g(7);e2X=P7T.U3g(C2X,r2X);f2X=0;I2X=[];for(v2X=r2X;v2X < C2X;v2X++){w2X=this.getYValue(v2X);if(w2X !== null){f2X+=w2X.transformed;I2X.push(w2X);}}o2X=I2X.length;if(!o2X){return;}P7T.V3g(13);P2X=P7T.U3g(o2X,f2X);E2X=S2X.pixelFromTransformedValue(P2X,y2X,Y2X);p2X=this.getLineColor();function J2X(V2X,Z2X){if(Z2X && Z2X.priceFormatter){V2X=Z2X.priceFormatter(S2X,y2X,V2X);}else {V2X=S2X.formatYAxisPrice(V2X,y2X,null,Z2X);}return V2X;}a2X={pattern:this.pattern,lineWidth:this.lineWidth};S2X.plotLine(k2X,c2X,E2X,E2X,p2X,"segment",B2X,y2X,a2X);P7T.V3g(12);S2X.plotLine(k2X,k2X,P7T.U3g("20",E2X),P7T.U3g(E2X,20,P7T.V3g(2)),p2X,"segment",B2X,y2X,a2X);P7T.B3g(7);S2X.plotLine(c2X,c2X,P7T.w3g(E2X,20),P7T.w3g(E2X,20,P7T.B3g(2)),p2X,"segment",B2X,y2X,a2X);if(this.axisLabel && !this.highlighted && !this.penDown){if(k2X >= y2X.chart.left && k2X <= y2X.chart.right || c2X >= y2X.chart.left && c2X <= y2X.chart.right){S2X.endClip();S2X.createYAxisLabel(y2X,J2X(P2X,Y2X),E2X,p2X,null,B2X,Y2X);S2X.startClip(y2X.name);}}if(this.active1 || this.active2 || this.active3){l2X=0;for(v2X=0;v2X < o2X;v2X++){w2X=I2X[v2X];l2X+=Math.pow(w2X.transformed - P2X,2);}P7T.B3g(13);u2X=Math.sqrt(P7T.w3g(o2X,l2X));M2X={context:B2X,formatPrice:J2X,panel:y2X,points:{0:{x:k2X,v:P2X},1:{x:c2X,v:P2X}},stddev:u2X,yAxis:Y2X};this.lines={};if(this.active1){this.renderStddev(64.86 <= 242.28?"1":(! !"",1.71e+3),7790 > 5100?"p":"E",M2X);this.renderStddev(334.11 === (91.86,+"3590")?("b",! !"1"):"1",("1440" ^ 0,8260) <= (9581,938.37)?1780 !== (2131,2155)?(8.01e+3,6.73e+2):! ![]:"n",M2X);}if(this.active2){this.renderStddev("2",(5592,+"403.99") > 3090?(! !0,634):(629.57,3280) < (9670,5558)?"p":(0x2498,! ![]),M2X);this.renderStddev((501.05,2882) >= (3858,2280)?(9269,+"6800") <= 9860?"2":(4940,587) !== (2120,469.01)?(! ![],"838" - 0):(+"635.45","S"):7.73e+3,(460.01,207.45) <= 883.2?"n":(49,"531.33" - 0) >= 472.37?! !{}:(+"9.93e+3",762.22),M2X);}if(this.active3){this.renderStddev((3913,"727" * 1) == ("2910" | 2626,4262)?2.00e+3:6570 == (9365,6390)?0x1b52:730.62 == (1570,300)?!{}:"3",("9002" | 8490,2670) != (7030,7190)?"p":"M",M2X);this.renderStddev((4720,+"3520") == ("5390" - 0,7590)?0x2533:"3",("9990" | 1028,6400) !== ("5821" - 0,5774)?"n":(129.61,+"9118") == ("185.58" - 0,+"3540")?(150.67,0x1b43):678.55,M2X);}}if(!this.highlighted){this.pixelX=[k2X,c2X];this.pixelY=[E2X,E2X];}else {r18="p";r18+="0";G2X=this.highlighted == r18?! ![]:![];d2X=this.highlighted == "p1"?! !"1":![];this.littleCircle(B2X,k2X,E2X,G2X);this.littleCircle(B2X,c2X,E2X,d2X);}},reconstruct:function(T2X,t2X){this.axisLabel=t2X.al;f8V.Drawing.regression.prototype.reconstruct.call(this,T2X,t2X);},serialize:function(){var n2X;n2X=f8V.Drawing.regression.prototype.serialize.call(this);n2X.al=this.axisLabel;return n2X;}},!0);f8V.Drawing.quadrant=function(){P7T.a6T();this.name="quadrant";};f8V.inheritsFrom(f8V.Drawing.quadrant,f8V.Drawing.regression);f8V.extend(f8V.Drawing.quadrant.prototype,{configs:["color",H18,"lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(N2X){var L2X,H2X,A2X,q2X,z2X,i2X,h2X,X2X,g2X,D4X,K4X,W2X,m4X,s4X,m5x,E5x,e5x,R2X,U2X,F4X,j2X,M18,y18,m88,Z88,x4X,Q4X;L2X=this.stx;H2X=L2X.panels[this.panelName];if(!H2X){return;}if(!this.p1){return;}A2X=L2X.pixelFromTick(this.p0[0],H2X.chart);q2X=L2X.pixelFromTick(this.p1[0],H2X.chart);if(A2X < H2X.left && q2X < H2X.left){return;}if(A2X > H2X.right && q2X > H2X.right){return;}z2X=this.stx.getYAxisByField(H2X,this.field);i2X=null;h2X=null;for(var b4X=Math.min(this.p1[0],this.p0[0]);b4X <= Math.max(this.p1[0],this.p0["0" ^ 0]);b4X++){X2X=this.getYValue(b4X);if(X2X !== null){if(i2X === null || X2X.transformed > i2X){i2X=X2X.transformed;}if(h2X === null || X2X.transformed < h2X){h2X=X2X.transformed;}}}g2X=L2X.pixelFromTransformedValue(i2X,H2X,z2X);P7T.B3g(51);P7T.a6T();D4X=L2X.pixelFromTransformedValue(P7T.w3g(3,h2X,0,"4",i2X),H2X,z2X);P7T.B3g(52);K4X=L2X.pixelFromTransformedValue(P7T.U3g("2",h2X,3,i2X),H2X,z2X);P7T.B3g(3);W2X=L2X.pixelFromTransformedValue(P7T.U3g(2,h2X,i2X),H2X,z2X);P7T.V3g(53);m4X=L2X.pixelFromTransformedValue(P7T.w3g(2,3,i2X,h2X),H2X,z2X);P7T.B3g(53);s4X=L2X.pixelFromTransformedValue(P7T.U3g(3,4,i2X,h2X),H2X,z2X);m5x=-1292776633;E5x=+"1809233942";e5x=2;for(var t5x=+"1";P7T.i3x(t5x.toString(),t5x.toString().length,29018) !== m5x;t5x++){R2X=L2X.pixelFromTransformedValue(h2X,H2X,z2X);this.p0[5]=2;this.p1[4]=!0;U2X=this.getLineColor();F4X=this.fillColor;if(F4X != "" && f8V.isTransparent(F4X)){F4X=L2X.defaultColor;}N2X.fillStyle=F4X;P7T.V3g(34);e5x+=P7T.w3g(2147483647,"2");}if(P7T.c3x(e5x.toString(),e5x.toString().length,64983) !== E5x){R2X=L2X.pixelFromTransformedValue(h2X,H2X,z2X);P7T.B3g(33);this.p0[1]=P7T.w3g("0",0);this.p1[1]=![];U2X=this.getLineColor();F4X=this.fillColor;if(F4X == "auto" || f8V.isTransparent(F4X)){F4X=L2X.defaultColor;}N2X.fillStyle=F4X;}j2X={pattern:this.pattern,lineWidth:this.lineWidth};L2X.plotLine(A2X,q2X,g2X,g2X,U2X,"segment",N2X,H2X,j2X);L2X.plotLine(A2X,q2X,R2X,R2X,U2X,"segment",N2X,H2X,j2X);if(this.name == "quadrant"){M18="segm";M18+="ent";L2X.plotLine(A2X,q2X,D4X,D4X,U2X,"segment",N2X,H2X,j2X);L2X.plotLine(A2X,q2X,s4X,s4X,U2X,M18,N2X,H2X,j2X);}else if(this.name == "tirone"){y18="s";y18+="eg";y18+="me";y18+="nt";L2X.plotLine(A2X,q2X,K4X,K4X,U2X,y18,N2X,H2X,j2X);L2X.plotLine(A2X,q2X,m4X,m4X,U2X,"segment",N2X,H2X,j2X);}L2X.plotLine(A2X,A2X,g2X,R2X,U2X,"segment",N2X,H2X,j2X);L2X.plotLine(q2X,q2X,g2X,R2X,U2X,"segment",N2X,H2X,j2X);L2X.plotLine(A2X,q2X,W2X,W2X,U2X,"segment",N2X,H2X,f8V.extend(j2X,{opacity:this.name == "tirone"?"0.2" * 1:1}));N2X.globalAlpha=0.1;N2X.beginPath();P7T.V3g(7);N2X.fillRect(A2X,g2X,P7T.w3g(q2X,A2X),P7T.w3g(R2X,g2X));if(this.name == "quadrant"){P7T.V3g(7);N2X.fillRect(A2X,D4X,P7T.w3g(q2X,A2X),P7T.U3g(s4X,D4X));}else if(this.name == "tirone"){P7T.V3g(7);N2X.fillRect(A2X,K4X,P7T.w3g(q2X,A2X),P7T.U3g(m4X,K4X));}N2X.globalAlpha=1;if(!this.highlighted){this.pixelX=[A2X,q2X];this.pixelY=[g2X,R2X];if(H2X.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(W2X);}else {m88="p";m88+="1";Z88="p";Z88+="0";x4X=this.highlighted == Z88?! !"1":!{};Q4X=this.highlighted == m88?!"":![];this.littleCircle(N2X,A2X,W2X,x4X);this.littleCircle(N2X,q2X,W2X,Q4X);}},intersected:function(E4X,k4X,c4X){var y4X,E88,e88;if(!this.pixelX || !this.pixelY){return null;}y4X=this.repositionIntersection(E4X,k4X);P7T.a6T();if(y4X){return y4X;}for(var O4X=0;O4X < 2;O4X++){if(this.pointIntersection(this.pixelX[O4X],this.pixelY[2],c4X,! !"1")){E88="d";E88+="rag";P7T.V3g(2);this.highlighted=P7T.U3g(535.91 == +"369"?("G",+"5.91e+3"):(+"4895",4660) >= +"182"?(91.72,718) <= (6940,7642)?"p":("k",0x10b8):496.73,O4X);return {action:E88,point:"p" + O4X};}}if(this.boxIntersection(null,null,c4X)){e88="m";e88+="o";e88+="v";e88+="e";this.highlighted=!"";return {action:e88,p0:f8V.clone(this.p0),p1:f8V.clone(this.p1),tick:E4X,value:k4X};}return null;},reconstruct:function(v4X,S4X){this.stx=v4X;this.color=S4X.col;this.fillColor=S4X.fc;this.panelName=S4X.pnl;this.pattern=S4X.ptrn;this.lineWidth=S4X.lw;this.d0=S4X.d0;this.d1=S4X.d1;this.tzo0=S4X.tzo0;this.tzo1=S4X.tzo1;this.field=S4X.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");f8V.Drawing.tirone=function(){this.name="tirone";};f8V.inheritsFrom(f8V.Drawing.tirone,f8V.Drawing.quadrant);f8V.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!{};this.annotationPoints=[];this.edit=null;};f8V.inheritsFrom(f8V.Drawing.elliottwave,f8V.Drawing.annotation);f8V.Drawing.elliottwave.defaultTemplate={impulse:[(3196,1830) >= 7621?("L",!1):"I","II",l88,"IV","V"],corrective:["A",(680.91,3755) <= (6829,3092)?("B",0x116):4052 > +"7879"?"7482" >> 1451807200 != 2060?("440.93" - 0,1.28e+3):(+"8.08e+3","0xc2" << 306731744):"B",(1809,+"5768") > ("4010" >> 817403008,683)?"C":("820.06" * 1,0xf3e)],decoration:"enclosed",showLines:! !{}};f8V.Drawing.elliottwave.prototype.initializeSettings=function(B4X){B4X.currentVectorParameters.waveParameters=f8V.clone(f8V.Drawing.elliottwave.defaultTemplate);};f8V.Drawing.elliottwave.prototype.configs=["color","lineWidth",t88,w88,"font","waveParameters"];f8V.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];f8V.Drawing.elliottwave.prototype.construct=function(M4X,P4X){var w4X;this.stx=M4X;this.panelName=P4X.name;w4X=M4X.currentVectorParameters;P7T.t6T();Object.assign(this,w4X.waveParameters);};f8V.Drawing.elliottwave.prototype.serialize=function(){var z88,o4X,f88;z88="w";z88+="t";o4X={};for(var Y4X=0;Y4X < this.points.length;Y4X++){f88="t";f88+="z";f88+="o";P7T.B3g(2);o4X[P7T.w3g(1690 != (1173,3153)?"d":(675.23,7860) <= (599,8.7)?("x","E"):605.08 <= 1915?652.09:3.42e+3,Y4X)]=this[P7T.U3g((1524,7140) < 784.7?![]:(170.35,9411) === (+"3871",12.68)?720.72 >= 410?0x9c3:(0x1f91,2.78e+3):"d",Y4X)];P7T.V3g(2);o4X[P7T.w3g(f88,Y4X)]=this[P7T.w3g("tzo",Y4X)];P7T.V3g(2);o4X[P7T.U3g("v",Y4X)]=this[P7T.w3g("v",Y4X)];}o4X.annotations=this.annotationPoints.join((8712,968.33) < (465.06,5368)?",":("Z",811.40));return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:f8V.removeNullValues(f8V.replaceFields(this.font,{style:"st",size:"sz",weight:z88,family:"fl"}))},o4X);};f8V.Drawing.elliottwave.prototype.reconstruct=function(I4X,p4X){this.stx=I4X;this.color=p4X.col;this.panelName=p4X.pnl;this.pattern=p4X.ptrn;this.lineWidth=p4X.lw;this.font=f8V.replaceFields(p4X.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});this.decoration=p4X.decor;P7T.t6T();this.showLines=p4X.show;this.dx=p4X.dx;this.dy=p4X.dy;this.trend=p4X.trend;this.annotationPoints=p4X.annotations.split(",");if(p4X.decor === "enclosed"){this.calculateRadius(I4X.chart.tempCanvas.context);}this.maxSegments=p4X.mxSeg;this.reconstructPoints(p4X);this.adjust();};f8V.Drawing.elliottwave.prototype.reconstructPoints=function(r4X){var C4X,f4X,l4X;C4X=this.stx.panels[this.panelName];if(!C4X){return;}for(var a4X=0;a4X < this.annotationPoints.length;a4X++){P7T.B3g(2);this[P7T.U3g(3830 !== (+"54.15",676.85)?"d":(808.33,831.04) >= 808?(3790,3310) == (6501,660)?(! ![],+"0x757"):(+"0x127b",+"8.83e+3"):"H",a4X)]=r4X[P7T.U3g(1120 != 8160?2000 === 894?!"":"d":"k",a4X)];P7T.B3g(2);this[P7T.w3g("v",a4X)]=r4X[P7T.w3g("v",a4X)];P7T.B3g(2);this[P7T.w3g("tzo",a4X)]=r4X[P7T.U3g("tzo",a4X)];f4X=f8V.strToDateTime(r4X["d" + a4X]);l4X=this.stx.tickFromDate(f4X,C4X.chart);this.points.push([l4X,r4X["v" + a4X]]);}};f8V.Drawing.elliottwave.prototype.calculateRadius=function(d4X){var J4X,G4X;this.getFontString();d4X.font=this.fontString;P7T.t6T();J4X=0;for(var u4X=0;u4X < this.annotationPoints.length;u4X++){G4X=d4X.measureText(this.annotationPoints[u4X]).width;if(J4X < G4X){J4X=G4X;}}this.enclosedRadius=J4X;};f8V.Drawing.elliottwave.prototype.check=function(t4X,n4X,e4X){var V4X,Z4X;if(e4X === 1 && this.points.length === 2){return ! !{};}P7T.t6T();P7T.B3g(7);V4X=this.points[P7T.w3g(e4X,1)];if(V4X && t4X <= V4X[0]){return !"1";}function T4X(L4X){for(var H4X=2;H4X < L4X.length;H4X++){if(Math.sign(L4X[H4X][+"1"] - L4X[H4X - 1][1]) == Math.sign(L4X[H4X - +"1"][1] - L4X[H4X - 2][1])){return ![];}}return ! ![];}P7T.B3g(2);Z4X=this.points[P7T.w3g(e4X,1)];if(Z4X && t4X >= Z4X[0]){return ![];}if(!T4X(this.points)){return !1;}return ! !{};};f8V.Drawing.elliottwave.prototype.move=function(A4X,N4X,q4X){this.copyConfig();this.points[this.lastPoint + +"1"]=[N4X,q4X];this.render(A4X);};f8V.Drawing.elliottwave.prototype.adjust=function(){var h4X,U4X;h4X=this.stx.panels[this.panelName];P7T.t6T();if(!h4X){return;}for(var i4X=0;this.maxSegments + 1 > i4X;i4X++){P7T.B3g(2);U4X=this[P7T.U3g(2651 > 6349?6.63e+3:"d",i4X)];this.setPoint(i4X,U4X,this[(899.95 >= (100,165)?"v":+"8330" !== (2868,565.56)?4862 >= ("8190" - 0,379.11)?! !{}:(! !{},8.27e+3):("d",0x1c07)) + i4X],h4X.chart);this.points[i4X][0]=this.stx.tickFromDate(f8V.strToDateTime(U4X),h4X.chart);P7T.V3g(2);this.points[i4X][1]=this[P7T.w3g(476.73 == 849?6.90e+2:(861.91,7014) > (530.1,991.7)?"v":+"6502" <= +"4796"?"S":2.18e+3,i4X)];}};f8V.Drawing.elliottwave.prototype.click=function(R4X,j4X,z4X){var g4X;g4X=this.stx.panels[this.panelName];if(!g4X){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,j4X,z4X,g4X.chart);this.points.push(this.p0);this.penDown=!"";this.segment=+"0";this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(("231.12" * 1,572.9) < (747.9,2429)?818 === 3951?"u":"0":("j","M"));if(this.decoration === "enclosed"){this.calculateRadius(R4X);}this.maxSegments=this.annotationPoints.length - 1;this.trend=1;return ![];}if(this.accidentalClick(j4X,z4X)){this.penDown=!"";return ! !0;}P7T.t6T();if(this.check(j4X,z4X,this.lastPoint + ("1" & 2147483647))){this.lastPoint++;this.setPoint(this.lastPoint,j4X,z4X,g4X.chart);if(this.lastPoint === ("1" ^ 0)){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!1;return ! ![];}}return ![];};f8V.Drawing.elliottwave.prototype.render=function(X4X){var v88,D7X,v7X,o7X,p7X,I7X,B7X,M7X,F7X,b7X,w7X,m7X,K7X,b88,P5x,T5x,Y5x,o88,x7X,O7X,s7X,y7X,E7X,a7X,r7X,k7X,c7X,Q7X,P7X,Y7X,C7X,S7X;v88="st";v88+="rin";v88+="g";D7X=this.stx.panels[this.panelName];if(!D7X){return;}v7X=this.stx;o7X=this.annotationPoints;p7X=this.pattern?f8V.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();X4X.font=this.fontString;X4X.textAlign="center";X4X.textBaseline="middle";X4X.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(X4X);}this.lastFontString=this.fontString;I7X=this.getLineColor();X4X.fillStyle=X4X.strokeStyle=I7X;X4X.save();X4X.setLineDash(p7X);B7X=this.dx;M7X=this.dy;F7X=this.points;b7X=this.pts;w7X=!this.showLines && this.highlighted;m7X=F7X.length;if(this.penDown && this.segment){b88="to";b88+="p";K7X=this.trend * (m7X % 2 - 0.5) < 0;P5x=-809290324;P7T.B3g(1);T5x=-P7T.U3g("974700787",1);Y5x=2;for(var g5x=1;P7T.c3x(g5x.toString(),g5x.toString().length,39340) !== P5x;g5x++){if(D7X.yAxis.flipped){K7X=-K7X;}Y5x+=2;}if(P7T.i3x(Y5x.toString(),Y5x.toString().length,+"81393") !== T5x){if(D7X.yAxis.flipped){K7X=!K7X;}}this.drawDropZone(X4X,F7X[m7X - ("2" << 865735840)][1],this.stx.priceFromPixel(D7X.yAxis[K7X?b88:"bottom"]),F7X[m7X - 2][0]);}else if(typeof this.highlighted === v88 && this.stx.repositioningDrawing){o88="m";o88+="i";o88+="n";x7X=parseInt(this.highlighted.substring(1,this.highlighted.length),"10" ^ 0);K7X=this.trend * (x7X % 2 - 0.5) > +"0";P7T.B3g(7);O7X=F7X[P7T.U3g(x7X,1)];P7T.V3g(2);s7X=F7X[P7T.w3g(x7X,1)];y7X=x7X > ("0" ^ 0)?O7X[1]:s7X[1];if(s7X){y7X=Math[K7X?"max":o88](y7X,s7X[1]);}if(D7X.yAxis.flipped){K7X=!K7X;}this.drawDropZone(X4X,y7X,this.stx.priceFromPixel(D7X.yAxis[K7X?"top":"bottom"]),O7X?O7X[0]:null,s7X?s7X[+"0"]:null);}for(var W4X="0" & 2147483647;W4X < m7X;W4X++){E7X=F7X[W4X];a7X=v7X.pixelFromTick(E7X[0],D7X.chart);r7X=v7X.pixelFromValueAdjusted(D7X,E7X[0],E7X[1]);b7X[W4X]=[a7X,r7X];}W4X=0;P7T.a6T();if(this.showLines || w7X){X4X.beginPath();if(w7X){X4X.globalAlpha=0.3;}for(;W4X < b7X.length;W4X++){X4X.lineTo(b7X[W4X][0],b7X[W4X][1]);}X4X.stroke();W4X=0;}X4X.restore();for(;W4X < m7X;W4X++){k7X=W4X % 2?B7X:-B7X;c7X=W4X % 2?M7X:-M7X;k7X*=this.trend;c7X*=this.trend;if(D7X.yAxis.flipped){k7X*=-1;c7X*=-1;}Q7X=b7X[W4X];P7X=Q7X[2]=Q7X[0] + k7X;Y7X=Q7X[3]=Q7X[1] + c7X;C7X=this.enclosedRadius || 8;S7X=o7X[W4X];if(this.decoration === "parentheses"){P7T.V3g(46);S7X=P7T.U3g(S7X,")","(");}X4X.fillText(S7X,P7X,Y7X);if(this.decoration === "enclosed"){X4X.beginPath();X4X.arc(P7X,Y7X,C7X,0,2 * Math.PI,![]);X4X.stroke();}if(this.highlighted){X4X.save();this.littleCircle(X4X,this.pts[W4X][+"0"],this.pts[W4X][1],this.highlighted === "p" + W4X);X4X.restore();}}};f8V.Drawing.elliottwave.prototype.reposition=function(T7X,f7X,u7X,G7X){var k88,e7X,V7X,Z7X,J7X,d7X,t7X;k88="dr";k88+="ag";if(!f7X){return;}e7X=this.stx.panels[this.panelName];V7X=f7X.tick - u7X;Z7X=f7X.value - G7X;if(f7X.action === "move"){for(var l7X=0;f7X.points.length > l7X;l7X++){J7X=f7X.points[l7X];this.setPoint(l7X,J7X[0] - V7X,J7X[+"1"] - Z7X,e7X.chart);this.points[l7X]=[J7X[0] - V7X,J7X[1] - Z7X];}}if(f7X.action === k88){d7X=f7X.point;t7X=this.points;t7X[d7X]=[u7X,G7X];if(this.check(u7X,G7X,d7X)){this.setPoint(d7X,u7X,G7X,e7X.chart);;};}this.render(T7X);};f8V.Drawing.elliottwave.prototype.intersected=function(L7X,A7X,N7X){P7T.a6T();var q7X,H7X,O88;if(!this.p0 || !this.p1){return null;}for(var n7X="0" ^ 0;this.points.length > n7X;n7X++){H7X=this.points[n7X];if(this.pointIntersection(H7X[0],H7X[1],N7X)){O88="d";O88+="r";O88+="ag";P7T.B3g(2);this.highlighted=P7T.U3g(4610 < 389.43?879.56 < 2530?0x16b6:7.75e+3:"p",n7X);return {action:O88,point:n7X,tick:L7X,value:A7X};}if(this.points[n7X + 1] && this.lineIntersection(L7X,A7X,N7X,"segment",H7X,this.points[n7X + 1])){this.highlighted=! ![];q7X={action:"move",points:f8V.clone(this.points),tick:L7X,value:A7X};}}return q7X;};f8V.Drawing.elliottwave.prototype.measure=function(){var i7X,j7X,U7X,h7X;P7T.a6T();if(this.points.length >= 2){i7X=this.points;this.stx.setMeasure(i7X[0][1],i7X[i7X.length - 1][1],i7X[0][0],i7X[i7X.length - 1][0],! !{});j7X=this.stx.controls.mSticky;U7X=j7X && j7X.querySelector(".mStickyInterior");if(U7X){h7X=[];h7X.push(f8V.capitalize("Elliott Wave"));if(this.getYValue){h7X.push(this.field || this.stx.defaultPlotField || "Close");}h7X.push(U7X.innerHTML);U7X.innerHTML=h7X.join("<br>");}}};f8V.Drawing.printProjection=function(F0X,B0X,z7X){var R7X,X7X,E0X,b0X,k0X,m0X,c0X,s0X,K0X,O0X,D0X,S0X,y0X,Q0X,g7X,v0X;R7X=B0X.arr;if(R7X.length > 1){X7X=R7X[0][0];E0X=Math.round(F0X.chart.maxTicks * 0.75);for(var W7X=+"1";W7X < R7X.length;W7X++){P7T.V3g(54);b0X=R7X[P7T.w3g(0,W7X,"1")][0];P7T.V3g(17);k0X=R7X[W7X][P7T.w3g("0",381575648)];m0X=f8V.strToDateTime(b0X);c0X=f8V.strToDateTime(k0X).getTime();s0X=F0X.standardMarketIterator(m0X);K0X=0;while(m0X.getTime() < c0X){m0X=s0X.next();K0X+=1;}O0X=f8V.strToDateTime(b0X).getTime();if(O0X > f8V.strToDateTime(z7X[z7X.length - 1].Date).getTime()){D0X=z7X.length - 1;K0X+=1;}else {for(D0X=z7X.length - ("1" ^ 0);D0X >= 0;D0X--){if(O0X <= f8V.strToDateTime(z7X[D0X].Date).getTime())break;}}S0X={x0:0,x1:K0X,y0:z7X[D0X].Close,y1:R7X[W7X][1]};X7X=f8V.strToDateTime(b0X);s0X=F0X.standardMarketIterator(X7X);y0X=![];for(var x0X="0" << 812381344;x0X <= K0X;x0X++){if(!y0X){y0X=! !1;}else {X7X=s0X.next();}if(X7X.getTime() <= z7X[z7X.length - 1].DT.getTime())continue;Q0X=f8V.yIntersection(S0X,x0X);if(!Q0X){Q0X=0;}g7X=Math.round(Q0X * 10000) / 10000;if(g7X === 0){P7T.V3g(0);g7X=R7X[W7X][P7T.w3g("1",0)];}v0X={Date:f8V.yyyymmddhhmmssmmm(X7X),DT:X7X,Open:g7X,Close:g7X,High:g7X,Low:g7X,Volume:0,Adj_Close:g7X,Split_Close:g7X,projection:! !"1"};if(F0X.layout.interval == "minute")if(E0X-- < 0)break;z7X[z7X.length]=v0X;}}}};}};r34=w0X=>{var M0X,x88;M0X=typeof _CIQ !== "undefined"?_CIQ:w0X.CIQ;if(!M0X.computeEquationChart){x88="equat";x88+="ionsAdvanced feature ";x88+="requires first activ";x88+="ating equations feature.";console.error(x88);}else {M0X.formatEquation=function(r0X){var K5T=l4kk;var o0X,I0X,P0X,p0X,Y0X;o0X="";I0X=[];P0X="";p0X=!1;for(var a0X=1;a0X < r0X.length;a0X++){Y0X=r0X[a0X].toUpperCase();if(Y0X == ((4993,9743) != 5820?+"429" === (75.53,456.36)?(435.83,742.72) > 9060?(0xd81,0x239):"C":"[":("b","J")) && !p0X){p0X=!"";}else if(Y0X == ((2545,3590) < 36.58?(+"2.90e+3",0x57d):(+"834.38",6630) <= (8037,7367)?"]":(60.62,"8180" * 1) > ("4860" ^ 0,4145)?5.25e+3:"k") && p0X){p0X=! !0;if(P0X !== ""){I0X.push(P0X);K5T.B3g(46);o0X+=K5T.U3g(P0X,"]",(1431,747.95) !== 1000?"[":(1936,677.81) == (2710,4184)?"H":4.08e+2);}P0X="";}else if(p0X){P0X+=Y0X;}else if(Y0X == (4430 <= (1080,407.66)?(8700,351.09) != 9720?! !1:(647.90,!""):"+") || Y0X == ((8129,972.77) >= 7830?(401.84,1.66) >= (+"35.99",3184)?(0x6ac,1.71e+3):"849.63" - 0:"-") || Y0X == ((464.29,601) <= 984.67?"*":("T",![])) || Y0X == "/" || Y0X == ("1180" - 0 != (4282,+"4779")?":":2893 > (246.67,119.24)?810.97:! ![]) || Y0X == "%" || Y0X == ((555,5551) <= (453,7640)?(418.13,277.86) >= 9470?"608.04" * 1:"(":("p",!"1")) || Y0X == ((599,4334) == 7420?3.01e+3:")")){if(P0X !== "" && isNaN(P0X)){I0X.push(P0X);K5T.B3g(46);o0X+=K5T.w3g(P0X,"]",(8360,3284) > 247.31?"[":9.00e+3);}else {o0X+=P0X;}if(Y0X == ":"){Y0X="/";}o0X+=Y0X;P0X="";}else if(Y0X != (391.92 > (7348,4521)?+"4940" == (6587,9485)?(308.01,+"0xf38"):322.26 != 955.82?"G":(5.02e+3,0xa7a):" ")){P0X+=Y0X;}}if(P0X !== "" && isNaN(P0X)){I0X.push(P0X);K5T.B3g(46);o0X+=K5T.w3g(P0X,"]",(7280,6020) <= 2260?(378.52,347.98):6453 == ("398.51" - 0,7000)?"n":"[");}else {o0X+=P0X;}return {equation:o0X,symbols:I0X};};M0X.fetchEquationChart=function(C0X,e0X){var J0X,u0X,G0X,d0X,l0X;J0X=M0X.formatEquation(C0X.symbol);u0X=J0X.symbols;l4kk.t6T();G0X=[];d0X=C0X.stx;C0X.stx=null;for(var f0X="0" & 2147483647;f0X < u0X.length;f0X++){l0X=M0X.shallowClone(C0X);l0X.stx=d0X;l0X.symbol=u0X[f0X];l0X.symbolObject={symbol:u0X[f0X]};G0X.push(l0X);}C0X.stx=d0X;d0X.quoteDriver.multiFetch(G0X,function(L0X){var n0X,V0X,Z0X,t0X,A0X;n0X={};C0X.loadMoreReplace=!"";V0X={charge:"0" << 915801152};for(var T0X=0;T0X < L0X.length;T0X++){Z0X=L0X[T0X];if(Z0X.dataCallback.error){e0X({error:Z0X.dataCallback.error});return;}n0X[Z0X.params.symbol]=Z0X.dataCallback.quotes;C0X.loadMoreReplace=C0X.loadMoreReplace && Z0X.params.loadMoreReplace;C0X.moreToLoad=C0X.moreToLoad || Z0X.dataCallback.moreAvailable;t0X=Z0X.dataCallback.attribution;if(t0X){if(t0X.charge){V0X.charge+=t0X.charge;}V0X.source=t0X.source;if(V0X.exchange === undefined){V0X.exchange=t0X.exchange;}else if(V0X.exchange != t0X.exchange){V0X.exchange="";};}}l4kk.a6T();if(G0X.length || !(C0X.loadMore || C0X.update)){try{A0X=M0X.computeEquationChart(J0X.equation,n0X);e0X({quotes:A0X,moreAvailable:C0X.moreToLoad,attribution:V0X});}catch(N0X){var P88,D88,H0X;P88="N";P88+="oExcept";P88+="ion";D88="I";D88+="nv";D88+="alid equation: ";H0X={error:D88 + J0X.equation};if(N0X.name && N0X.name == P88){H0X.suppressAlert=! !{};}e0X(H0X);}}});};}};C34=i0X=>{var q0X;q0X=typeof _CIQ !== "undefined"?_CIQ:i0X.CIQ;if(!q0X.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else {q0X.ChartEngine.prototype.removeDOMMarker=function(h0X){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");l4kk.a6T();q0X.Marker.Performance.prototype.removeDOMMarker.call(h0X.params.node,h0X);};q0X.ChartEngine.prototype.drawMarkers=function(){l4kk.t6T();console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");q0X.Marker.Performance.drawMarkers(this);};q0X.ChartEngine.prototype.calculateMarkerStyles=function(U0X,j0X){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");q0X.Marker.Performance.calculateMarkerStyles(this,U0X,j0X);};q0X.ChartEngine.prototype.drawCircleMarker=function(z0X,g0X,R0X){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");q0X.Marker.Performance.drawCircleMarker(z0X,g0X,R0X);};q0X.ChartEngine.prototype.drawSquareMarker=function(X0X,W0X,D6X){var T88;T88="CIQ.ChartEngine";T88+="#drawSquareMarker is scheduled for deprecation in a future release\n P";T88+="lease use CIQ.Marker.Performance.d";T88+="rawSquareMarker instead.";l4kk.t6T();console.warn(T88);q0X.Marker.Performance.drawSquareMarker(X0X,W0X,D6X);};q0X.ChartEngine.prototype.drawCalloutMarker=function(K6X,F6X,b6X){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");q0X.Marker.Performance.drawCalloutMarker(K6X,F6X,b6X);};q0X.ChartEngine.prototype.drawMarkerStem=function(m6X,s6X,x6X){l4kk.a6T();console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");q0X.Marker.Performance.drawMarkerStem(m6X,s6X,x6X);};q0X.ChartEngine.prototype.positionDOMMarkers=function(){l4kk.a6T();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");q0X.Marker.Performance.drawMarkers(this);};q0X.Marker.Performance=function(y6X){var g88,q88,Y88,O6X,Q6X,k6X,S6X,E6X,c6X,v6X,a88,B6X;g88="</";g88+="di";g88+="v";g88+=">";q88="<div class=\"stx-marker stx";q88+="-performance-marker stx-marker-expand\"><h4></h4><p></p></div>";Y88="<d";Y88+="iv class=\"stx-visu";Y88+="al\">";this.params={displayCategory:! !"1",displayStem:! !{},invert:![],story:"",headline:""};q0X.extend(this.params,y6X);O6X=this.template=document.createElement("TEMPLATE");l4kk.V3g(55);O6X.innerHTML=l4kk.w3g(g88,q88,'<div class="stx-marker highlight">',"</div>",'<div class="stx-stem"></div>','<div class="stx-marker-content">',Y88,"</div>");Q6X=this.template.content.cloneNode(! !{});k6X=Q6X.querySelector(".stx-marker",O6X);k6X.classList.add(y6X.type);k6X.classList.add(y6X.category);S6X=Q6X.querySelector(".stx-visual",O6X);E6X=Q6X.querySelector(".stx-marker-expand");c6X=Q6X.querySelector("h4",O6X);v6X=Q6X.querySelector(771.53 >= (6243,9539)?("J","u"):(9290,65.11) > 6190?+"534.11" >= +"993.82"?(!"",!0):"Z":"p",O6X);c6X.innerText=this.params.headline;v6X.innerText=this.params.story;this.hasText=! !y6X.headline || ! !y6X.story;this.deferAttach=! !1;this.node=Q6X.firstChild;this.node.params=this.params;this.visual=S6X;this.expand=E6X;if(y6X.type === "callout"){a88=".s";a88+="tx-marker-conte";a88+="nt";B6X=E6X.removeChild(c6X);Q6X.querySelector(a88,O6X).insertBefore(B6X,E6X);}};q0X.inheritsFrom(q0X.Marker.Performance,q0X.Marker.NodeCreator,! !0);q0X.Marker.Performance.consolidateExpanded=function(I6X){var M6X,w6X,o6X,Y6X,p6X;M6X=I6X.markerHelper.highlighted;if(!M6X.length){return;}w6X=M6X[M6X.length - 1];o6X=w6X.params.node;function a6X(l6X){var U88,C6X,r6X,f6X;U88="n";U88+="o";U88+="ne";C6X=l6X.params.node;r6X=C6X.expand;if(!r6X){return "";}f6X=r6X.style.display !== U88?r6X.innerHTML:"";return f6X;}if(!w6X.consolidated){w6X.consolidated=[];}for(var P6X=M6X.length - 2;P6X >= 0;P6X--){Y6X=a6X(M6X[P6X]);l4kk.V3g(46);p6X=l4kk.U3g(Y6X,"</consolidated>","<consolidated>");if(Y6X.length){o6X.expand.innerHTML+=p6X;}}w6X.stxNodeCreator.quickCache(w6X);};q0X.Marker.Performance.reconstituteExpanded=function(d6X){var J6X,I88,e6X,V6X,G6X;J6X=d6X.markerHelper.highlighted;if(!J6X.length || !d6X.activeMarker){return;}J6X=[d6X.activeMarker];for(var u6X=J6X.length - 1;u6X >= ("0" | 0);u6X--){I88="CONSO";I88+="LI";I88+="DATED";e6X=J6X[u6X];V6X=e6X.params.node;G6X=V6X.expand;while(G6X.lastElementChild.nodeName === I88){G6X.removeChild(G6X.lastElementChild);}}};q0X.Marker.Performance.drawMarkers=function(L6X){var H6X,Z6X,T6X,n6X,A6X,N6X;H6X=L6X.getMarkerArray("all");Z6X=L6X.chart;for(var t6X=0;t6X < H6X.length;t6X++){T6X=H6X[t6X];n6X=T6X.stxNodeCreator;A6X=Z6X.dataSegment[0].tick;N6X=Z6X.dataSegment[Z6X.dataSegment.length - 1].tick;if(A6X <= T6X.tick <= N6X){if(n6X && n6X.drawMarker){n6X.drawMarker(T6X);}}}};q0X.Marker.Performance.calculateMarkerStyles=function(i6X,h6X,z6X){l4kk.a6T();var q6X,U6X,j6X;q6X=document.querySelector(".stx-marker-templates");if(!q6X){q6X=document.createElement("DIV");q6X.style.visibility="hidden";q6X.style.left="-1000px";document.body.append(q6X);}q6X.appendChild(h6X.node);U6X=getComputedStyle(h6X.stxNodeCreator.visual);if(!i6X.styles.stx_marker_stem){j6X=getComputedStyle(document.querySelector(".stx-stem",h6X.node));i6X.styles.stx_marker_stem=i6X.cloneStyle(j6X);}i6X.styles[z6X]=i6X.cloneStyle(U6X);q6X.removeChild(h6X.node);};q0X.Marker.Performance.drawCircleMarker=function(D8X,x8X,R6X){var m8X,s8X,g6X,X6X,W6X,K8X,F8X,b8X,K88;m8X=D8X.params.stx;s8X=m8X.chart;g6X=s8X.context;X6X=R6X.x;W6X=R6X.y;K8X=R6X.radius;F8X=R6X.label;b8X=R6X.color?R6X.color:x8X.backgroundColor;g6X.beginPath();g6X.setLineDash([]);g6X.lineWidth=+"1";g6X.fillStyle=b8X;g6X.strokeStyle=b8X;g6X.font="normal bold 12px Roboto, Helvetica, sans-serif";g6X.arc(X6X,W6X,K8X,0,2 * Math.PI,!1);g6X.fill();g6X.stroke();g6X.closePath();if(F8X){K88="bl";K88+="ack";g6X.fillStyle=q0X.colorsEqual("white",g6X.fillStyle)?K88:"white";g6X.fillText(F8X.charAt("0" & 2147483647).toUpperCase(),X6X - 4,W6X + 1);}if(D8X.highlight || D8X.active){g6X.beginPath();l4kk.V3g(2);g6X.arc(X6X,W6X,l4kk.U3g(K8X,4),0,2 * Math.PI,!"1");g6X.stroke();g6X.closePath();}};q0X.Marker.Performance.drawSquareMarker=function(S8X,P8X,O8X){var p5T=l4kk;var M8X,w8X,Q8X,k8X,c8X,y8X,v8X,B8X,E8X,S88;M8X=S8X.params.stx;w8X=M8X.chart;Q8X=w8X.context;k8X=O8X.x;c8X=O8X.y;y8X=O8X.half;v8X=O8X.label;B8X=O8X.color?O8X.color:P8X.backgroundColor;p5T.B3g(56);E8X=p5T.U3g(y8X,"2");Q8X.beginPath();Q8X.setLineDash([]);Q8X.lineWidth=1;Q8X.fillStyle=B8X;Q8X.strokeStyle=B8X;Q8X.font="normal bold 12px Roboto, Helvetica, sans-serif";p5T.V3g(7);Q8X.rect(p5T.U3g(k8X,y8X),p5T.U3g(c8X,y8X),E8X,E8X);Q8X.fill();if(S8X.highlight || S8X.active){p5T.V3g(57);Q8X.rect(p5T.U3g(4,k8X,y8X),p5T.w3g(y8X,c8X,"4",p5T.V3g(58)),p5T.w3g(E8X,8,p5T.B3g(2)),p5T.U3g(E8X,8,p5T.B3g(2)));}Q8X.stroke();Q8X.closePath();if(v8X){S88="bl";S88+="a";S88+="c";S88+="k";Q8X.fillStyle=q0X.colorsEqual("white",Q8X.fillStyle)?S88:"white";Q8X.fillText(v8X.charAt(0).toUpperCase(),k8X - 4,c8X + 1);}};q0X.Marker.Performance.drawCalloutMarker=function(I8X,Z8X,o8X){l4kk.a6T();var d8X,e8X,Y8X,p8X,t8X,r8X,C8X,f8X,l8X,J8X,V8X,a8X,u8X,G8X;d8X=I8X.params.stx;e8X=d8X.chart;Y8X=e8X.context;p8X=I8X.params;t8X=o8X.x;r8X=o8X.y;C8X=o8X.half;f8X=o8X.midWidth;l8X=o8X.headline;J8X=o8X.color?o8X.color:Z8X.backgroundColor;V8X=C8X * 2 || 25;a8X=Math.round(Y8X.measureText(l8X).width);u8X=f8X?f8X * 2:a8X + 8;Y8X.beginPath();Y8X.setLineDash([]);Y8X.lineWidth=1;Y8X.fillStyle=J8X;Y8X.strokeStyle=J8X;Y8X.font="normal bold 12px Roboto, Helvetica, sans-serif";Y8X.rect(p8X.box.x0,p8X.box.y0,u8X,V8X);Y8X.fill();Y8X.stroke();Y8X.closePath();Y8X.beginPath();Y8X.fillStyle=I8X.highlight || I8X.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";l4kk.V3g(59);G8X=l4kk.w3g(2,a8X,u8X,20);Y8X.rect(p8X.box.x0 + G8X,r8X - C8X,a8X + 40,22);Y8X.fill();Y8X.stroke();Y8X.closePath();Y8X.fillStyle="black";Y8X.fillText(l8X,p8X.box.x0 + G8X + +"10",r8X);};q0X.Marker.Performance.drawMarkerStem=function(n8X,N8X,H8X){var q8X,i8X,T8X,L8X,j8X,A8X,h8X,U8X;q8X=n8X.params.stx;i8X=q8X.chart;T8X=i8X.context;L8X=H8X.x;j8X=H8X.y;T8X.beginPath();l4kk.a6T();T8X.strokeStyle=N8X.borderLeftColor;T8X.setLineDash([1,1]);A8X=q0X.stripPX(N8X.height);h8X=H8X.invert?n8X.params.box.y0:n8X.params.box.y1;U8X=H8X.invert?n8X.params.box.y0 - A8X:n8X.params.box.y1 + A8X;T8X.moveTo(L8X,h8X);T8X.lineTo(L8X,U8X);T8X.stroke();T8X.closePath();};q0X.Marker.Performance.prototype.drawMarker=function(z8X){var Z5T=l4kk;var W88,h88,u88,J88,x1X,R8X,S1X,v1X,E1X,X8X,F1X,b1X,B1X,k1X,Q1X,c1X,O1X,W8X,y1X,g8X,m1X,s1X,M1X,w1X,D1X,K1X,p88;W88="c";W88+="a";W88+="ll";W88+="out";h88="s";h88+="qu";h88+="are";u88="c";u88+="ircle";J88="s";J88+="tx";J88+="_mar";J88+="ker_";x1X=z8X.params;R8X=z8X.params.stx;if(!R8X){return;}S1X=R8X.chart;v1X=S1X.dataSegment;if(!v1X.length){return;}E1X=R8X.panels[z8X.params.panelName];X8X=z8X.stxNodeCreator.params;F1X=X8X.type;b1X=X8X.category;B1X=X8X.headline;k1X=X8X.displayCategory;Q1X=X8X.color;c1X=X8X.invert;Z5T.V3g(60);O1X=Z5T.w3g(b1X,F1X,J88,"_");if(!R8X.styles[O1X]){q0X.Marker.Performance.calculateMarkerStyles(R8X,z8X,O1X);}W8X=z8X.style=R8X.styles[O1X];y1X=R8X.styles.stx_marker_stem;g8X=parseInt(W8X.height,10) / 2;m1X=parseInt(W8X.width,10) / 2;s1X=X8X.displayStem?parseInt(y1X.height,10) + parseInt(y1X.marginBottom,10):0;M1X=s1X + parseInt(W8X.height,10);w1X=s1X?s1X + g8X:"0" & 2147483647;D1X=R8X.pixelFromDate(x1X.x);K1X=x1X.node.calculateYPosition({marker:z8X,panel:E1X,height:M1X,half:g8X,offset:w1X,inverted:c1X});if(!z8X.tick && z8X.tick !== 0){return;}x1X.box={x0:D1X - (m1X || g8X),y0:K1X - g8X,x1:D1X + (m1X || g8X),y1:K1X + g8X,midY:g8X,midX:m1X || g8X,stemHeight:s1X};if(!k1X){b1X=k1X;}R8X.startClip(E1X.name);if(F1X === u88){q0X.Marker.Performance.drawCircleMarker(z8X,W8X,{x:D1X,y:K1X,radius:g8X,label:b1X,color:Q1X});}else if(F1X === h88){q0X.Marker.Performance.drawSquareMarker(z8X,W8X,{x:D1X,y:K1X,half:g8X,label:b1X,color:Q1X});}else if(F1X === W88){q0X.Marker.Performance.drawCalloutMarker(z8X,W8X,{x:D1X,y:K1X,half:g8X,midWidth:m1X,headline:B1X,color:Q1X});}else {p88=" is unsupported with canv";p88+="as mar";p88+="kers!\nSupported Styles are Square, Circle, an";p88+="d Callout.";Z5T.V3g(46);console.warn(Z5T.w3g(F1X,p88,"Marker type: "));}if(X8X.displayStem){q0X.Marker.Performance.drawMarkerStem(z8X,y1X,{x:D1X,y:K1X,invert:c1X});}R8X.endClip();if(z8X.attached){this.positionPopUpNode(z8X);}};q0X.Marker.Performance.prototype.positionPopUpNode=function(Y1X){var B88,G88,C1X,p1X,P1X,f1X,a1X,o1X,l1X,e1X,V1X,Z1X,t1X,J1X,I1X,d1X,u1X,r1X,G1X,T1X;B88="px) tra";B88+="ns";B88+="l";B88+="ateZ(0)";G88="tra";G88+="nslate";G88+="X(";if(!Y1X.attached || !Y1X.params.box){return;}l4kk.a6T();C1X=Y1X.params;p1X=C1X.stx;P1X=C1X.box;f1X=Y1X.params.node.expand;a1X=p1X.chart.dataSet;o1X=p1X.chart.dataSegment;if(Y1X.tick){e1X=[a1X[o1X[+"0"] && o1X["0" << 916056096].tick - 1],a1X[o1X[0] && o1X[0].tick - 2]];V1X=p1X.getFirstLastDataRecord(e1X.concat(o1X),"Date");Z1X=[a1X[o1X[o1X.length - 1].tick + 1],a1X[o1X[o1X.length - "1" * 1].tick + +"2"]];t1X=p1X.getFirstLastDataRecord(o1X.concat(Z1X),"Date",! !{});l1X=V1X.DT <= a1X[Y1X.tick].DT && a1X[Y1X.tick].DT <= t1X.DT;}else {l1X=! !0;}if(!Y1X.highlight && !Y1X.active){l1X=![];}f1X.style.visibility=l1X?"":"hidden";if(!l1X){return;}J1X=p1X.panels[C1X.panelName];I1X=f1X.rects;d1X=I1X.height / 2;r1X=Y1X.node.params.infoOffset || 0;if(Y1X.node.params.infoOnLeft){u1X=P1X.x0 - I1X.width - r1X < J1X.left?P1X.x1 + r1X:P1X.x0 - I1X.width - r1X;}else {u1X=P1X.x0 + I1X.width > J1X.right?P1X.x0 - I1X.width - r1X:P1X.x1 + r1X;}u1X-=p1X.chart.left;G1X=P1X.y0 - d1X >= J1X.top?P1X.y0 + P1X.midY - d1X:P1X.y0;if(!C1X.avoidFlush && P1X.y1 + P1X.stemHeight === J1X.yAxis.bottom && I1X.height > P1X.y1 - P1X.y0 + P1X.stemHeight){G1X=P1X.y1 - I1X.height + P1X.stemHeight;}G1X-=p1X.chart.panel.top;T1X=G88 + Math.floor(u1X) + "px) translateY(" + Math.floor(G1X) + B88;f1X.style.transform=T1X;f1X.transform={translateX:u1X,translateY:G1X};};q0X.Marker.Performance.prototype.quickCache=function(L1X){var A1X,n1X,H1X,N1X;A1X=L1X.params.node;n1X=A1X.expand;H1X=L1X.style;N1X=q0X.stripPX(H1X.marginLeft) + q0X.stripPX(H1X.marginRight) + q0X.stripPX(H1X.borderRight) + q0X.stripPX(H1X.borderLeft);n1X.rects=n1X.getBoundingClientRect();n1X.scrollBarWidth=n1X.rects.width - n1X.clientWidth - N1X;};q0X.Marker.Performance.prototype.calculateYPosition=function(g1X){var j88,L88,z1X,i1X,W1X,R1X,j1X,D9X,h1X,K9X,F9X,U1X,X1X,b9X,q1X,m9X,s9X;j88="above_c";j88+="a";j88+="ndle";L88="v";L88+="alu";L88+="e";z1X=g1X.marker;i1X=g1X.panel;W1X=g1X.height;R1X=g1X.half;j1X=g1X.offset;D9X=g1X.inverted;h1X=z1X.params.stx;K9X=h1X.chart;F9X=h1X.chart.highLowBars;U1X=K9X.dataSet[z1X.tick];if(!U1X){return;}X1X=F9X?U1X.High:U1X.Close;b9X=z1X.params.yPositioner;switch(b9X){case L88:if(z1X.params.y || z1X.params.y === 0){q1X=h1X.pixelFromPrice(z1X.params.y,i1X) - W1X * 0.5 + R1X;}else {q1X=h1X.pixelFromPrice(X1X,i1X) - j1X;}break;case j88:q1X=h1X.pixelFromPrice(X1X,i1X) - j1X;break;case "below_candle":q1X=h1X.pixelFromPrice(U1X.Low || X1X,i1X);if(D9X && j1X){q1X+=j1X;}else {q1X+=R1X;}break;case "on_candle":(m9X=U1X.High || U1X.Close,s9X=U1X.Low || U1X.Low === 0 || U1X.Close);q1X=h1X.pixelFromPrice((m9X + s9X) / 2,i1X) - W1X * 0.5 + R1X;break;case "top":q1X=h1X.pixelFromPrice(i1X.yAxis.high,i1X);if(D9X && j1X){q1X+=j1X;}else {q1X+=R1X;}break;case "bottom":q1X=h1X.pixelFromPrice(i1X.yAxis.low,i1X) - (j1X || R1X);break;default:break;}return q1X;};q0X.Marker.Performance.prototype.prepareForHolder=function(Q9X){var x9X,O9X;x9X=this.expand;O9X=Q9X.params.stx;x9X.classList.add(this.params.type);O9X.markerHelper.domMarkers.push(Q9X);return x9X;};q0X.Marker.Performance.prototype.addToHolder=function(k9X){var Q88,E9X,y9X;Q88="tou";Q88+="c";Q88+="hsta";Q88+="rt";l4kk.a6T();function c9X(S9X){l4kk.t6T();y9X.activeMarker=k9X;y9X.activeMarker.click({cx:S9X.clientX,cy:S9X.clientY,panel:y9X.currentPanel});S9X.stopPropagation();}E9X=this.expand;y9X=k9X.params.stx;q0X.Marker.Performance.reconstituteExpanded(y9X);q0X.Marker.Performance.consolidateExpanded(y9X);this.quickCache(k9X);if(E9X.clickClosure){return;}E9X.addEventListener("mousedown",c9X);E9X.addEventListener(Q88,c9X);E9X.clickClosure=c9X;};q0X.Marker.Performance.prototype.remove=function(B9X){var v9X,w9X,P9X,M9X;v9X=B9X.params.stx;if(!v9X){return;}if(!v9X.markerHelper.domMarkers){return;}w9X=v9X.markerHelper.domMarkers.indexOf(B9X);if(w9X != -1){v9X.markerHelper.domMarkers.splice(w9X,1);}l4kk.a6T();if(B9X.attached){P9X=v9X.panels[B9X.params.panelName];M9X=B9X.params.node.expand;if(M9X.parentNode === P9X.subholder){P9X.subholder.removeChild(M9X);}M9X.removeEventListener("click",M9X.clickClosure);}};q0X.Marker.Performance.prototype.click=function(a9X){var p9X,r9X,o9X;if(!this.hasText){return;}if(typeof arguments[0] === "number"){a9X={cx:arguments[0],cy:arguments[+"1"],marker:arguments[2],panel:arguments[3]};}var {cx:I9X, cy:C9X, marker:Y9X, panel:f9X}=a9X;p9X=Y9X.params.stx;if(Y9X.attached){o9X=this.expand;if(o9X.rects.width - o9X.scrollBarWidth + o9X.transform.translateX < p9X.backOutX(I9X) && p9X.backOutX(I9X) < o9X.rects.width + o9X.transform.translateX){return;}this.remove(Y9X);}else {p9X.addToHolder(Y9X);r9X=! ![];}Y9X.attached=!Y9X.attached;Y9X.active=!Y9X.active;if(r9X){Y9X.stxNodeCreator.positionPopUpNode(Y9X);}};}};f34=J9X=>{var l9X;l9X=typeof _CIQ !== "undefined"?_CIQ:J9X.CIQ;l9X.Renderer.OHLC.requestNew=function(H9X,u9X){var G9X,e9X,V9X,Z9X,t9X,T9X,i88,c88,n9X;G9X=null;e9X=u9X.hlc;V9X=u9X.colored;Z9X=u9X.hollow;t9X=u9X.volume;T9X=u9X.histogram;for(var d9X=0;d9X < H9X.length;d9X++){i88="h";i88+="l";i88+="c";c88="c";c88+="and";c88+="le";n9X=H9X[d9X];switch(n9X){case "bar":case c88:G9X=n9X;break;case "volume":t9X=! ![];break;case "hollow":Z9X=! ![];break;case "colored":V9X=! ![];break;case "histogram":T9X=!"";G9X="candle";break;case i88:e9X=! !"1";G9X="bar";break;default:return null;}}if(G9X === null){return null;}return new l9X.Renderer.OHLC({params:l9X.extend(u9X,{type:G9X,hlc:e9X,colored:V9X,hollow:Z9X,volume:t9X,histogram:T9X})});};l9X.Renderer.OHLC.getChartParts=function(j9X,U9X){var k48,o48,v48,b48,z48,f48,w48,t48,l48,e48,E48,m48,Z48,y88,M88,H88,r88,n88,d88,F88,A88,V88,s88,X88,C88,R88,N88,N9X,q9X,i9X,L9X,A9X,h9X;k48="hol";k48+="low";o48="b";o48+="order_color_dow";o48+="n";v48="h";v48+="oll";v48+="o";v48+="w";b48="fill_colo";b48+="r_u";b48+="p";z48="st";z48+="x_hollow_";z48+="candle_up";f48="can";f48+="dl";f48+="e";w48="ho";w48+="llo";w48+="w";t48="s";t48+="tx_hollow_candle_e";t48+="ven";l4kk.t6T();l48="stx_hollow_candle_dow";l48+="n";e48="fi";e48+="ll_colo";e48+="r_u";e48+="p";E48="ho";E48+="ll";E48+="o";E48+="w";m48="ho";m48+="l";m48+="lo";m48+="w";Z48="sh";Z48+="ado";Z48+="w";y88="border";y88+="_colo";y88+="r_";y88+="down";M88="c";M88+="an";M88+="d";M88+="le";H88="fi";H88+="ll_";H88+="color_up";r88="b";r88+="order_color_even";n88="sha";n88+="do";n88+="w";d88="s";d88+="had";d88+="ow";F88="border_";F88+="c";F88+="olor_u";F88+="p";A88="s";A88+="ha";A88+="dow";V88="stx";V88+="_bar_ev";V88+="en";s88="b";s88+="a";s88+="r";X88="ba";X88+="r";C88="his";C88+="togram";R88="s";R88+="tx_his";R88+="togram_down";N88="f";N88+="ill_color_up";N9X=1;q9X=2;i9X=4;L9X=8;A9X=16;h9X=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:L9X,fill:N88,border:"border_color_up",useColorInMap:! !1,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:R88,condition:A9X,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:! ![]},{type:"histogram",drawType:C88,style:"stx_histogram_even",condition:h9X,fill:"fill_color_even",border:"border_color_even",skipIfPass:! ![],useColorInMap:! !{},useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:j9X || "stx_bar_chart",border:"border_color",useColorInMap:!""},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:U9X?L9X:N9X,border:"border_color_up",useColorInMap:! !"1"},{type:X88,drawType:s88,style:"stx_bar_down",condition:U9X?A9X:q9X,border:"border_color_down",useColorInMap:! ![]},{type:"bar",drawType:"bar",style:V88,condition:U9X?h9X:i9X,border:"border_color_even",skipIfPass:!0,useColorInMap:! ![]},{type:"candle",drawType:A88,style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:L9X,border:F88},{type:"candle",drawType:d88,style:"stx_candle_shadow_down",condition:A9X,border:"border_color_down"},{type:"candle",drawType:n88,style:"stx_candle_shadow_even",condition:h9X,border:r88,skipIfPass:! ![]},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:L9X,fill:H88,border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:! !"1"},{type:"candle",drawType:M88,style:"stx_candle_down",condition:A9X,fill:"fill_color_down",border:y88,useColorInMap:!"",useBorderStyleProp:! !1},{type:"hollow",drawType:Z48,style:"stx_hollow_candle_up",condition:N9X,border:"border_color_up"},{type:m48,drawType:"shadow",style:"stx_hollow_candle_down",condition:q9X,border:"border_color_down"},{type:E48,drawType:"shadow",style:"stx_hollow_candle_even",condition:i9X,border:"border_color_even",skipIfPass:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:N9X | A9X,fill:e48,border:"border_color_up",useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:l48,condition:q9X | A9X,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:t48,condition:i9X | A9X,fill:"fill_color_even",border:"border_color_even",skipIfPass:!"",useColorInMap:! !{}},{type:w48,drawType:f48,style:z48,condition:N9X | L9X,fill:b48,border:"border_color_up"},{type:v48,drawType:"candle",style:"stx_hollow_candle_down",condition:q9X | L9X,fill:"fill_color_down",border:o48},{type:k48,drawType:"candle",style:"stx_hollow_candle_even",condition:i9X | L9X,fill:"fill_color_even",border:"border_color_even"}];;};l9X.Renderer.Bars=function(g9X){var O48,z9X;l4kk.a6T();O48="b";O48+="a";O48+="r";this.construct(g9X);z9X=this.params;z9X.type=O48;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !"1";z9X.hlc=z9X.volume=z9X.hollow=z9X.histogram=!{};};l9X.inheritsFrom(l9X.Renderer.Bars,l9X.Renderer.OHLC,![]);l9X.Renderer.HLC=function(X9X){var x48,R9X;x48="b";x48+="a";l4kk.t6T();x48+="r";this.construct(X9X);R9X=this.params;R9X.type=x48;R9X.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];R9X.volume=R9X.hollow=R9X.histogram=!{};};l9X.inheritsFrom(l9X.Renderer.HLC,l9X.Renderer.Bars,![]);l9X.Renderer.Shading=function(W9X){this.construct(W9X);this.beenSetup=!{};this.errTimeout=null;this.params.useChartLegend=!{};this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! !{};}};l9X.inheritsFrom(l9X.Renderer.Shading,l9X.Renderer.Lines,! !"");l9X.Renderer.Shading.requestNew=function(F5X,m5X){var D5X,D48,b5X;D5X=null;for(var K5X=0;K5X < F5X.length;K5X++){D48="r";D48+="ang";D48+="echanne";D48+="l";b5X=F5X[K5X];if(b5X == "rangechannel"){D5X=D48;}}if(D5X === null){return null;}return new l9X.Renderer.Shading({params:l9X.extend(m5X,{type:D5X})});};l9X.Renderer.Shading.prototype.setShading=function(s5X){if(s5X.constructor != Array){s5X=[s5X];}l4kk.t6T();this.shading=s5X;};l9X.Renderer.Shading.prototype.draw=function(){var O5X,y5X,g48,q48,Y48,T48,P48,Y5X,k5X,o5X,v5X,a48,p5X,E5X,Q5X,B5X,U48,M5X,I5X,I48,x5X,S5X,w5X,P5X,c5X;O5X=this.stx;y5X=O5X.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {g48="stx_";g48+="line_d";g48+="own";q48="Sh";q48+="a";q48+="di";q48+="ng";Y48="Lo";Y48+="w";T48="st";T48+="x_line_up";P48="Shadi";P48+="ng";this.beenSetup=! ![];this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;Y5X=this.seriesParams[0].color || "auto";k5X=this.seriesParams[0].symbol;o5X="";if(k5X){l4kk.B3g(2);o5X=l4kk.U3g(k5X,("288" * 1,2660) < (4850,1572)?501.25 === (403.8,5910)?"u":+"924.81":".");}this.removeAllSeries(!"");v5X=this.params.name;O5X.addSeries(null,{symbol:k5X,loadData:! !k5X,field:"High",renderer:P48,name:v5X,style:T48,display:this.params.display,shareYAxis:! ![]});O5X.addSeries(null,{symbol:k5X,loadData:! !k5X,field:Y48,renderer:q48,name:v5X,style:g48,display:this.params.display,shareYAxis:! !{}});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:Y5X});}}if(!this.shading){if(!this.errTimeout){a48="Warning: no shading scheme set.  Use myRenderer.setShading(scheme) ";a48+="to set.";console.log(a48);p5X=this;this.errTimeout=setTimeout(function(){l4kk.a6T();p5X.errTimeout=null;},10000);}}E5X={};for(Q5X=0;Q5X < this.seriesParams.length;Q5X++){B5X={};if(y5X.series[this.seriesParams[Q5X].id]){B5X=l9X.clone(y5X.series[this.seriesParams[Q5X].id].parameters);}E5X[this.seriesParams[Q5X].id]={parameters:l9X.extend(l9X.extend(B5X,this.params),this.seriesParams[Q5X]),yValueCache:this.caches[this.seriesParams[Q5X].id]};}O5X.drawSeries(y5X,E5X,this.params.yAxis,this);if(y5X.legend && this.params.type == "rangechannel"){U48="stx";U48+="_l";U48+="ine_up";if(!y5X.legend.colorMap){y5X.legend.colorMap={};}M5X=this.params.display;I5X=[O5X.getCanvasColor(U48),O5X.getCanvasColor("stx_line_down")];y5X.legend.colorMap[M5X]={color:I5X,display:M5X,isBase:this == O5X.mainSeriesRenderer};;}function a5X(f5X){var r5X,l5X,C5X;r5X=E5X[f5X];l4kk.t6T();if(r5X){l5X=r5X.parameters.field;C5X=r5X.parameters.subField;l4kk.B3g(2);return l4kk.U3g(l5X,C5X?(865.85 === 769.36?! ![]:705.47 > "266.18" * 1?".":1120 > ("8670" ^ 0,7515)?7.48e+3:3.11e+3) + C5X:"");}return f5X;}for(Q5X in E5X){this.caches[Q5X]=E5X[Q5X].yValueCache;}for(Q5X=0;Q5X < this.shading.length;Q5X++){I48="au";I48+="to";x5X=this.shading[Q5X];S5X=x5X.color;if(x5X.color == I48){S5X=O5X.defaultColor;}if(!x5X.primary){x5X.primary="Close";}if(!x5X.secondary && this.seriesParams[0]){x5X.secondary=this.seriesParams[+"0"].field;}if(!x5X.secondary)continue;else if(!E5X[x5X.primary] && x5X.primary != "Close")continue;else if(!E5X[x5X.secondary])continue;else if(x5X.primary == "Close" && this.params.yAxis && this.params.yAxis != y5X.yAxis)continue;w5X=a5X(x5X.primary).split(("7708" & 2147483647) == (624,7816)?(5120,6848) <= +"265.92"?0x7de:9.50e+3:".");P5X=a5X(x5X.secondary).split(".");c5X={topBand:w5X[0],topSubBand:w5X[1],topColor:x5X.greater || S5X || O5X.containerColor,topAxis:this.params.yAxis,bottomBand:P5X[0],bottomSubBand:P5X[1],bottomColor:x5X.lesser || S5X || O5X.containerColor,bottomAxis:x5X.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || y5X.tension,opacity:0.1};if(!c5X.topColor && !c5X.bottomColor)continue;if(!this.params.highlight && O5X.highlightedDraggable){c5X.opacity*=0.3;}l9X.fillIntersecting(O5X,this.params.panel,c5X);}};l9X.Renderer.Histogram=function(J5X){var K48;K48="histog";K48+="r";K48+="am";this.construct(J5X);this.params.type=K48;this.barsHaveWidth=this.standaloneBars=! !"1";if(this.params.yAxis){this.params.bindToYAxis=! !"1";if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};l9X.inheritsFrom(l9X.Renderer.Histogram,l9X.Renderer,! !"");l9X.Renderer.Histogram.prototype.adjustYAxis=function(){var u5X;u5X=this.params.yAxis;if(!u5X || u5X.baseline){return;}u5X.min=0;u5X.highValue/=this.params.heightPercentage || 1;};l9X.Renderer.Histogram.prototype.draw=function(){var G5X,d5X,u48,J48,S48,e5X,V5X;G5X=l9X.clone(this.params);G5X.type=G5X.subtype;this.useSum=G5X.subtype == "stacked";if(!G5X.yAxis || G5X.yAxis == this.stx.chart.yAxis){G5X.bindToYAxis=! !"1";}this.stx.drawHistogram(G5X,this.seriesParams);d5X=G5X.yAxis && G5X.yAxis.baseline;if(d5X && d5X.color){u48="desti";u48+="nation-ov";u48+="er";J48="so";J48+="lid";S48="l";S48+="in";S48+="e";e5X=this.stx.panels[this.params.panel];V5X=this.stx.pixelFromPrice(d5X.value,e5X,this.params.yAxis) - 0.5;this.stx.plotLine({x0:e5X.left,x1:e5X.right,y0:V5X,y1:V5X,color:d5X.color,type:S48,context:e5X.chart.context,confineToPanel:e5X,pattern:d5X.pattern || J48,lineWidth:d5X.lineWidth || 1,opacity:d5X.opacity || 0.8,globalCompositeOperation:u48});}};l9X.Renderer.Histogram.prototype.getBasis=function(H5X,L5X,A5X){var T5X,h48,n5X,Z5X;T5X=0;if(H5X && this.useSum){for(var t5X="0" ^ 0;t5X < this.seriesParams.length;t5X++){h48="Cl";h48+="o";h48+="se";n5X=this.seriesParams[t5X].field;if(n5X === L5X)break;Z5X=H5X[n5X];if(Z5X && typeof Z5X === "object"){Z5X=Z5X[A5X || this.seriesParams[t5X].subField || this.stx.chart.defaultPlotField || h48];}if(Z5X){T5X+=Z5X;}}}return T5X;};l9X.Renderer.Heatmap=function(N5X){var W48;W48="h";W48+="eatmap";this.construct(N5X);this.params.type=W48;this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=! ![];};l9X.inheritsFrom(l9X.Renderer.Heatmap,l9X.Renderer,! !0);l9X.Renderer.Heatmap.requestNew=function(h5X,j5X){l4kk.a6T();var q5X,U5X;q5X=null;for(var i5X=+"0";i5X < h5X.length;i5X++){U5X=h5X[i5X];if(U5X == "heatmap"){q5X="heatmap";}}if(q5X === null){return null;}return new l9X.Renderer.Heatmap({params:l9X.extend(j5X,{type:q5X})});};l9X.Renderer.Heatmap.prototype.draw=function(){l4kk.a6T();this.stx.drawHeatmap(l9X.clone(this.params),this.seriesParams);};l9X.Renderer.Scatter=function(z5X){this.construct(z5X);this.standaloneBars=this.barsHaveWidth=! ![];l4kk.t6T();this.bounded=! !{};};l9X.inheritsFrom(l9X.Renderer.Scatter,l9X.Renderer.Lines,! !0);l9X.Renderer.Scatter.requestNew=function(X5X,D3X){var g5X,G48,p48,W5X;g5X=null;for(var R5X="0" ^ 0;R5X < X5X.length;R5X++){G48="s";G48+="catter";p48="scatterplo";p48+="t";W5X=X5X[R5X];if(W5X == p48){g5X=G48;}}if(g5X === null){return null;}return new l9X.Renderer.Scatter({params:l9X.extend(D3X,{type:g5X})});};l9X.Renderer.Scatter.prototype.drawIndividualSeries=function(m3X,F3X){var b3X,K3X;b3X=this.stx.panels[F3X.panel] || m3X.panel;K3X={colors:[]};if(this.stx.scatter){K3X=this.stx.scatter(b3X,F3X);}else {console.warn("Error, Scatter renderer requires customChart.js");}return K3X;};};l34=x3X=>{var s3X,B48,j48;s3X=typeof _CIQ !== "undefined"?_CIQ:x3X.CIQ;l4kk.a6T();if(!s3X.Studies){B48="accumulationDistri";B48+="bution featur";B48+="e requires first activating studies feature.";console.error(B48);}else {j48="A";j48+="cc";j48+="umulation/Distribution";s3X.Studies.calculateAccumulationDistribution=function(v3X,E3X){var S3X,L48,Q3X,y3X,k3X,c3X;S3X=E3X.chart.scrubbed;for(var O3X=E3X.startFrom;O3X < S3X.length;O3X++){L48="Use Vol";L48+="ume";if(!O3X)continue;Q3X=S3X[O3X];if(Q3X.futureTick)break;l4kk.B3g(7);y3X=S3X[l4kk.w3g(O3X,1)];k3X=0;if(Q3X.Close > y3X.Close){k3X=Q3X.Close - Math.min(Q3X.Low,y3X.Close);}else if(Q3X.Close < y3X.Close){k3X=Q3X.Close - Math.max(Q3X.High,y3X.Close);}if(E3X.inputs[L48]){k3X*=Q3X.Volume;}c3X=y3X["Result " + E3X.name];if(!c3X){c3X=0;}c3X+=k3X;if(!isNaN(Q3X.Close)){Q3X["Result " + E3X.name]=c3X;}}};s3X.Studies.studyLibrary=s3X.extend(s3X.Studies.studyLibrary,{"W Acc Dist":{name:j48,calculateFN:s3X.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!{}}}});}};J34=M3X=>{var Q48,B3X,r48;l4kk.t6T();Q48="unde";Q48+="fined";B3X=typeof _CIQ !== Q48?_CIQ:M3X.CIQ;if(!B3X.Studies){console.error("adx feature requires first activating studies feature.");}else {r48="A";r48+="DX/D";r48+="MS";B3X.Studies.calculateADX=function(Z3X,w3X){var G5T=l4kk;var o3X,p3X,I3X,f3X,l3X,J3X,u3X,P3X,N48,a3X,r3X,i48,c48,G3X,d3X,e3X,C48,R48,X48,A48,V48,s48,V3X,d48,F48;B3X.Studies.calculateStudyATR(Z3X,w3X);o3X=w3X.chart.scrubbed;p3X=w3X.days;I3X=parseInt(w3X.inputs["Smoothing Period"],10);if(!I3X && I3X !== +"0"){I3X=p3X;}if(o3X.length < w3X.days + 1){w3X.error=!"";return;}f3X=0;l3X=0;J3X=0;G5T.V3g(16);u3X=G5T.w3g("0",1945898272);for(var Y3X=Math.max(1,w3X.startFrom);Y3X < o3X.length;Y3X++){N48="_";N48+="sm+DM ";P3X=o3X[Y3X];a3X=Math.max(0,P3X.High - o3X[Y3X - 1].High);r3X=Math.max(0,o3X[Y3X - 1].Low - P3X.Low);if(a3X > r3X){r3X=0;}else if(r3X > a3X){a3X=0;}else {a3X=r3X=0;}if(Y3X <= p3X){l3X+=a3X;J3X+=r3X;f3X+=P3X["True Range " + w3X.name];}else {i48="True ";i48+="Range ";c48="_s";c48+="m+D";c48+="M";c48+=" ";l3X=o3X[Y3X - 1][c48 + w3X.name] * (p3X - 1) / p3X + a3X;J3X=o3X[Y3X - 1]["_sm-DM " + w3X.name] * (p3X - 1) / p3X + r3X;f3X=o3X[Y3X - 1]["_smTR " + w3X.name] * (p3X - 1) / p3X + P3X[i48 + w3X.name];}P3X[N48 + w3X.name]=l3X;P3X["_sm-DM " + w3X.name]=J3X;P3X["_smTR " + w3X.name]=f3X;if(Y3X < p3X)continue;G5T.V3g(61);G3X=G5T.U3g(l3X,100,f3X);G5T.B3g(61);d3X=G5T.U3g(J3X,100,f3X);e3X=+"100" * Math.abs(G3X - d3X) / (G3X + d3X);P3X["+DI " + w3X.name]=G3X;P3X["-DI " + w3X.name]=d3X;if(w3X.inputs.Series !== !1 && I3X){if(Y3X < p3X + I3X - 1){if(Y3X == w3X.startFrom){for(var C3X=p3X;C3X < w3X.startFrom;C3X++){C48="-D";C48+="I ";R48="+D";R48+="I ";u3X+=100 * Math.abs(o3X[C3X][R48 + w3X.name] - o3X[C3X][C48 + w3X.name]) / (o3X[C3X]["+DI " + w3X.name] + o3X[C3X]["-DI " + w3X.name]);}}u3X+=e3X;}else if(Y3X == p3X + I3X - 1){G5T.V3g(13);P3X["ADX " + w3X.name]=G5T.U3g(I3X,u3X);}else {X48="A";X48+="D";X48+="X";X48+=" ";P3X[X48 + w3X.name]=(o3X[Y3X - 1]["ADX " + w3X.name] * (I3X - 1) + e3X) / I3X;}}if(w3X.inputs.Histogram){A48="-";A48+="DI ";V48="-D";V48+="I";V48+=" ";s48="_h";s48+="ist";V3X=w3X.name + s48;if(!P3X["+DI " + w3X.name] && P3X["+DI " + w3X.name] !== 0)continue;if(!P3X["-DI " + w3X.name] && P3X[V48 + w3X.name] !== 0)continue;P3X[V3X]=P3X["+DI " + w3X.name] - P3X[A48 + w3X.name];if(w3X.inputs.Series === !1){d48="-";d48+="DI";d48+=" ";F48="+";F48+="D";F48+="I";F48+=" ";P3X[F48 + w3X.name]=null;P3X[d48 + w3X.name]=null;}w3X.outputMap[V3X]="";}}};B3X.Studies.displayADX=function(T3X,t3X,N3X){var q3X,n48,n3X,H3X,i3X,h3X,L3X,A3X;q3X=t3X.underlay?0.3:t3X.inputs.Series?0.4:1;if(t3X.inputs.Series && t3X.inputs.Shading){n48="-";n48+="D";n48+="I";n48+=" ";n3X="+DI " + t3X.name;H3X=n48 + t3X.name;i3X=B3X.Studies.determineColor(t3X.outputs[t3X.outputMap[n3X]]);h3X=B3X.Studies.determineColor(t3X.outputs[t3X.outputMap[H3X]]);L3X=t3X.getYAxis(T3X);A3X={topBand:n3X,bottomBand:H3X,topColor:i3X,bottomColor:h3X,skipTransform:T3X.panels[t3X.panel].name != t3X.chart.name,topAxis:L3X,bottomAxis:L3X,opacity:0.3};if(!t3X.highlight && T3X.highlightedDraggable){A3X.opacity*=0.3;}B3X.fillIntersecting(T3X,t3X.panel,A3X);}if(t3X.inputs.Histogram){B3X.Studies.createHistogram(T3X,t3X,N3X,!{},q3X);}if(t3X.inputs.Series !== !{}){B3X.Studies.displaySeriesAsLine(T3X,t3X,N3X);}else if(!t3X.inputs.Series && !t3X.inputs.Histogram){T3X.displayErrorAsWatermark(t3X.panel,T3X.translateIf(t3X.name) + ": " + T3X.translateIf("Nothing to display"));}};B3X.Studies.studyLibrary=B3X.extend(B3X.Studies.studyLibrary,{ADX:{name:r48,calculateFN:B3X.Studies.calculateADX,seriesFN:B3X.Studies.displayADX,inputs:{Period:"14" << 866523392,"Smoothing Period":+"14",Series:! ![],Shading:!{},Histogram:! !""},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};u34=j3X=>{var H48,U3X,x38,O38;H48="u";H48+="n";H48+="defi";H48+="ned";U3X=typeof _CIQ !== H48?_CIQ:j3X.CIQ;if(!U3X.Studies){console.error("alligator feature requires first activating studies feature.");}else {x38="#0";x38+="0";x38+="DD00";O38="A";O38+="lligator";U3X.Studies.calculateAlligator=function(F2W,R3X){var e5T=l4kk;var Z38,y48,M48,X3X,z3X,e38,E38,m38,t38,l38,D2W,K2W,W3X;Z38="G";e5T.t6T();Z38+="ator";y48="L";y48+="ips";y48+=" P";y48+="eriod";M48="Jaw ";M48+="Period";X3X={J:Number(R3X.inputs[M48]),T:Number(R3X.inputs["Teeth Period"]),L:Number(R3X.inputs[y48])};z3X=R3X.chart.scrubbed;if(z3X.length < Math.max(X3X.J,X3X.T,X3X.L) + 1){R3X.error=! ![];return;}if(R3X.type === Z38 || R3X.inputs["Show Lines"]){e38="h";e38+="l";e38+="/";e38+="2";E38="Teet";E38+="h";m38="well";m38+="es wilder";U3X.Studies.MA(m38,X3X.J,"hl/2",R3X.inputs["Jaw Offset"],"Jaw",F2W,R3X);U3X.Studies.MA("welles wilder",X3X.T,"hl/2",R3X.inputs["Teeth Offset"],E38,F2W,R3X);U3X.Studies.MA("welles wilder",X3X.L,e38,R3X.inputs["Lips Offset"],"Lips",F2W,R3X);}for(var g3X=R3X.startFrom;g3X < z3X.length;g3X++){t38="Show Fractal";t38+="s";if(!z3X[g3X])continue;if(R3X.type == "Gator"){l38="Lip";l38+="s";l38+=" ";D2W=z3X[g3X]["Jaw " + R3X.name];K2W=z3X[g3X][l38 + R3X.name];W3X=z3X[g3X]["Teeth " + R3X.name];if(W3X || W3X === 0){if(D2W || D2W === 0){e5T.B3g(7);z3X[g3X][R3X.name + "_hist1"]=Math.abs(e5T.w3g(D2W,W3X));}if(K2W || K2W === +"0"){e5T.V3g(7);z3X[g3X][R3X.name + "_hist2"]=-Math.abs(e5T.U3g(W3X,K2W));}}R3X.outputMap={};R3X.outputMap[R3X.name + "_hist1"]="";R3X.outputMap[R3X.name + "_hist2"]="";}if(R3X.inputs[t38]){if(!z3X[g3X - 2] || !z3X[g3X - 1] || !z3X[g3X] || !z3X[g3X + +"1"] || !z3X[g3X + 2])continue;if(z3X[g3X - 2].High && z3X[g3X - 1].High && z3X[g3X].High && z3X[g3X + ("1" << 1958542272)].High && z3X[g3X + 2].High){if(z3X[g3X].High > z3X[g3X - 1].High && z3X[g3X].High > z3X[g3X - 2].High && z3X[g3X].High > z3X[g3X + 1].High && z3X[g3X].High > z3X[g3X + 2].High){z3X[g3X]["Fractal High " + R3X.name]=1;}}if(z3X[g3X - 2].Low && z3X[g3X - +"1"].Low && z3X[g3X].Low && z3X[g3X + +"1"].Low && z3X[g3X + 2].Low){if(z3X[g3X].Low < z3X[g3X - 1].Low && z3X[g3X].Low < z3X[g3X - ("2" ^ 0)].Low && z3X[g3X].Low < z3X[g3X + 1].Low && z3X[g3X].Low < z3X[g3X + +"2"].Low){z3X[g3X]["Fractal Low " + R3X.name]=1;}}}}};U3X.Studies.displayAlligator=function(b2W,x2W,Q2W){var m2W,b38,z38;m2W=x2W.getContext(b2W);if(x2W.inputs["Show Lines"]){U3X.Studies.displaySeriesAsLine(b2W,x2W,Q2W);}if(x2W.inputs["Show Fractals"]){b2W.startClip();m2W.globalAlpha=x2W.underlay?0.3:"1" & 2147483647;if(!x2W.highlight && b2W.highlightedDraggable){m2W.globalAlpha*=0.3;}for(var s2W="2" ^ 0;s2W < Q2W.length - 2;s2W++){if(Q2W[s2W]){b38="h";b38+="i";b38+="gh";z38="Fra";z38+="cta";z38+="l High";z38+=" ";if(Q2W[s2W][z38 + x2W.name]){O2W(b38,s2W);}if(Q2W[s2W]["Fractal Low " + x2W.name]){O2W("low",s2W);}}}b2W.endClip();}function O2W(k2W,c2W){var f5T=l4kk;var E2W,y2W,w38,K0x,S0x,J0x,f38;y2W=b2W.chart.panel.yAxis.flipped;if(k2W == "high"){w38="b";w38+="o";w38+="tt";w38+="om";m2W.fillStyle=b2W.defaultColor;m2W.textBaseline=y2W?"top":w38;E2W=b2W.pixelFromPrice(Q2W[c2W].High);m2W.fillText(y2W?4263 > ("1826" ^ 0)?7910 == (+"5910",3380)?(9.18e+3,+"831.77"):(2060,2050) != +"619.07"?"\u25BC":(143.05,0x25e0):0xe78:(9730,260) !== 998?("491.7" * 1,2472) == (7636,28.05)?(5010,+"9010") < (4922,6360)?![]:538:"\u25B2":732.88,b2W.pixelFromBar(s2W,b2W.chart) - m2W.measureText((5760,"8010" | 3850) <= 5539?(970.07,6340) != (+"7442",774.28)?"z":549.50:"\u25B2").width / 2 + 1,y2W?E2W + ("5" << 550357376):E2W - 5);;}else if(k2W == "low"){K0x=+"1955189889";f5T.B3g(7);S0x=-f5T.w3g("755899044",0);J0x=2;for(var h0x="1" - 0;f5T.i3x(h0x.toString(),h0x.toString().length,83151) !== K0x;h0x++){m2W.fillStyle=b2W.defaultColor;m2W.textBaseline=y2W?"bottom":"top";E2W=b2W.pixelFromPrice(Q2W[c2W].Low);J0x+=2;}if(f5T.c3x(J0x.toString(),J0x.toString().length,16499) !== S0x){f38="b";f38+="o";f38+="tt";f38+="om";m2W.fillStyle=b2W.defaultColor;m2W.textBaseline=y2W?f38:"top";E2W=b2W.pixelFromPrice(Q2W[c2W].Low);}m2W.fillText(y2W?(9350,+"1760") < (248.91,3690)?"\u25B2":(!0,"a"):(4290,412.26) != "4502" * 1?3081 >= 2550?+"294.46" >= (3640,165.64)?"\u25BC":(0x604,"I"):0x1669:(+"261.24",0x1826),b2W.pixelFromBar(s2W,b2W.chart) - m2W.measureText((2780,953.85) != (8330,+"9771")?"\u25BC":(0x708,![])).width / 2 + ("1" | 1),y2W?E2W - +"5":E2W + 5);;}}};U3X.Studies.displayGator=function(v2W,S2W,I2W){var w5T=l4kk;var v38,p2W,M2W,a2W,r2W,Y2W,C2W,f2W,P2W,o2W,k38,o38;v38="In";v38+="creasing ";v38+="Bar";p2W=v2W.panels[S2W.panel];M2W=S2W.getContext(v2W);a2W=S2W.getYAxis(v2W);r2W=v2W.pixelFromPrice(0,p2W,a2W);Y2W=v2W.layout.candleWidth - 2;if(Y2W < 2){Y2W=1;}C2W=U3X.Studies.determineColor(S2W.outputs[v38]);f2W=U3X.Studies.determineColor(S2W.outputs["Decreasing Bar"]);v2W.canvasColor("stx_histogram");if(!S2W.underlay){w5T.V3g(33);M2W.globalAlpha=w5T.U3g("1",1);}M2W.fillStyle="#CCCCCC";v2W.startClip(S2W.panel);if(!S2W.highlight && v2W.highlightedDraggable){M2W.globalAlpha*=0.3;}for(var w2W=0;w2W < I2W.length;w2W++){P2W=I2W[w2W];w5T.V3g(7);o2W=I2W[w5T.U3g(w2W,1)];if(!P2W)continue;for(var B2W=1;B2W <= 2;B2W++){k38="_";k38+="h";k38+="ist";o38="_hi";o38+="st";if(!o2W){o2W=v2W.getPreviousBar(v2W.chart,S2W.name + "_hist" + B2W,w2W);}if(!o2W){M2W.fillStyle="#CCCCCC";}else if(Math.abs(o2W[S2W.name + "_hist" + B2W]) < Math.abs(P2W[S2W.name + o38 + B2W])){M2W.fillStyle=C2W;}else if(Math.abs(o2W[S2W.name + "_hist" + B2W]) > Math.abs(P2W[S2W.name + "_hist" + B2W])){M2W.fillStyle=f2W;}if(P2W.candleWidth){Y2W=Math.floor(Math.max(+"1",P2W.candleWidth - 2));}M2W.fillRect(Math.floor(v2W.pixelFromBar(w2W,p2W.chart) - Y2W / ("2" << 333883424)),Math.floor(r2W),Math.floor(Y2W),Math.floor(v2W.pixelFromPrice(P2W[S2W.name + k38 + B2W],p2W,a2W) - r2W));}}v2W.endClip();};U3X.Studies.studyLibrary=U3X.extend(U3X.Studies.studyLibrary,{Alligator:{name:O38,overlay:!"",seriesFN:U3X.Studies.displayAlligator,calculateFN:U3X.Studies.calculateAlligator,inputs:{"Show Lines":! ![],"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":+"3","Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:x38}},Gator:{name:"Gator Oscillator",seriesFN:U3X.Studies.displayGator,calculateFN:U3X.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":+"5","Lips Offset":"3" << 1608123360},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:+"0"}});}};G34=J2W=>{var Q7T=l4kk;var e98,l98,t98,l2W,g38,q38,Y38;e98=848643583;l98=+"1220564790";Q7T.B3g(0);t98=Q7T.w3g("2",0);Q7T.a6T();for(var b98="1" ^ 0;Q7T.i3x(b98.toString(),b98.toString().length,"42525" | 33813) !== e98;b98++){l2W=-_CIQ == ""?_CIQ:J2W.CIQ;t98+=2;}if(Q7T.i3x(t98.toString(),t98.toString().length,86646) !== l98){l2W=-_CIQ == ""?_CIQ:J2W.CIQ;}l2W=typeof _CIQ !== "undefined"?_CIQ:J2W.CIQ;if(!l2W.Studies){console.error("aroon feature requires first activating studies feature.");}else {g38="a";g38+="u";g38+="to";q38="A";q38+="roo";q38+="n Oscil";q38+="lator";Y38="#";Y38+="0";Y38+="0DD0";Y38+="0";l2W.Studies.calculateAroon=function(i2W,u2W){var Z2W,t2W,T2W,d2W,e2W,A0x,F0x,d0x,D38,H2W,V2W,T38,P38,G2W,L2W,A2W,N2W,q2W;Z2W=u2W.chart.scrubbed;if(Z2W.length < u2W.days + 1){u2W.error=! !1;return;}t2W=0;T2W=0;d2W=null;e2W=null;if(u2W.startFrom > 0){A0x=-644108236;Q7T.V3g(0);F0x=-Q7T.w3g("1034181741",0);d0x=+"2";for(var r0x=1;Q7T.c3x(r0x.toString(),r0x.toString().length,13539) !== A0x;r0x++){D38="_st";D38+="at";D38+="e";D38+=" ";H2W=Z2W[u2W.startFrom - 1][D38 + u2W.name];d0x+=+"2";}if(Q7T.c3x(d0x.toString(),d0x.toString().length,24190) !== F0x){H2W=Z2W[u2W.startFrom % 4]["" * u2W.name];}if(H2W){t2W=H2W[0];T2W=H2W[1];d2W=H2W[2];e2W=H2W[3];}}for(var n2W=u2W.startFrom;n2W < Z2W.length;n2W++){T38="_";T38+="state ";P38="Aroon";P38+=" O";P38+="scillator ";G2W=Z2W[n2W];if(G2W.futureTick)break;if(d2W === null){d2W=G2W.High;}if(e2W === null){e2W=G2W.Low;}d2W=Math.max(d2W,G2W.High);if(d2W == G2W.High){Q7T.V3g(7);t2W=Q7T.U3g("0",0);}else {t2W++;if(t2W > u2W.days){d2W=G2W.High;t2W=0;for(V2W=1;V2W <= u2W.days;V2W++){d2W=Math.max(d2W,Z2W[n2W - V2W].High);if(d2W == Z2W[n2W - V2W].High){t2W=V2W;}}}}e2W=Math.min(e2W,G2W.Low);if(e2W == G2W.Low){T2W=0;}else {T2W++;if(T2W > u2W.days){e2W=G2W.Low;T2W=0;for(V2W=1;V2W <= u2W.days;V2W++){e2W=Math.min(e2W,Z2W[n2W - V2W].Low);if(e2W == Z2W[n2W - V2W].Low){T2W=V2W;}}}}L2W=!isNaN(G2W.High);A2W=!isNaN(G2W.Low);N2W=+"100" * (1 - t2W / u2W.days);if(L2W){G2W["Aroon Up " + u2W.name]=N2W;}q2W=100 * (("1" >> 562573600) - T2W / u2W.days);if(A2W){G2W["Aroon Down " + u2W.name]=q2W;}if(L2W && A2W){G2W[P38 + u2W.name]=G2W["Aroon Up " + u2W.name] - G2W["Aroon Down " + u2W.name];}G2W[T38 + u2W.name]=[t2W,T2W,d2W,e2W];}};l2W.Studies.studyLibrary=l2W.extend(l2W.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:l2W.Studies.calculateAroon,outputs:{"Aroon Up":Y38,"Aroon Down":"#FF0000"}},"Aroon Osc":{name:q38,calculateFN:l2W.Studies.calculateAroon,outputs:{"Aroon Oscillator":g38}}});}};d34=U2W=>{var a38,h2W,p38,W38,h38,u38;a38="und";a38+="efined";h2W=typeof _CIQ !== a38?_CIQ:U2W.CIQ;if(!h2W.Studies){console.error("atr feature requires first activating studies feature.");}else {p38="#0";p38+="0FF00";W38="squarewa";W38+="ve";h38="au";h38+="t";h38+="o";u38="Average True ";u38+="Range";h2W.Studies.calculateATRBands=function(g2W,j2W){var z2W;h2W.Studies.calculateStudyATR(g2W,j2W);z2W=j2W.inputs.Field;if(!z2W || z2W == "field"){z2W="Close";}h2W.Studies.calculateGenericEnvelope(g2W,j2W,j2W.inputs.Shift,z2W,"ATR " + j2W.name);};h2W.Studies.calculateSTARCBands=function(X2W,R2W){l4kk.a6T();h2W.Studies.calculateStudyATR(X2W,R2W);h2W.Studies.MA("simple",R2W.inputs["MA Period"],"Close",0,"_MA",X2W,R2W);h2W.Studies.calculateGenericEnvelope(X2W,R2W,R2W.inputs.Multiplier,"_MA " + R2W.name,"ATR " + R2W.name);};h2W.Studies.calculateATRStops=function(y4W,W2W){var H5T=l4kk;var J38,S38,b4W,x4W,I38,U38,D4W,O4W,K4W,F4W,s4W,Q4W,K38;J38="All Stop";J38+="s ";S38="All Stop";H5T.a6T();S38+="s";b4W=W2W.chart.scrubbed;if(!b4W){return;}h2W.Studies.calculateStudyATR(y4W,W2W);x4W=W2W.inputs.HighLow;for(var m4W=Math.max(W2W.startFrom - 1,1);m4W < b4W.length - ("1" << 833494560);m4W++){I38="ATR";I38+=" ";U38="Se";U38+="ll S";U38+="t";U38+="ops ";D4W=b4W[m4W];H5T.V3g(7);O4W=b4W[H5T.w3g(m4W,1)];K4W=D4W["Buy Stops " + W2W.name];if(!K4W){K4W=D4W[U38 + W2W.name];}if(!K4W){K4W=0;}if(!D4W || !O4W)continue;F4W=D4W.Close;s4W=F4W;Q4W=D4W[I38 + W2W.name] * W2W.inputs.Multiplier;if(D4W.Close > K4W && O4W.Close > K4W){if(x4W){F4W=D4W.High;}H5T.B3g(7);s4W=Math.max(K4W,H5T.U3g(F4W,Q4W));}else if(D4W.Close <= K4W && O4W.Close <= K4W){if(x4W){F4W=D4W.Low;}H5T.B3g(2);s4W=Math.min(K4W,H5T.w3g(F4W,Q4W));}else if(D4W.Close > K4W){if(x4W){F4W=D4W.High;}H5T.B3g(7);s4W=H5T.w3g(F4W,Q4W);}else if(D4W.Close <= K4W){if(x4W){F4W=D4W.Low;}H5T.V3g(2);s4W=H5T.w3g(F4W,Q4W);}if(F4W <= s4W){K38="Bu";K38+="y";K38+=" Stops ";H5T.B3g(2);b4W[H5T.w3g(m4W,1)][K38 + W2W.name]=s4W;H5T.V3g(2);delete b4W[H5T.U3g(m4W,1)]["Sell Stops " + W2W.name];}else if(F4W > s4W){H5T.B3g(2);b4W[H5T.w3g(m4W,1)]["Sell Stops " + W2W.name]=s4W;H5T.V3g(2);delete b4W[H5T.w3g(m4W,1)]["Buy Stops " + W2W.name];}H5T.V3g(2);b4W[H5T.U3g(m4W,1)]["All Stops " + W2W.name]=s4W;}W2W.referenceOutput=S38;W2W.outputMap={};W2W.outputMap[J38 + W2W.name]="";};h2W.Studies.studyLibrary=h2W.extend(h2W.Studies.studyLibrary,{ATR:{name:u38,calculateFN:h2W.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:h2W.Studies.displayChannel,calculateFN:h2W.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !"1"},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":h38,"ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:h2W.Studies.displayChannel,calculateFN:h2W.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !"1"},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! !"1",seriesFN:h2W.Studies.displayPSAR2,calculateFN:h2W.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",W38],HighLow:!"1"},outputs:{"Buy Stops":"#FF0000","Sell Stops":p38},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};e34=k4W=>{var E4W;l4kk.a6T();E4W=typeof _CIQ !== "undefined"?_CIQ:k4W.CIQ;if(!E4W.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {E4W.Studies.calculateAwesomeOscillator=function(B4W,c4W){var D5T=l4kk;var S4W,G38,d5x,n5x,r5x;S4W=c4W.chart.scrubbed;if(S4W.length < 33){c4W.error=! ![];return;}D5T.B3g(33);E4W.Studies.MA("simple",5,"hl/2",D5T.U3g("0",0),"_MA5",B4W,c4W);E4W.Studies.MA("simple",34,"hl/2",+"0","_MA34",B4W,c4W);for(var v4W=Math.max(c4W.startFrom,"33" ^ 0);v4W < S4W.length;v4W++){G38="_M";G38+="A";G38+="5 ";if(!S4W[v4W])continue;S4W[v4W][c4W.name + "_hist"]=S4W[v4W][G38 + c4W.name] - S4W[v4W]["_MA34 " + c4W.name];}d5x=-1581776756;n5x=-1004283048;r5x=2;for(var M5x=+"1";D5T.i3x(M5x.toString(),M5x.toString().length,23527) !== d5x;M5x++){c4W.outputMap={};r5x+=2;}if(D5T.c3x(r5x.toString(),r5x.toString().length,55784) !== n5x){c4W.outputMap={};}c4W.outputMap[c4W.name + "_hist"]="";};E4W.Studies.displayAwesomeOscillator=function(w4W,M4W,r4W){var L38,B38,a4W,P4W,C4W,f4W,p4W,l4W,J4W,c38,Q38,j38,o4W,I4W;L38="#CCCC";L38+="CC";B38="Increasing B";B38+="ar";a4W=w4W.panels[M4W.panel];P4W=M4W.getContext(w4W);C4W=M4W.getYAxis(w4W);f4W=w4W.pixelFromPrice(0,a4W,C4W);p4W=w4W.layout.candleWidth - 2;if(p4W < 2){p4W=1;}l4W=E4W.Studies.determineColor(M4W.outputs[B38]);J4W=E4W.Studies.determineColor(M4W.outputs["Decreasing Bar"]);w4W.canvasColor("stx_histogram");if(!M4W.underlay){P4W.globalAlpha=1;}P4W.fillStyle=L38;w4W.startClip(M4W.panel);if(!M4W.highlight && w4W.highlightedDraggable){P4W.globalAlpha*=0.3;}for(var Y4W=0;Y4W < r4W.length;Y4W++){c38="_";c38+="h";c38+="i";c38+="st";Q38="_hi";Q38+="st";j38="_hi";j38+="st";o4W=r4W[Y4W];l4kk.V3g(7);I4W=r4W[l4kk.w3g(Y4W,1)];if(!I4W){I4W=w4W.getPreviousBar(w4W.chart,M4W.name + "_hist",Y4W);}if(!o4W)continue;if(!I4W);else if(I4W[M4W.name + j38] < o4W[M4W.name + "_hist"]){P4W.fillStyle=l4W;}else if(I4W[M4W.name + Q38] > o4W[M4W.name + "_hist"]){P4W.fillStyle=J4W;}if(o4W.candleWidth){p4W=Math.floor(Math.max(1,o4W.candleWidth - 2));}P4W.fillRect(Math.floor(w4W.pixelFromBar(Y4W,a4W.chart) - p4W / 2),Math.floor(f4W),Math.floor(p4W),Math.floor(w4W.pixelFromPrice(o4W[M4W.name + c38],a4W,C4W) - f4W));}w4W.endClip();};E4W.Studies.studyLibrary=E4W.extend(E4W.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:E4W.Studies.displayAwesomeOscillator,calculateFN:E4W.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};V34=G4W=>{var u4W,N38;l4kk.a6T();u4W=typeof _CIQ !== "undefined"?_CIQ:G4W.CIQ;if(!u4W.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {N38="m";N38+="a";u4W.Studies.calculateBalanceOfPower=function(t4W,d4W){var j0x,Q0x,c0x,V4W,i38,e4W;j0x=-516483065;l4kk.a6T();Q0x=2104847115;c0x=2;for(var N0x=1;l4kk.c3x(N0x.toString(),N0x.toString().length,27766) !== j0x;N0x++){V4W=d4W.chart.scrubbed;c0x+=2;}if(l4kk.c3x(c0x.toString(),c0x.toString().length,81820) !== Q0x){V4W=d4W.chart.scrubbed;}if(V4W.length < d4W.days + 1){d4W.error=! !{};return;}for(var Z4W=d4W.startFrom;Z4W < V4W.length;Z4W++){i38="_";i38+="Ra";i38+="ti";i38+="o ";e4W=V4W[Z4W];e4W["_Ratio " + d4W.name]=e4W.Close - e4W.Open;if(e4W.High - e4W.Low !== 0){e4W[i38 + d4W.name]/=e4W.High - e4W.Low;}}u4W.Studies.MA(d4W.inputs["Moving Average Type"],d4W.days,"_Ratio " + d4W.name,0,"Result",t4W,d4W);};u4W.Studies.studyLibrary=u4W.extend(u4W.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:u4W.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":N38}}});}};Z34=n4W=>{var T4W,R38,M38,H38,r38,n38,d38;T4W=typeof _CIQ !== "undefined"?_CIQ:n4W.CIQ;l4kk.t6T();if(!T4W.Studies){R38="bollinger feature r";R38+="equires first activating s";R38+="tudies feature.";console.error(R38);}else {M38="a";M38+="u";M38+="t";M38+="o";H38="m";H38+="a";r38="au";r38+="to";n38="m";n38+="a";d38="Bollinger Band";d38+="s";T4W.Studies.calculateBollinger=function(A4W,H4W){var F38,A38,V38,s38,X38,C38,L4W;F38="Bo";F38+="ll %b";A38="_";A38+="STD Dev ";V38="_";V38+="M";V38+="A";V38+=" ";s38="ST";s38+="D Dev";X38="Movin";X38+="g Aver";X38+="age Type";C38="C";C38+="l";C38+="o";C38+="se";L4W=H4W.inputs.Field;if(!L4W || L4W == "field"){L4W=C38;}T4W.Studies.MA(H4W.inputs[X38],H4W.days,L4W,0,"_MA",A4W,H4W);H4W.std=new T4W.Studies.StudyDescriptor(H4W.name,s38,H4W.panel);H4W.std.chart=H4W.chart;H4W.std.startFrom=H4W.startFrom;H4W.std.days=H4W.days;H4W.std.inputs={Field:L4W,"Standard Deviations":1,Type:H4W.inputs["Moving Average Type"]};H4W.std.outputs={"_STD Dev":null};T4W.Studies.calculateStandardDeviation(A4W,H4W.std);T4W.Studies.calculateGenericEnvelope(A4W,H4W,H4W.inputs["Standard Deviations"],V38 + H4W.name,A38 + H4W.name);if(H4W.type == F38){H4W.zoneOutput="%b";}};T4W.Studies.studyLibrary=T4W.extend(T4W.Studies.studyLibrary,{"Bollinger Bands":{name:d38,overlay:!0,calculateFN:T4W.Studies.calculateBollinger,seriesFN:T4W.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":n38,"Channel Fill":!""},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":r38,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:"0.1" * 1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:T4W.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":H38},outputs:{"%b":M38},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:"0.1" * 1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:T4W.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":+"2","Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:"0.1" * 1}}}});}};t34=q4W=>{l4kk.a6T();var N4W,Z58,y38;N4W=typeof _CIQ !== "undefined"?_CIQ:q4W.CIQ;if(!N4W.Studies){console.error("cci feature requires first activating studies feature.");}else {Z58="a";Z58+="ut";Z58+="o";y38="Commodity Channel ";y38+="Index";N4W.Studies.calculateCCI=function(R4W,i4W){var U4W,J5x,u5x,h5x,h4W,z4W;l4kk.a6T();U4W=i4W.chart.scrubbed;if(U4W.length < i4W.days + 1){J5x=+"266694252";u5x=-709705259;h5x=2;for(var p5x=+"1";l4kk.i3x(p5x.toString(),p5x.toString().length,47324) !== J5x;p5x++){i4W.error=!0;return;}if(l4kk.i3x(h5x.toString(),h5x.toString().length,62582) !== u5x){i4W.error=! !0;return;}}N4W.Studies.MA("simple",i4W.days,"hlc/3",0,"MA",R4W,i4W);for(var j4W=Math.max(i4W.startFrom,i4W.days - 1);j4W < U4W.length;j4W++){h4W=U4W[j4W];if(!h4W)continue;z4W=0;for(var g4W="0" ^ 0;g4W < i4W.days;g4W++){z4W+=Math.abs(U4W[j4W - g4W]["hlc/3"] - h4W["MA " + i4W.name]);}z4W/=i4W.days;if(Math.abs(z4W) < 0.00000001){h4W["Result " + i4W.name]=+"0";}else {h4W["Result " + i4W.name]=(h4W["hlc/3"] - h4W["MA " + i4W.name]) / (+"0.015" * z4W);}}};N4W.Studies.studyLibrary=N4W.extend(N4W.Studies.studyLibrary,{CCI:{name:y38,calculateFN:N4W.Studies.calculateCCI,inputs:{Period:+"20"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:Z58}},attributes:{Period:{min:2}}}});}};T34=W4W=>{l4kk.t6T();var r3x,H3x,M3x,X4W,e58,E58;r3x=-2079245108;H3x=-640698776;M3x=2;for(var Z5x=+"1";l4kk.c3x(Z5x.toString(),Z5x.toString().length,33245) !== r3x;Z5x++){X4W=typeof _CIQ !== "undefined"?_CIQ:W4W.CIQ;M3x+=2;}if(l4kk.c3x(M3x.toString(),M3x.toString().length,"78363" >> 1371426432) !== H3x){X4W=!_CIQ != ""?_CIQ:W4W.CIQ;}if(!X4W.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {e58="f";e58+="ield";E58="Center Of";E58+=" Grav";E58+="ity";X4W.Studies.calculateCenterOfGravity=function(O7W,D7W){var b5T=l4kk;var m58,K7W,F7W,x7W,s7W,Q7W;m58="C";m58+="lo";m58+="se";K7W=D7W.chart.scrubbed;if(K7W.length < D7W.days){D7W.error=!0;return;}F7W=D7W.inputs.Field;if(!F7W || F7W == "field"){F7W=m58;}for(var b7W=Math.max(D7W.startFrom,D7W.days - 1);b7W < K7W.length;b7W++){x7W=0;s7W=0;for(var m7W=0;m7W < D7W.days;m7W++){b5T.V3g(7);Q7W=K7W[b5T.w3g(b7W,m7W)][F7W];b5T.V3g(62);x7W-=b5T.U3g(1,m7W,Q7W);s7W+=Q7W;}if(s7W){b5T.V3g(13);K7W[b7W]["Result " + D7W.name]=b5T.w3g(s7W,x7W);}}};X4W.Studies.studyLibrary=X4W.extend(X4W.Studies.studyLibrary,{COG:{name:E58,calculateFN:X4W.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:e58}}});}};n34=E7W=>{var y7W,v58;y7W=typeof _CIQ !== "undefined"?_CIQ:E7W.CIQ;if(!y7W.Studies){console.error("chaikin feature requires first activating studies feature.");}else {v58="m";v58+="a";y7W.Studies.calculateChaikinMoneyFlow=function(w7W,S7W){var U5T=l4kk;var k7W,B7W,v7W,M7W,t58,l58,w58;k7W=S7W.chart.scrubbed;if(k7W.length < S7W.days){S7W.error=! !"1";return;}U5T.B3g(0);B7W=U5T.w3g("0",0);v7W=0;U5T.t6T();M7W=k7W[S7W.startFrom - 1];if(M7W){t58="_";t58+="sumV ";l58="_sumMF";l58+=" ";if(M7W[l58 + S7W.name]){B7W=M7W["_sumMF " + S7W.name];}if(M7W["_sumV " + S7W.name]){v7W=M7W[t58 + S7W.name];}}for(var c7W=S7W.startFrom;c7W < k7W.length;c7W++){w58="_M";w58+="FV ";if(k7W[c7W].High == k7W[c7W].Low){k7W[c7W]["_MFV " + S7W.name]=0;}else {k7W[c7W]["_MFV " + S7W.name]=k7W[c7W].Volume * (2 * k7W[c7W].Close - k7W[c7W].High - k7W[c7W].Low) / (k7W[c7W].High - k7W[c7W].Low);}B7W+=k7W[c7W][w58 + S7W.name];v7W+=k7W[c7W].Volume;if(c7W > S7W.days - 1){B7W-=k7W[c7W - S7W.days]["_MFV " + S7W.name];v7W-=k7W[c7W - S7W.days].Volume;if(v7W){U5T.V3g(13);k7W[c7W]["Result " + S7W.name]=U5T.U3g(v7W,B7W);}}k7W[c7W]["_sumMF " + S7W.name]=B7W;k7W[c7W]["_sumV " + S7W.name]=v7W;}};y7W.Studies.calculateChaikinVolatility=function(I7W,P7W){var z58,f58,o7W,Y7W,p7W,b58;z58="Ra";z58+="te Of Chang";z58+="e";f58="_High-";f58+="Low";f58+=" ";o7W=P7W.chart.scrubbed;if(o7W.length < P7W.days){P7W.error=! !"1";return;}for(Y7W=P7W.startFrom;Y7W < o7W.length;Y7W++){if(o7W[Y7W].futureTick)break;o7W[Y7W]["_High-Low " + P7W.name]=o7W[Y7W].High - o7W[Y7W].Low;}y7W.Studies.MA(P7W.inputs["Moving Average Type"],P7W.days,f58 + P7W.name,0,"_MA",I7W,P7W);p7W=P7W.inputs[z58];if(!p7W){p7W=P7W.days;}for(Y7W=Math.max(P7W.startFrom,p7W);Y7W < o7W.length;Y7W++){b58="Resul";b58+="t ";if(!o7W[Y7W - p7W]["_MA " + P7W.name])continue;if(o7W[Y7W].futureTick)break;o7W[Y7W][b58 + P7W.name]=100 * (o7W[Y7W]["_MA " + P7W.name] / o7W[Y7W - p7W]["_MA " + P7W.name] - 1);}};y7W.Studies.studyLibrary=y7W.extend(y7W.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:y7W.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:y7W.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":v58}}});}};H34=r7W=>{var a7W,g58,q58,k58,o58;a7W=typeof _CIQ !== "undefined"?_CIQ:r7W.CIQ;if(!a7W.Studies){console.error("chande feature requires first activating studies feature.");}else {g58="a";g58+="u";g58+="to";q58="Chand";q58+="e Momentum Oscillator";k58="Variab";k58+="le";o58="v";o58+="a";o58+="riable";a7W.Studies.prettify.variable="vma";a7W.Studies.movingAverage.conversions.vma=o58;a7W.Studies.movingAverage.translations.variable="Variable";a7W.Studies.movingAverage.typeMap.vma=k58;a7W.Studies.movingAverage.typeMap.variable="Variable";a7W.Studies.calculateChandeForecast=function(G7W,C7W){l4kk.t6T();var f7W,l7W,u7W;f7W=C7W.chart.scrubbed;if(f7W.length < C7W.days + 1){C7W.error=! ![];return;}l7W=C7W.inputs.Field;if(!l7W || l7W == "field"){l7W="Close";}a7W.Studies.MA("time series",C7W.days,l7W,+"0","MA",G7W,C7W);for(var J7W=Math.max(1,C7W.startFrom);J7W < f7W.length;J7W++){u7W=f7W[J7W][l7W];if(u7W && typeof u7W == "object"){u7W=u7W[C7W.subField];}f7W[J7W]["Result " + C7W.name]=("100" - 0) * (1 - f7W[J7W]["MA " + C7W.name] / u7W);}};a7W.Studies.calculateChandeMomentum=function(h7W,d7W){var x1T=l4kk;var x58,O58,n7W,Z7W,t7W,H7W,L7W,A7W,T7W,V7W,N7W,q7W;x58="C";x58+="lo";x58+="s";x58+="e";O58="f";O58+="ie";O58+="l";O58+="d";n7W=d7W.name;for(var i7W in d7W.outputs){x1T.B3g(46);n7W=x1T.U3g(2564 >= +"6970"?+"5.05e+3":(730.42,1570) > ("9420" | 4,"5152" << 224476672)?(912.5,9970) == ("1985" | 1345,4970)?("Z","5.34e+3" - 0):"T":" ",n7W,i7W);}Z7W=d7W.chart.scrubbed;if(Z7W.length < d7W.days + 1){d7W.error=! !{};return;}t7W=d7W.inputs.Field;if(!t7W || t7W == O58){t7W=x58;}H7W=0;L7W=0;A7W=[];for(var e7W=d7W.startFrom - d7W.days + +"1";e7W < Z7W.length;e7W++){if(e7W < 1)continue;T7W=Z7W[e7W][t7W];x1T.B3g(7);V7W=Z7W[x1T.U3g(e7W,1)][t7W];if(T7W && typeof T7W == "object"){T7W=T7W.Close;}if(V7W && typeof V7W == "object"){V7W=V7W.Close;}if(V7W === undefined)continue;x1T.B3g(7);N7W=x1T.U3g(T7W,V7W);A7W.push(N7W);H7W+=N7W;L7W+=Math.abs(N7W);if(A7W.length == d7W.days){x1T.V3g(61);Z7W[e7W][n7W]=x1T.w3g(H7W,100,L7W);q7W=A7W.shift();H7W-=q7W;L7W-=Math.abs(q7W);}}};a7W.Studies.calculateMovingAverageVariable=function(E0W,U7W){var O1T=l4kk;var P58,D58,S0W,R7W,Q0W,W7W,X7W,D0W,g7W,j7W,z7W,K0W,s0W,O0W,x0W,Y58,T58,F0W,c0W,b0W,y0W,m0W;P58="c";P58+="m";O1T.t6T();P58+="o";D58="f";D58+="iel";D58+="d";S0W=U7W.inputs.Type;R7W=U7W.chart.scrubbed;Q0W=2 / (U7W.days + 1);W7W=null;X7W=U7W.name;for(var k0W in U7W.outputs){O1T.B3g(46);X7W=O1T.w3g(2192 !== (393.86,4550)?" ":0x98e,X7W,k0W);}D0W=U7W.inputs.Field;if(!D0W || D0W == D58){D0W="Close";}U7W.cmo=new a7W.Studies.StudyDescriptor(U7W.name,P58,U7W.panel);U7W.cmo.chart=U7W.chart;U7W.cmo.days=9;U7W.cmo.inputs={Field:D0W};U7W.cmo.startFrom=U7W.startFrom;U7W.cmo.outputs={_CMO:null};a7W.Studies.calculateChandeMomentum(E0W,U7W.cmo);g7W=parseInt(U7W.inputs.Offset,10);if(isNaN(g7W)){g7W=0;}s0W=U7W.startFrom;O0W=g7W;for(j7W=U7W.startFrom - 1;j7W >= 0;j7W--){z7W=R7W[j7W][X7W];if(!z7W && z7W !== 0)continue;if(W7W === null){W7W=z7W;}if(O0W <= 0)break;O0W--;s0W=j7W;}if(W7W === null){O1T.V3g(7);W7W=s0W=O1T.U3g("0",0);}x0W=[];for(j7W=s0W;j7W < R7W.length;j7W++){Y58="_C";Y58+="M";Y58+="O";Y58+=" ";T58="o";T58+="bj";T58+="ect";F0W=R7W[j7W];z7W=F0W[D0W];if(z7W && typeof z7W == T58){z7W=z7W[U7W.subField];}c0W=j7W + g7W >= 0 && j7W + g7W < R7W.length;b0W=c0W?R7W[j7W + g7W]:null;if(!z7W && z7W !== 0){if(b0W){b0W[X7W]=null;}else if(j7W + g7W >= R7W.length){K0W={};K0W[X7W]=null;x0W.push(K0W);}continue;}if(!F0W["_CMO " + U7W.name] && F0W[Y58 + U7W.name] !== 0)continue;y0W=Math.abs(F0W["_CMO " + U7W.name]) / 100;O1T.B3g(63);m0W=O1T.w3g(Q0W,z7W,1,Q0W,W7W,y0W,y0W);W7W=m0W;if(j7W < U7W.days){m0W=null;}if(b0W){b0W[X7W]=m0W;}else if(j7W + g7W >= R7W.length){K0W={};K0W[X7W]=m0W;x0W.push(K0W);}}U7W.appendFutureTicks(E0W,x0W);};a7W.Studies.studyLibrary=a7W.extend(a7W.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:a7W.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:q58,calculateFN:a7W.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:50,studyOverBoughtColor:g58,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};L34=B0W=>{var v0W,I58,U58;v0W=typeof _CIQ !== "undefined"?_CIQ:B0W.CIQ;l4kk.t6T();if(!v0W.Studies){console.error("choppiness feature requires first activating studies feature.");}else {I58="0";I58+=".";I58+="1";U58="a";U58+="u";U58+="t";U58+="o";v0W.Studies.calculateChoppiness=function(p0W,M0W){var P0W,w0W,o0W,a58;v0W.Studies.calculateStudyATR(p0W,M0W);P0W=M0W.chart.scrubbed;if(P0W.length < M0W.days + 1){M0W.error=! ![];return;}for(var Y0W=Math.max(M0W.startFrom,M0W.days);Y0W < P0W.length;Y0W++){w0W=P0W[Y0W];if(!w0W)continue;if(w0W.futureTick)break;o0W=I0W(M0W.days,Y0W);if(w0W["Sum True Range " + M0W.name]){a58="S";a58+="um True Range ";w0W["Result " + M0W.name]=100 * Math.log(w0W[a58 + M0W.name] / Math.max(+"0.000001",o0W[1] - o0W["0" >> 976942048])) / Math.log(M0W.days);}else if(!isNaN(w0W)){w0W["Result " + M0W.name]=0;}}function I0W(l0W,f0W){var r0W,C0W,C68,X68,s68;r0W=Number.MAX_VALUE * -1;l4kk.a6T();C0W=Number.MAX_VALUE;for(var a0W=f0W - l0W + 1;a0W <= f0W;a0W++){if(a0W < ("0" & 2147483647))continue;r0W=Math.max(r0W,P0W[a0W].High);C0W=Math.min(C0W,P0W[a0W].Low);}C68=822674617;X68=429731561;s68=2;for(var A68=1;l4kk.c3x(A68.toString(),A68.toString().length,"11161" - 0) !== C68;A68++){return [C0W,r0W];}if(l4kk.i3x(s68.toString(),s68.toString().length,72936) !== X68){return [C0W,r0W];}}};v0W.Studies.studyLibrary=v0W.extend(v0W.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:v0W.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:U58}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:I58}}}});}};A34=u0W=>{var J0W,s58,X58;J0W=typeof _CIQ !== "undefined"?_CIQ:u0W.CIQ;l4kk.a6T();if(!J0W.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!J0W.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {s58="Perfo";s58+="rmance Index";X58="-";X58+="1 to";X58+=" ";X58+="1";J0W.Studies.calculateCorrelationCoefficient=function(h0W,G0W){var e0W,Z0W,t0W,K58,Z68,m68,E68,T0W,n0W,L0W,A0W,N0W,q0W,i0W,h58,u58,S58,V0W,J58,p58,W58,j0W,z0W,g0W,R0W;e0W=G0W.chart.scrubbed;Z0W=G0W.days;if(e0W.length < Z0W + +"1"){G0W.error=! !{};return;}G0W.compare=G0W.inputs["Compare To"];if(!G0W.compare){G0W.compare=[];G0W.outputs={};G0W.outputMap={};for(var U0W in h0W.chart.series){t0W=h0W.chart.series[U0W];if(t0W.parameters.color){K58="Re";K58+="su";K58+="lt ";G0W.compare.push(t0W.display);G0W.outputs["Result " + t0W.display]=t0W.parameters.color;G0W.outputMap[K58 + t0W.display + ((1860,6239) !== (+"7122",221.87)?9599 >= (866.84,1510)?" ":(800,3020) != (4737,215.04)?("m","I"):+"0x11ad":(5.06e+3,+"0x1b24")) + G0W.name]="Result " + t0W.display;}}}else {G0W.compare=[G0W.compare];}if(!G0W.compare.length){Z68=+"1313455138";m68=1031659387;E68=2;for(var l68=+"1";l4kk.i3x(l68.toString(),l68.toString().length,81962) !== Z68;l68++){G0W.error="Correlation Coefficient requires at least one comparison symbol";return;}if(l4kk.i3x(E68.toString(),E68.toString().length,54332) !== m68){G0W.error="";return;}}for(var H0W=0;H0W < G0W.compare.length;H0W++){T0W=0;n0W=+"0";L0W=0;A0W=0;N0W=0;q0W=G0W.compare[H0W];i0W=0;for(var d0W=G0W.startFrom - Z0W;d0W < e0W.length;d0W++){h58="_te";h58+="mps ";u58="_";u58+="tem";u58+="ps";u58+=" ";S58="ob";S58+="ject";if(!e0W[d0W])continue;V0W=e0W[d0W][q0W];if(V0W && typeof V0W == S58){V0W=V0W.Close;}if(!V0W && V0W !== 0){J58="_t";J58+="e";J58+="mps";J58+=" ";if(d0W > +"0" && e0W[d0W - 1] && e0W[d0W - 1]["_temps " + G0W.name] && e0W[d0W - 1]["_temps " + G0W.name].c){V0W=e0W[d0W - 1][J58 + G0W.name].c;}else {V0W=0;}}if(V0W && typeof V0W == "object"){V0W=V0W.Close;}e0W[d0W][u58 + G0W.name]={};T0W+=e0W[d0W]["_temps " + G0W.name].b=e0W[d0W].Close;n0W+=e0W[d0W]["_temps " + G0W.name].c=V0W;L0W+=e0W[d0W][h58 + G0W.name].b2=Math.pow(e0W[d0W].Close,2);A0W+=e0W[d0W]["_temps " + G0W.name].c2=Math.pow(V0W,2);N0W+=e0W[d0W]["_temps " + G0W.name].bc=e0W[d0W].Close * V0W;if(i0W >= Z0W){p58="_";p58+="temps ";W58="_";W58+="t";W58+="em";W58+="ps ";T0W-=e0W[d0W - Z0W][W58 + G0W.name].b;n0W-=e0W[d0W - Z0W]["_temps " + G0W.name].c;L0W-=e0W[d0W - Z0W]["_temps " + G0W.name].b2;A0W-=e0W[d0W - Z0W][p58 + G0W.name].c2;N0W-=e0W[d0W - Z0W]["_temps " + G0W.name].bc;j0W=L0W / Z0W - Math.pow(T0W / Z0W,2);z0W=A0W / Z0W - Math.pow(n0W / Z0W,2);g0W=N0W / Z0W - T0W * n0W / Math.pow(Z0W,2);R0W=g0W / Math.sqrt(j0W * z0W);e0W[d0W]["Result " + q0W + ((823,686.2) >= 517.86?8301 === (227.13,837)?!0:7150 >= 127.88?" ":"O":("3.70e+3" & 2147483647,7.43e+3)) + G0W.name]=R0W;}i0W++;}}};J0W.Studies.calculatePerformance=function(b6W,X0W){var G58,W0W,F6W,K6W;G58="Comparison ";G58+="Symbol";l4kk.t6T();W0W=X0W.chart.scrubbed;F6W=X0W.inputs["Comparison Symbol"].toUpperCase();if(!F6W){F6W=X0W.study.inputs[G58];}if(!X0W.days){X0W.days=X0W.study.inputs.Period;}if(W0W.length < X0W.days + 1){X0W.error=! !{};return;}J0W.Studies.MA("ma",X0W.days,"Close",0,"_MA Base",b6W,X0W);J0W.Studies.MA("ma",X0W.days,F6W,"0" - 0,"_MA Comp",b6W,X0W);for(var D6W=X0W.startFrom;D6W < W0W.length;D6W++){K6W=W0W[D6W][F6W];if(K6W && (K6W.Close || K6W.Close === 0)){K6W=K6W.Close;}W0W[D6W]["Result " + X0W.name]=W0W[D6W].Close / K6W * (W0W[D6W]["_MA Comp " + X0W.name] / W0W[D6W]["_MA Base " + X0W.name]);}};J0W.Studies.calculateBeta=function(E6W,m6W){var y1T=l4kk;var N58,L58,x6W,y6W,B58,Q6W,O6W,i58,c58,Q58,j58,C58,R58;N58="_";N58+="V";N58+="A";N58+="R";L58="_MA ";L58+="Co";L58+="m";L58+="p";x6W=m6W.chart.scrubbed;y1T.t6T();y6W=m6W.inputs["Comparison Symbol"].toUpperCase();if(!y6W){y6W=m6W.study.inputs["Comparison Symbol"];}if(!m6W.days){m6W.days=m6W.study.inputs.Period;}if(x6W.length < m6W.days + 1){m6W.error=! !{};return;}for(var s6W=Math.max(m6W.startFrom,1);s6W < x6W.length;s6W++){B58="_CompC";B58+="hang";B58+="e ";x6W[s6W]["_BaseChange " + m6W.name]=x6W[s6W].Close / x6W[s6W - 1].Close - 1;Q6W=x6W[s6W][y6W];if(Q6W && (Q6W.Close || Q6W.Close === 0)){Q6W=Q6W.Close;}y1T.V3g(7);O6W=x6W[y1T.U3g(s6W,1)][y6W];if(O6W && (O6W.Close || O6W.Close === 0)){O6W=O6W.Close;}y1T.V3g(64);x6W[s6W][B58 + m6W.name]=y1T.w3g(1003777152,Q6W,O6W,"1");}J0W.Studies.MA("ma",m6W.days,"_BaseChange " + m6W.name,0,"_MA Base",E6W,m6W);J0W.Studies.MA("ma",m6W.days,"_CompChange " + m6W.name,0,L58,E6W,m6W);for(s6W=Math.max(m6W.startFrom,m6W.days);s6W < x6W.length;s6W++){i58="_VA";i58+="R";i58+="n";i58+=" ";c58="_Co";c58+="mpC";c58+="hange ";Q58="_M";Q58+="A Base ";j58="_COVA";j58+="R";j58+="n ";x6W[s6W][j58 + m6W.name]=(x6W[s6W]["_BaseChange " + m6W.name] - x6W[s6W][Q58 + m6W.name]) * (x6W[s6W][c58 + m6W.name] - x6W[s6W]["_MA Comp " + m6W.name]);x6W[s6W][i58 + m6W.name]=Math.pow(x6W[s6W]["_CompChange " + m6W.name] - x6W[s6W]["_MA Comp " + m6W.name],2);}J0W.Studies.MA("ma",m6W.days,"_COVARn " + m6W.name,0,"_COVAR",E6W,m6W);J0W.Studies.MA("ma",m6W.days,"_VARn " + m6W.name,0,N58,E6W,m6W);for(s6W=Math.max(m6W.startFrom,m6W.days * 2 - 1);s6W < x6W.length;s6W++){C58="_";C58+="V";C58+="AR";C58+=" ";R58="R";R58+="esult ";x6W[s6W][R58 + m6W.name]=x6W[s6W]["_COVAR " + m6W.name] / x6W[s6W][C58 + m6W.name];}};J0W.Studies.studyLibrary=J0W.extend(J0W.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:X58,calculateFN:J0W.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:s58,centerline:1,initializeFN:J0W.Studies.initPriceRelative,seriesFN:J0W.Studies.displayVsComparisonSymbol,calculateFN:J0W.Studies.calculatePerformance,inputs:{Period:+"120","Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! !1},Beta:{name:"Beta",centerline:1,initializeFN:J0W.Studies.initPriceRelative,seriesFN:J0W.Studies.displayVsComparisonSymbol,calculateFN:J0W.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! !{}}});}};N34=c6W=>{l4kk.t6T();var k6W,F58;k6W=typeof _CIQ !== "undefined"?_CIQ:c6W.CIQ;if(!k6W.Studies){console.error("coppock feature requires first activating studies feature.");}else {F58="fi";F58+="el";F58+="d";k6W.Studies.calculateCoppock=function(I6W,S6W){var S1T=l4kk;var A58,V58,v6W,B6W,w6W,P6W,Y6W,o6W,p6W;A58="_Su";A58+="m ";V58="S";S1T.a6T();V58+="hort ";V58+="RoC";v6W=S6W.chart.scrubbed;B6W=S6W.inputs.Field;if(!B6W || B6W == "field"){B6W="Close";}w6W=parseInt(S6W.inputs["Long RoC"],+"10");if(!w6W){w6W=14;}P6W=parseInt(S6W.inputs[V58],10);if(!P6W){P6W=11;}Y6W=S6W.days;if(!Y6W){Y6W=+"10";}if(w6W < P6W){return;}if(v6W.length < Math.max(P6W,w6W,Y6W) + 1){S6W.error=! !"1";return;}for(var M6W=Math.max(S6W.startFrom,w6W);M6W < v6W.length;M6W++){S1T.B3g(7);o6W=v6W[S1T.U3g(M6W,P6W)][B6W];S1T.B3g(7);p6W=v6W[S1T.w3g(M6W,w6W)][B6W];if(o6W && p6W){v6W[M6W]["_Sum " + S6W.name]=100 * (v6W[M6W][B6W] / o6W + v6W[M6W][B6W] / p6W - 2);}}k6W.Studies.MA("weighted",Y6W,A58 + S6W.name,+"0","Result",I6W,S6W);};k6W.Studies.studyLibrary=k6W.extend(k6W.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:k6W.Studies.calculateCoppock,inputs:{Period:10,Field:F58,"Short RoC":11,"Long RoC":14}}});}};q34=r6W=>{var a6W,I08,v68,o68,k68,q08,Y08,U08,a08,g08;a6W=typeof _CIQ !== "undefined"?_CIQ:r6W.CIQ;if(!a6W.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {I08="a";I08+="u";I08+="to";a6W.Studies.calculateDarvas=function(h6W,e6W){var P1T=l4kk;var H58,r58,d58,C6W,d6W,A6W,n58,q6W,V6W,J6W,G6W,T6W,Z6W,n6W,t6W,l6W,u6W,H6W,M58,f6W,e08,Z08,y58,E08,m08,t08,l08,w08,z08,f08,b08,v08;H58="L";H58+="o";H58+="s";H58+="s";r58="G";r58+="h";r58+="ost";d58="ATH Lookback ";d58+="Pe";d58+="rio";d58+="d";C6W=e6W.chart.scrubbed;d6W=0;A6W=parseInt(e6W.inputs[d58],10);if(e6W.inputs["Volume Spike"]){n58="A";n58+="D";n58+="V";a6W.Studies.MA("simple",A6W,"Volume",0,n58,h6W,e6W);}q6W=parseFloat(e6W.inputs["Volume % of Avg"]) / 100;V6W="none";J6W={};G6W=null;T6W=null;Z6W=null;n6W=parseFloat(e6W.inputs["Level Offset"]);t6W=!{};if(t6W){console.log("*****************");}u6W={};["Darvas",r58,"Profit",H58,"ATH","ADV","Spike"].forEach(function(U6W){u6W[U6W]=U6W + (3060 <= (3550,2530)?(783.48,8240) === (841.46,4475)?! !{}:7040 >= +"5580"?(!"",56.92):(1.65,0x1d62):" ") + e6W.name;});for(l6W=e6W.startFrom - 1;l6W > 0;l6W--){H6W=C6W[l6W];if(H6W[u6W.Darvas] || H6W[u6W.Ghost]){for(var i6W in u6W){H6W[i6W]=null;}}else {d6W=H6W[u6W.ATH] || 0;T6W=H6W[u6W.Profit];Z6W=H6W[u6W.Loss];break;}}for(l6W;l6W < C6W.length;l6W++){M58="P";M58+="ri";M58+="ce Minim";M58+="um";f6W=C6W[l6W];if(!f6W)continue;if(parseFloat(e6W.inputs[M58]) <= C6W[d6W].Close){e08="dar";e08+="v";e08+="as";Z08="high";Z08+="/l";Z08+="ow";if(G6W && (!G6W.End || l6W == G6W.End + 1)){if(C6W[l6W - 1].Close > J6W.High){J6W={State:1,High:("2" << 1248414912) * J6W.High - J6W.Low,Low:J6W.High,Start:l6W,End:2 * J6W.End - J6W.Start + 1};}else {G6W=null;;}if(G6W){y58="Ghos";y58+="t begin:";f6W[u6W.Ghost]=a6W.clone(J6W);if(t6W){console.log(y58 + f6W.DT);}J6W.State=0;if(C6W[J6W.End]){C6W[J6W.End][u6W.Ghost]=a6W.clone(J6W);if(t6W){console.log("Ghost end:" + C6W[J6W.End].DT);}}G6W={Start:J6W.Start,End:J6W.End};T6W=J6W.High + n6W;if(!Z6W || Z6W < J6W.Low - n6W){Z6W=J6W.Low - n6W;}}}f6W[u6W.Profit]=T6W;f6W[u6W.Loss]=Z6W;if(f6W.Close >= T6W){T6W=null;}else if(e6W.inputs["Exit Field"] == Z08 && f6W.High >= T6W){T6W=null;}if(V6W == "none"){if(l6W == d6W + 3){if(!C6W[d6W + 2][u6W.Darvas] && !C6W[d6W + 1][u6W.Darvas] && !C6W[d6W][u6W.Darvas] && C6W[d6W].High > f6W.High){V6W="high";;}}}if(V6W == "high"){if(f6W.High > C6W[d6W].High){V6W="none";}else if(C6W[l6W - ("3" | 2)].Low < C6W[l6W - 2].Low && C6W[l6W - 3].Low < C6W[l6W - 1].Low && C6W[l6W - ("3" ^ 0)].Low < f6W.Low){E08="Darvas b";E08+="egin:";m08="da";m08+="rvas";J6W={State:1,High:C6W[d6W].High,Low:C6W[l6W - ("3" ^ 0)].Low,Start:d6W};C6W[d6W][u6W.Darvas]=a6W.clone(J6W);V6W=m08;if(t6W){console.log(E08 + C6W[d6W].DT);}if(t6W){console.log("Darvas established:" + f6W.DT);}if(G6W){if(G6W.End > l6W && C6W[G6W.Start]){f6W[u6W.Ghost]=a6W.clone(C6W[G6W.Start][u6W.Ghost]);f6W[u6W.Ghost].End=l6W;if(C6W[G6W.End]){delete C6W[G6W.End][u6W.Ghost];if(t6W){console.log("Ghost End removed:" + C6W[G6W.End].DT);}}}f6W[u6W.Ghost].State=0;C6W[G6W.Start][u6W.Ghost].End=l6W;if(t6W){console.log("Ghost end:" + f6W.DT);}G6W=null;}T6W=J6W.High + n6W;if(!Z6W || Z6W < J6W.Low - n6W){Z6W=J6W.Low - n6W;}}}if(V6W == e08){t08="no";t08+="n";t08+="e";l08="E";l08+="xit ";l08+="F";l08+="ield";if(f6W.Close > J6W.High){G6W={};}else if(e6W.inputs[l08] == "high/low" && f6W.High > J6W.High){G6W={};}else if(f6W.Close < J6W.Low){V6W="none";}else if(e6W.inputs["Exit Field"] == "high/low" && f6W.Low < J6W.Low){V6W="none";}if(G6W){V6W=t08;}else if(V6W == "none"){T6W=null;Z6W=null;}if(!e6W.inputs["Ghost Boxes"]){G6W=null;}if(V6W == "none"){for(var N6W=J6W.Start + ("1" | 0);N6W < l6W;N6W++){C6W[N6W][u6W.Darvas]=a6W.clone(J6W);}P1T.B3g(7);J6W.State=P1T.w3g("0",0);J6W.End=l6W;f6W[u6W.Darvas]=a6W.clone(J6W);if(t6W){console.log("Darvas end:" + f6W.DT);}f6W[u6W.ATH]=d6W;continue;}}if(Z6W){w08="Exit ";w08+="Field";if(f6W.Close < J6W.Low || e6W.inputs[w08] == "high/low" && f6W.Low < J6W.Low){z08="Exit Fie";z08+="ld";f08="da";f08+="rv";f08+="a";f08+="s";if(V6W == f08){V6W="none";}if(f6W.Close < Z6W || e6W.inputs[z08] == "high/low" && f6W.Low < Z6W){T6W=null;Z6W=null;}if(G6W){if(G6W.End > l6W && C6W[G6W.Start]){f6W[u6W.Ghost]=a6W.clone(C6W[G6W.Start][u6W.Ghost]);f6W[u6W.Ghost].End=l6W;if(C6W[G6W.End]){delete C6W[G6W.End][u6W.Ghost];if(t6W){console.log("Ghost End removed:" + C6W[G6W.End].DT);}}}f6W[u6W.Ghost].State=0;C6W[G6W.Start][u6W.Ghost].End=l6W;if(t6W){console.log("Ghost end:" + f6W.DT);}G6W=null;}}}}if(f6W.High >= C6W[d6W].High){b08="All Tim";b08+="e High:";d6W=l6W;if(t6W){console.log(b08 + f6W.DT);}}if(l6W < 3 || f6W.High >= C6W[l6W - +"1"].High && f6W.High >= C6W[l6W - ("2" >> 1747840896)].High && f6W.High >= C6W[l6W - 3].High){if(l6W - d6W >= A6W){d6W=l6W;for(var L6W=0;L6W < A6W;L6W++){if(l6W - L6W < 0)break;if(C6W[l6W - L6W].High > C6W[d6W].High){P1T.V3g(7);d6W=P1T.w3g(l6W,L6W);}}if(t6W){console.log("All Time High:" + f6W.DT);}}}if(e6W.inputs["Volume Spike"] && l6W > A6W && l6W == d6W){if(f6W[u6W.ADV] * q6W < f6W.Volume){v08="Vol";v08+="u";v08+="me ";v08+="Spike:";f6W[u6W.Spike]=1;if(t6W){console.log(v08 + f6W.DT);}}}f6W[u6W.ATH]=d6W;}};a6W.Studies.displayDarvas=function(z6W,X6W,D8W){var h1T=l4kk;var o08,c8W,m8W,O8W,W6W,j6W,g6W,R6W,P8W,s8W,K8W,n78,r78,H78,k08,M8W,Y8W,I8W,o8W,F8W,b8W,x8W,S8W,Q8W,k8W,y8W,B8W,E8W,v8W,a8W,w8W,D08,x08,O08,r8W,P08,T08,p8W,S68,J68,u68;o08="a";o08+="u";o08+="to";c8W=a6W.Studies.determineColor(X6W.outputs.Levels);if(!c8W || c8W == "auto" || a6W.isTransparent(c8W)){c8W=z6W.defaultColor;}m8W=a6W.Studies.determineColor(X6W.outputs.Darvas);if(!m8W || m8W == "auto" || a6W.isTransparent(m8W)){m8W=z6W.defaultColor;}O8W=a6W.Studies.determineColor(X6W.outputs.Ghost);if(!O8W || O8W == o08 || a6W.isTransparent(O8W)){O8W=z6W.defaultColor;}W6W=z6W.panels[X6W.panel];j6W=X6W.getContext(z6W);K8W=z6W.layout.candleWidth - ("2" >> 35262464);if(K8W < 2){K8W=1;}z6W.startClip(X6W.panel);if(X6W.inputs["Stop Levels"]){if(j6W.setLineDash){n78=-1554710208;r78=1226675086;H78=+"2";for(var y78=1;h1T.i3x(y78.toString(),y78.toString().length,30111) !== n78;y78++){j6W.setLineDash([7,9]);H78+=2;}if(h1T.i3x(H78.toString(),H78.toString().length,90881) !== r78){j6W.setLineDash([7,+"9"]);}j6W.setLineDash([+"2",2]);}j6W.lineWidth=2;j6W.strokeStyle=c8W;j6W.beginPath();for(g6W=0;g6W < D8W.length;g6W++){k08="Loss";k08+=" ";R6W=D8W[g6W];h1T.B3g(7);M8W=D8W[h1T.w3g(g6W,1)];if(!R6W)continue;s8W=R6W["Loss " + X6W.name]?Math.floor(z6W.pixelFromPrice(R6W[k08 + X6W.name],W6W)):null;Y8W=M8W && M8W["Loss " + X6W.name]?Math.floor(z6W.pixelFromPrice(M8W["Loss " + X6W.name],W6W)):null;if(s8W){if(R6W.candleWidth){K8W=Math.floor(Math.max(1,R6W.candleWidth));}I8W=Math.floor(z6W.pixelFromBar(g6W,W6W.chart) + K8W / 2);o8W=Math.floor(z6W.pixelFromBar(g6W,W6W.chart) - K8W / 2);if(Y8W && Y8W >= s8W){j6W.lineTo(o8W,s8W);}else if(g6W === 0){j6W.moveTo(z6W.chart.left,s8W);}else {j6W.moveTo(o8W,s8W);}j6W.lineTo(I8W,s8W);}}j6W.stroke();if(j6W.setLineDash){j6W.setLineDash([]);}j6W.lineWidth=1;}F8W=-10;x8W=0;Q8W=-10;y8W=0;E8W=![];v8W=!1;a8W=j6W.measureText(9885 !== (4050,3239)?"\u25B2":(0x753,6.22e+3)).width / 2;w8W=0;for(g6W="0" * 1;g6W < D8W.length;g6W++){D08="Gho";D08+="st ";D08+="B";D08+="oxes";x08="Gh";x08+="os";x08+="t ";O08="D";O08+="ar";O08+="vas";O08+=" ";if(!D8W[g6W])continue;if(D8W[g6W].Close || D8W[g6W].Close === 0){w8W=g6W;}if(D8W[g6W]["Spike " + X6W.name]){j6W.fillStyle=m8W;j6W.textBaseline="bottom";r8W=z6W.pixelFromPrice(D8W[g6W].High,z6W.chart.panel);j6W.fillText("\u25BC",z6W.pixelFromBar(g6W) - a8W,r8W - 5);;}if(D8W[g6W].candleWidth){K8W=Math.floor(Math.max(1,D8W[g6W].candleWidth));}if(D8W[g6W][O08 + X6W.name]){R6W=D8W[g6W]["Darvas " + X6W.name];if(R6W.State == 1 && !E8W){F8W=Math.floor(z6W.pixelFromBar(g6W,W6W.chart) - K8W / +"2");b8W=Math.floor(z6W.pixelFromPrice(R6W.High,W6W));S8W=Math.floor(z6W.pixelFromPrice(R6W.Low,W6W)) - b8W;E8W=!0;}else if(R6W.State === 0){x8W=Math.floor(z6W.pixelFromBar(g6W,W6W.chart) + K8W / +"2") - F8W;b8W=Math.floor(z6W.pixelFromPrice(R6W.High,W6W));S8W=Math.floor(z6W.pixelFromPrice(R6W.Low,W6W)) - b8W;j6W.strokeStyle=m8W;j6W.fillStyle=m8W;if(!X6W.inputs["Stop Levels"]){j6W.strokeRect(F8W,b8W,x8W,S8W);j6W.globalAlpha=0.2;}else {j6W.globalAlpha=0.3;}j6W.fillRect(F8W,b8W,x8W,S8W);j6W.globalAlpha=1;E8W=!"1";}}if(D8W[g6W][x08 + X6W.name] && X6W.inputs[D08]){R6W=D8W[g6W]["Ghost " + X6W.name];if(R6W.State == 1 && !v8W){Q8W=Math.floor(z6W.pixelFromBar(g6W,W6W.chart) - K8W / 2);k8W=Math.floor(z6W.pixelFromPrice(R6W.High,W6W));y8W=Math.floor((R6W.End - R6W.Start + 1) * z6W.layout.candleWidth + K8W / 2);B8W=Math.floor(z6W.pixelFromPrice(R6W.Low,W6W)) - k8W;v8W=! !{};}else if(R6W.State === +"0"){P08="S";P08+="top Levels";if(R6W.Start == R6W.End){Q8W=Math.floor(z6W.pixelFromBar(g6W,W6W.chart) - K8W / 2);}y8W=Math.floor(z6W.pixelFromBar(g6W,W6W.chart) + K8W / 2) - Q8W;k8W=Math.floor(z6W.pixelFromPrice(R6W.High,W6W));B8W=Math.floor(z6W.pixelFromPrice(R6W.Low,W6W)) - k8W;j6W.strokeStyle=O8W;j6W.fillStyle=O8W;if(!X6W.inputs[P08]){j6W.strokeRect(Q8W,k8W,y8W,B8W);j6W.globalAlpha=0.2;}else {j6W.globalAlpha=0.3;}j6W.fillRect(Q8W,k8W,y8W,B8W);j6W.globalAlpha=1;v8W=!{};}}}if(E8W){x8W=Math.floor(z6W.pixelFromBar(w8W,W6W.chart) + K8W / 2) - F8W;j6W.strokeStyle=m8W;j6W.fillStyle=m8W;if(!X6W.inputs["Stop Levels"]){j6W.beginPath();h1T.V3g(47);j6W.moveTo(h1T.U3g(x8W,2,F8W),b8W);j6W.lineTo(F8W,b8W);h1T.V3g(2);j6W.lineTo(F8W,h1T.w3g(b8W,S8W));h1T.V3g(47);j6W.lineTo(h1T.w3g(x8W,2,F8W),h1T.w3g(b8W,S8W,h1T.B3g(2)));j6W.stroke();j6W.globalAlpha=0.2;}else {j6W.globalAlpha=0.3;}h1T.B3g(1);j6W.fillRect(F8W,b8W,h1T.U3g(2,x8W),S8W);j6W.globalAlpha=+"1";}if(v8W){T08="Stop L";T08+="e";T08+="vels";j6W.strokeStyle=O8W;j6W.fillStyle=O8W;if(!X6W.inputs[T08]){j6W.strokeRect(Q8W,k8W,y8W,B8W);j6W.globalAlpha=0.2;}else {j6W.globalAlpha=0.3;}j6W.fillRect(Q8W,k8W,y8W,B8W);j6W.globalAlpha=1;}if(E8W || v8W){if(X6W.inputs["Stop Levels"]){if(j6W.setLineDash){j6W.setLineDash([2,+"2"]);}j6W.lineWidth=2;j6W.strokeStyle=c8W;p8W=Math.floor(z6W.pixelFromBar(w8W - 1,W6W.chart) + K8W / 2);if(P8W){j6W.beginPath();j6W.moveTo(p8W,P8W);S68=688750158;J68=-1112000558;u68=2;for(var W68=1;h1T.c3x(W68.toString(),W68.toString().length,49108) !== S68;W68++){j6W.lineTo(E8W?F8W + ("2" | 0) * x8W:Q8W + y8W,P8W);j6W.stroke();u68+=2;}if(h1T.i3x(u68.toString(),u68.toString().length,+"76041") !== J68){j6W.lineTo(E8W?F8W * (6 + x8W):Q8W * y8W,P8W);j6W.stroke();}}if(s8W){j6W.beginPath();j6W.moveTo(p8W,s8W);j6W.lineTo(E8W?F8W + 2 * x8W:Q8W + y8W,s8W);j6W.stroke();}if(j6W.setLineDash){j6W.setLineDash([]);}j6W.lineWidth=1;}E8W=!{};v8W=!{};}z6W.endClip();};v68=1175879717;o68=362818716;k68=2;for(var x68=1;l4kk.c3x(x68.toString(),x68.toString().length,+"59084") !== v68;x68++){q08="L";q08+="evel Offset";Y08="#5F7C";Y08+="B";Y08+="8";a6W.Studies.studyLibrary=a6W.extend(a6W.Studies.studyLibrary,{Darvas:{name:"close",underlay:!{},calculateFN:a6W.Studies.calculateDarvas,seriesFN:a6W.Studies.displayDarvas,inputs:{"ATH Lookback Period":790,"Exit Field":[Y08,"Price Minimum"],"Ghost Boxes":!{},"Stop Levels":! ![],"Level Offset":+"1489","Price Minimum":9,"Volume Spike":! !{},"Volume % of Avg":+"891"},outputs:{Darvas:"Price Minimum",Ghost:q08,Levels:"#5F7CB8"},customRemoval:![],attributes:{"Price Minimum":{min:5197,step:9604},yaxisDisplayValue:{hidden:!"1"},panelName:{hidden:![]},flippedEnabled:{hidden:!1}}}});k68+=+"2";}if(l4kk.i3x(k68.toString(),k68.toString().length,+"71122") !== o68){U08="#";U08+="5F";U08+="7CB";U08+="8";a08="Price";a08+=" Mi";a08+="nimum";g08="#5";g08+="F";g08+="7CB8";a6W.Studies.studyLibrary=a6W.extend(a6W.Studies.studyLibrary,{Darvas:{name:"close",underlay:! !"",calculateFN:a6W.Studies.calculateDarvas,seriesFN:a6W.Studies.displayDarvas,inputs:{"ATH Lookback Period":790,"Exit Field":[g08,a08],"Ghost Boxes":![],"Stop Levels":! !"1","Level Offset":1489,"Price Minimum":+"9","Volume Spike":! ![],"Volume % of Avg":891},outputs:{Darvas:"Price Minimum",Ghost:"Level Offset",Levels:U08},customRemoval:! !0,attributes:{"Price Minimum":{min:5197,step:9604},yaxisDisplayValue:{hidden:! !0},panelName:{hidden:!{}},flippedEnabled:{hidden:!{}}}}});}a6W.Studies.studyLibrary=a6W.extend(a6W.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! ![],calculateFN:a6W.Studies.calculateDarvas,seriesFN:a6W.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!"","Stop Levels":! !"","Level Offset":0.01,"Price Minimum":5,"Volume Spike":! !"","Volume % of Avg":"400" << 1086062272},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:I08},customRemoval:!0,attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !{}},flippedEnabled:{hidden:! ![]}}}});}};i34=f8W=>{var C8W,J08,S08;C8W=typeof _CIQ !== "undefined"?_CIQ:f8W.CIQ;if(!C8W.Studies){console.error("detrended feature requires first activating studies feature.");}else {J08="m";J08+="a";S08="fi";S08+="e";S08+="l";S08+="d";C8W.Studies.calculateDetrendedPrice=function(Z8W,l8W){var K08,u8W,G8W,e8W,J8W,V8W;K08="M";K08+="A";u8W=l8W.chart.scrubbed;if(u8W.length < l8W.days + 1){l8W.error=! !1;return;}G8W=l8W.inputs.Field;if(!G8W || G8W == "field"){G8W="Close";}e8W=Math.floor(l8W.days / 2 + 1);C8W.Studies.MA(l8W.inputs["Moving Average Type"],l8W.days,G8W,-e8W,K08,Z8W,l8W);for(var d8W=Math.max(l8W.days - e8W - 1,l8W.startFrom - e8W);d8W < u8W.length - e8W;d8W++){J8W=u8W[d8W][G8W];if(J8W && typeof J8W == "object"){J8W=J8W[l8W.subField];}V8W=u8W[d8W]["MA " + l8W.name];if((J8W || J8W === 0) && (V8W || V8W === 0)){l4kk.V3g(7);u8W[d8W]["Result " + l8W.name]=l4kk.w3g(J8W,V8W);}}};C8W.Studies.studyLibrary=C8W.extend(C8W.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:C8W.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:S08,"Moving Average Type":J08}}});}};h34=T8W=>{l4kk.a6T();var t8W;t8W=typeof _CIQ !== "undefined"?_CIQ:T8W.CIQ;if(!t8W.Studies){console.error("disparity feature requires first activating studies feature.");}else {t8W.Studies.calculateDisparity=function(q8W,n8W){var u08,H8W,A8W,c5x,i5x,N5x,h08,N8W;u08="fi";u08+="el";u08+="d";H8W=n8W.chart.scrubbed;if(H8W.length < n8W.days + 1){n8W.error=! ![];return;}A8W=n8W.inputs.Field;if(!A8W || A8W == u08){A8W="Close";}c5x=1100502678;i5x=-1659823976;N5x=2;for(var C5x=1;l4kk.c3x(C5x.toString(),C5x.toString().length,69971) !== c5x;C5x++){t8W.Studies.MA(n8W.inputs["_MA"],n8W.days,A8W,+"1","_MA",q8W,n8W);N5x+=2;}l4kk.t6T();if(l4kk.i3x(N5x.toString(),N5x.toString().length,+"7965") !== i5x){t8W.Studies.MA(n8W.inputs["Moving Average Type"],n8W.days,A8W,+"0","_MA",q8W,n8W);}for(var L8W=Math.max(n8W.startFrom,n8W.days - 1);L8W < H8W.length;L8W++){h08="_";h08+="M";h08+="A";h08+=" ";if(!H8W[L8W])continue;N8W=H8W[L8W][h08 + n8W.name];if(N8W){H8W[L8W]["Result " + n8W.name]=100 * (H8W[L8W][A8W] / N8W - 1);}}};t8W.Studies.studyLibrary=t8W.extend(t8W.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:t8W.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};U34=h8W=>{var W08,i8W;W08="un";W08+="define";W08+="d";i8W=typeof _CIQ !== W08?_CIQ:h8W.CIQ;if(!i8W.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {i8W.Studies.calculateEaseOfMovement=function(K1W,z8W){var g1T=l4kk;var G08,U8W,p08,R8W,X8W,W8W,D1W,g8W;G08="_";G08+="E";G08+="O";G08+="M1 ";U8W=z8W.chart.scrubbed;g1T.t6T();if(U8W.length < z8W.days){z8W.error=! !{};return;}for(var j8W=Math.max(1,z8W.startFrom);j8W < U8W.length;j8W++){p08="_";p08+="E";p08+="OM1 ";R8W=(U8W[j8W].High + U8W[j8W].Low) / +"2";X8W=(U8W[j8W - ("1" | 0)].High + U8W[j8W - 1].Low) / 2;g1T.V3g(7);W8W=g1T.w3g(R8W,X8W);D1W=U8W[j8W].Volume / 100000000 / (U8W[j8W].High - U8W[j8W].Low);g1T.B3g(13);g8W=g1T.w3g(D1W,W8W);if(!isFinite(g8W)){U8W[j8W]["_EOM1 " + z8W.name]=NaN;}else {U8W[j8W][p08 + z8W.name]=g8W;}}i8W.Studies.MA(z8W.inputs["Moving Average Type"],z8W.days,G08 + z8W.name,0,"Result",K1W,z8W);};i8W.Studies.studyLibrary=i8W.extend(i8W.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:i8W.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};j34=b1W=>{var F1W;F1W=typeof _CIQ !== "undefined"?_CIQ:b1W.CIQ;if(!F1W.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {F1W.Studies.calculateEhlerFisher=function(c1W,m1W){var x1W,s1W,Q08,j08,O1W,L08,B08,y1W,E1W;x1W=m1W.chart.scrubbed;function k1W(P1W,w1W){var v1W,B1W,M1W;v1W=Number.MAX_VALUE;l4kk.t6T();B1W=Number.MAX_VALUE * -1;for(var S1W=w1W - P1W + +"1";S1W <= w1W;S1W++){M1W=(x1W[S1W].High + x1W[S1W].Low) / +"2";v1W=Math.min(v1W,M1W);B1W=Math.max(B1W,M1W);}return [v1W,B1W];}l4kk.t6T();if(x1W.length < m1W.days + 1){m1W.error=! ![];return;}s1W=+"0";if(m1W.startFrom > 1){s1W=x1W[m1W.startFrom - +"1"]["_n " + m1W.name];}for(var Q1W=m1W.startFrom;Q1W < x1W.length;Q1W++){Q08="E";Q08+="F ";Q08+="Trigge";Q08+="r ";j08="E";j08+="F ";O1W=x1W[Q1W];if(O1W.futureTick)break;if(Q1W < m1W.days - 1){L08="E";L08+="F Tri";L08+="gge";L08+="r ";B08="EF";B08+=" ";O1W[B08 + m1W.name]=O1W[L08 + m1W.name]=s1W;continue;}y1W=k1W(m1W.days,Q1W);s1W=("0.33" - 0) * 2 * (((x1W[Q1W].High + x1W[Q1W].Low) / 2 - y1W[0]) / Math.max(0.000001,y1W[1] - y1W[0]) - 0.5) + +"0.67" * s1W;if(s1W > 0){l4kk.V3g(1);s1W=Math.min(s1W,l4kk.U3g("0.9999",1));}else if(s1W < 0){s1W=Math.max(s1W,-0.9999);}E1W=Q1W?x1W[Q1W - 1]["EF " + m1W.name]:0;O1W[j08 + m1W.name]=+"0.5" * Math.log((1 + s1W) / (("1" & 2147483647) - s1W)) + +"0.5" * E1W;O1W[Q08 + m1W.name]=E1W;O1W["_n " + m1W.name]=s1W;}};F1W.Studies.studyLibrary=F1W.extend(F1W.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:F1W.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};z34=o1W=>{var c08,Y1W,H08,r08,n08;c08="u";l4kk.a6T();c08+="ndef";c08+="in";c08+="ed";Y1W=typeof _CIQ !== c08?_CIQ:o1W.CIQ;if(!Y1W.Studies){console.error("elder feature requires first activating studies feature.");}else {H08="Elder Impulse Sys";H08+="tem";r08="El";r08+="d";r08+="er Ray Inde";r08+="x";n08="Elder";n08+=" Force Ind";n08+="e";n08+="x";Y1W.Studies.calculateElderImpulse=function(f1W,p1W){var i08,a1W,l1W,J1W,C1W,r1W,R08,N08;i08="expo";i08+="nenti";i08+="al";a1W=p1W.chart.scrubbed;l1W=p1W.outputs.Bullish;J1W=p1W.outputs.Bearish;C1W=p1W.outputs.Neutral;l4kk.V3g(33);Y1W.Studies.MA(i08,l4kk.U3g("13",13),"Close",0,"_MA",f1W,p1W);p1W.macd=new Y1W.Studies.StudyDescriptor("_" + p1W.name,"macd",p1W.panel);p1W.macd.chart=p1W.chart;p1W.macd.days=p1W.days;p1W.macd.startFrom=p1W.startFrom;p1W.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};p1W.macd.outputs={_MACD:null,_Signal:null};Y1W.Studies.calculateMACD(f1W,p1W.macd);for(var I1W=p1W.startFrom;I1W < a1W.length;I1W++){R08="_";R08+="h";R08+="is";R08+="t";N08="_h";N08+="ist";if(I1W === "0" << 75614144){r1W=C1W;}else if(a1W[I1W]["_MA " + p1W.name] > a1W[I1W - 1]["_MA " + p1W.name] && a1W[I1W]["_" + p1W.name + N08] > a1W[I1W - 1][(+"3620" <= (427,558.18)?! !{}:(8737,4483) !== 5074?"_":350.48) + p1W.name + "_hist"]){r1W=l1W;}else if(a1W[I1W]["_MA " + p1W.name] < a1W[I1W - 1]["_MA " + p1W.name] && a1W[I1W]["_" + p1W.name + R08] < a1W[I1W - 1][(8257 == ("4493" ^ 0)?(1382,559.08) < 542?"z":(6619,9930) === (5272,660.91)?"b":544.16:"_") + p1W.name + "_hist"]){r1W=J1W;}else {r1W=C1W;}a1W[I1W]["Result " + p1W.name]=r1W;;}};Y1W.Studies.calculateElderRay=function(e1W,u1W){var s08,X08,C08,G1W;s08="_h";s08+="ist1";X08="_EM";X08+="A";C08="exponen";C08+="tial";G1W=u1W.chart.scrubbed;if(G1W.length < u1W.days){u1W.error=! ![];return;}Y1W.Studies.MA(C08,u1W.days,"Close",0,X08,e1W,u1W);for(var d1W=Math.max(u1W.startFrom,u1W.days - 1);d1W < G1W.length;d1W++){G1W[d1W][u1W.name + "_hist1"]=G1W[d1W].High - G1W[d1W]["_EMA " + u1W.name];G1W[d1W][u1W.name + "_hist2"]=G1W[d1W].Low - G1W[d1W]["_EMA " + u1W.name];}u1W.outputMap={};u1W.outputMap[u1W.name + s08]="";u1W.outputMap[u1W.name + "_hist2"]="";};Y1W.Studies.calculateElderForce=function(T1W,V1W){var A08,V08,Z1W;A08="_";A08+="E";A08+="F";A08+="1 ";V08="expo";V08+="nent";V08+="ia";V08+="l";Z1W=V1W.chart.scrubbed;l4kk.a6T();if(Z1W.length < V1W.days){V1W.error=! !{};return;}for(var t1W=Math.max(1,V1W.startFrom);t1W < Z1W.length;t1W++){Z1W[t1W]["_EF1 " + V1W.name]=Z1W[t1W].Volume * (Z1W[t1W].Close - Z1W[t1W - 1].Close);}Y1W.Studies.MA(V08,V1W.days,A08 + V1W.name,0,"Result",T1W,V1W);};Y1W.Studies.initElderImpulse=function(H1W,A1W,N1W,q1W,L1W,i1W){var n1W;n1W=Y1W.Studies.initializeFN(H1W,A1W,N1W,q1W,L1W,i1W);if(L1W.calculateOnly){return n1W;}H1W.chart.customChart={chartType:"colored_bar",colorFunction:function(j1W,U1W,z1W){var F08,h1W;F08="o";F08+="bje";F08+="c";F08+="t";h1W=U1W["Result " + n1W.name];if(h1W && typeof h1W == F08){h1W=h1W.color;}return h1W;}};H1W.setMainSeriesRenderer();l4kk.t6T();return n1W;};Y1W.Studies.displayElderForce=function(R1W,g1W,F9W){var W1W,D9W,K9W,X1W;Y1W.Studies.displaySeriesAsLine(R1W,g1W,F9W);W1W=Y1W.Studies.determineColor(g1W.outputs.Result);D9W=R1W.panels[g1W.panel];K9W=g1W.getYAxis(R1W);X1W={skipTransform:D9W.name != g1W.chart.name,panelName:g1W.panel,band:"Result " + g1W.name,threshold:0,color:W1W,yAxis:K9W};if(!g1W.highlight && R1W.highlightedDraggable){X1W.opacity=+"0.3";}l4kk.B3g(33);X1W.direction=l4kk.w3g("1",0);Y1W.preparePeakValleyFill(R1W,X1W);l4kk.t6T();X1W.direction=-1;Y1W.preparePeakValleyFill(R1W,X1W);};Y1W.Studies.displayElderRay=function(m9W,b9W,S9W){var y9W,Q9W,k9W,c9W,O9W,v9W,d08,s9W;y9W=m9W.panels[b9W.panel];Q9W=b9W.getContext(m9W);k9W=b9W.getYAxis(m9W);c9W=m9W.pixelFromPrice(0,y9W,k9W);function E9W(M9W,B9W,w9W,P9W){l4kk.t6T();Q9W.fillStyle=Y1W.Studies.determineColor(b9W.outputs[w9W]);Q9W.fillRect(Math.floor(m9W.pixelFromBar(M9W,y9W.chart) - O9W / ("2" | 2) + O9W * B9W),Math.floor(c9W),Math.floor(O9W * (1 - 2 * B9W)),Math.floor(m9W.pixelFromPrice(s9W[b9W.name + P9W],y9W,k9W) - c9W));}O9W=m9W.layout.candleWidth - 2;if(O9W < 2){O9W=1;}m9W.canvasColor("stx_histogram");v9W=Q9W.fillStyle;if(!b9W.underlay){Q9W.globalAlpha=1;}m9W.startClip(b9W.panel);if(!b9W.highlight && m9W.highlightedDraggable){Q9W.globalAlpha*=0.3;}for(var x9W=0;x9W < S9W.length;x9W++){d08="Elder Bull P";d08+="o";d08+="w";d08+="er";s9W=S9W[x9W];if(!s9W)continue;if(s9W.candleWidth){O9W=Math.floor(Math.max(1,s9W.candleWidth - 2));}if(s9W[b9W.name + "_hist1"] > 0){E9W(x9W,0,d08,"_hist1");}if(s9W[b9W.name + "_hist2"] < 0){E9W(x9W,0,"Elder Bear Power","_hist2");}if(s9W[b9W.name + "_hist1"] < 0){l4kk.V3g(7);E9W(x9W,l4kk.w3g("0.1",0),"Elder Bull Power","_hist1");}if(s9W[b9W.name + "_hist2"] > 0){E9W(x9W,0.1,"Elder Bear Power","_hist2");}}m9W.endClip();Q9W.fillStyle=v9W;};Y1W.Studies.studyLibrary=Y1W.extend(Y1W.Studies.studyLibrary,{"Elder Force":{name:n08,calculateFN:Y1W.Studies.calculateElderForce,seriesFN:Y1W.Studies.displayElderForce,inputs:{Period:+"13"}},"Elder Ray":{name:r08,seriesFN:Y1W.Studies.displayElderRay,calculateFN:Y1W.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:H08,calculateFN:Y1W.Studies.calculateElderImpulse,initializeFN:Y1W.Studies.initElderImpulse,seriesFN:null,customRemoval:!"",underlay:! !{},inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(Y9W,o9W){l4kk.t6T();Y9W.chart.customChart=null;Y9W.setMainSeriesRenderer();}}});}};g34=I9W=>{var Y7T=l4kk;var p9W,M08,p68,G68,B68,e7r,E7r,l7r;p9W=typeof _CIQ !== "undefined"?_CIQ:I9W.CIQ;if(!p9W.Studies){M08="fractalChaos feature requires fir";M08+="st activating stud";M08+="ies feature.";console.error(M08);}else {p9W.Studies.calculateFractalChaos=function(e9W,f9W){var r9W,J9W,u9W,l9W,y08,m7r,Z7r,G9W,d9W,C9W;r9W=f9W.chart.scrubbed;J9W=0;u9W=0;l9W=0;if(f9W.startFrom && f9W.type == "Fractal Chaos Bands"){y08="Fr";y08+="actal";y08+=" High ";J9W=r9W[f9W.startFrom - 1][y08 + f9W.name];u9W=r9W[f9W.startFrom - 1]["Fractal Low " + f9W.name];}for(var a9W=Math.max(4,f9W.startFrom);a9W < r9W.length;a9W++){m7r="F";m7r+="r";m7r+="act";m7r+="al Chaos Bands";Z7r="Fractal Chaos";Z7r+=" Bands";if(r9W[a9W].futureTick)break;G9W=!isNaN(r9W[a9W].High);d9W=!isNaN(r9W[a9W].Low);if(G9W || d9W){r9W[a9W]["Result " + f9W.name]=0;}l9W=0;for(C9W=0;C9W <= a9W;C9W++){if(!r9W[a9W - C9W])break;if(r9W[a9W - C9W].High > r9W[a9W - +"2"].High)break;if(C9W < 2 && r9W[a9W - C9W].High == r9W[a9W - +"2"].High)break;if(r9W[a9W - C9W].High < r9W[a9W - 2].High){l9W++;}if(l9W == 4){J9W=r9W[a9W - 2].High;break;}}if(f9W.type == Z7r){if(G9W){r9W[a9W]["Fractal High " + f9W.name]=J9W > 0?J9W:null;}}else if(l9W == 4){r9W[a9W]["Result " + f9W.name]=1;}l9W=0;for(C9W=0;C9W <= a9W;C9W++){if(!r9W[a9W - C9W])break;if(r9W[a9W - C9W].Low < r9W[a9W - 2].Low)break;if(C9W < 2 && r9W[a9W - C9W].Low == r9W[a9W - 2].Low)break;if(r9W[a9W - C9W].Low > r9W[a9W - +"2"].Low){l9W++;}if(l9W == 4){u9W=r9W[a9W - 2].Low;break;}}if(f9W.type == m7r){if(d9W){r9W[a9W]["Fractal Low " + f9W.name]=u9W > 0?u9W:null;}}else if(l9W == 4){r9W[a9W]["Result " + f9W.name]=-1;}}};Y7T.B3g(17);p68=-Y7T.w3g("1821103638",489368352);G68=-1549823427;B68=2;for(var j68=1;Y7T.i3x(j68.toString(),j68.toString().length,24568) !== p68;j68++){e7r="aut";e7r+="o";E7r="Fractal Chaos B";E7r+="an";E7r+="ds";p9W.Studies.studyLibrary=p9W.extend(p9W.Studies.studyLibrary,{"Fractal Chaos":{name:"auto",range:E7r,calculateFN:p9W.Studies.calculateFractalChaos,inputs:{},centerline:1},"Fractal Chaos Bands":{name:"auto",overlay:!{},calculateFN:p9W.Studies.calculateFractalChaos,seriesFN:p9W.Studies.displayChannel,inputs:{"Channel Fill":! !""},outputs:{"Fractal High":"auto","Fractal Low":e7r,"Fractal Channel":"Channel Fill"}}});B68+=+"2";}if(Y7T.c3x(B68.toString(),B68.toString().length,+"13898") !== G68){l7r="-1 t";l7r+="o 1";p9W.Studies.studyLibrary=p9W.extend(p9W.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:l7r,calculateFN:p9W.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !{},calculateFN:p9W.Studies.calculateFractalChaos,seriesFN:p9W.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}}};R34=Z9W=>{l4kk.t6T();var t7r,V9W,P7r,D7r,x7r,O7r,k7r;t7r="u";t7r+="ndef";t7r+="ined";V9W=typeof _CIQ !== t7r?_CIQ:Z9W.CIQ;if(!V9W.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {P7r="High Min";P7r+="u";P7r+="s ";P7r+="Low";D7r="a";D7r+="u";D7r+="t";D7r+="o";x7r="W";x7r+="illia";x7r+="ms %R";O7r="Highest";O7r+=" H";O7r+="i";O7r+="gh Value";k7r="au";k7r+="t";k7r+="o";V9W.Studies.calculateMaxHighMinLow=function(h9W,t9W){var Z1T=l4kk;var f7r,w7r,T9W,i9W,q9W,A9W,L9W,H9W,v7r,b7r,z7r,N9W,o7r;f7r="Low";f7r+=" ";f7r+="Peri";f7r+="od";w7r="Hig";w7r+="h Per";w7r+="io";w7r+="d";T9W=t9W.chart.scrubbed;i9W=t9W.days;q9W=t9W.days;if(t9W.inputs["High Period"]){i9W=t9W.inputs[w7r];}if(t9W.inputs[f7r]){q9W=t9W.inputs["Low Period"];}if(T9W.length < Math.max(i9W,q9W) + 1){t9W.error=! !{};return;}A9W=Number.MAX_VALUE;L9W=Number.MAX_VALUE * - +"1";Z1T.a6T();if(t9W.startFrom > 1){for(H9W=1;H9W < i9W;H9W++){if(t9W.startFrom - H9W >= 0){L9W=Math.max(L9W,T9W[t9W.startFrom - H9W].High);}}for(H9W="1" ^ 0;H9W < q9W;H9W++){if(t9W.startFrom - H9W >= 0){A9W=Math.min(A9W,T9W[t9W.startFrom - H9W].Low);}}}for(var n9W=Math.max(0,t9W.startFrom - 1);n9W < T9W.length;n9W++){v7r="VT HZ ";v7r+="Fi";v7r+="lter";b7r="G";b7r+="opala";z7r="H";z7r+="H";z7r+="V";L9W=Math.max(L9W,T9W[n9W].High);A9W=Math.min(A9W,T9W[n9W].Low);if(n9W >= i9W){if(T9W[n9W - i9W].High == L9W){L9W=T9W[n9W].High;for(H9W=1;H9W < i9W;H9W++){L9W=Math.max(L9W,T9W[n9W - H9W].High);}}}if(n9W >= q9W){if(T9W[n9W - q9W].Low == A9W){A9W=T9W[n9W].Low;for(H9W=1;H9W < q9W;H9W++){A9W=Math.min(A9W,T9W[n9W - H9W].Low);}}}N9W=0;if(t9W.type == z7r){N9W=L9W;}else if(t9W.type == "LLV"){N9W=A9W;}else if(t9W.type == "Donchian Width"){Z1T.B3g(7);N9W=Z1T.w3g(L9W,A9W);}else if(t9W.type == "GAPO" || t9W.type == b7r){N9W=Math.log(L9W - A9W) / Math.log(q9W);}else if(t9W.type == v7r){Z1T.V3g(7);N9W=Z1T.U3g(L9W,A9W);T9W[n9W]["_MHML " + t9W.name]=N9W;continue;}else if(t9W.type == "Williams %R"){N9W=-100 * (L9W - T9W[n9W].Close) / (L9W - A9W);T9W[n9W]["Result " + t9W.name]=N9W;continue;}if(n9W == T9W.length - 1)break;if(!T9W[n9W + 1].futureTick){if(t9W.type == "Donchian Channel"){Z1T.V3g(21);T9W[Z1T.U3g("1",0,n9W)]["Donchian High " + t9W.name]=L9W;Z1T.B3g(47);T9W[Z1T.U3g(1,"1",n9W)]["Donchian Low " + t9W.name]=A9W;Z1T.B3g(2);T9W[Z1T.w3g(n9W,1)]["Donchian Median " + t9W.name]=Z1T.U3g(2,A9W,L9W,Z1T.B3g(3));}else {o7r="R";o7r+="esult ";Z1T.V3g(65);T9W[Z1T.w3g("1",n9W)][o7r + t9W.name]=N9W;}}}};V9W.Studies.calculateVerticalHorizontalFilter=function(W9W,U9W){var j9W,g9W,R9W,X9W;j9W=U9W.chart.scrubbed;if(j9W.length < U9W.days + 1){U9W.error=!"";return;}U9W.mhml=new V9W.Studies.StudyDescriptor(U9W.name,U9W.type,U9W.panel);U9W.mhml.chart=U9W.chart;U9W.mhml.days=U9W.days;U9W.mhml.startFrom=U9W.startFrom;U9W.mhml.inputs={};U9W.mhml.outputs={_MHML:null};V9W.Studies.calculateMaxHighMinLow(W9W,U9W.mhml);g9W=0;l4kk.a6T();R9W=[];for(var z9W=Math.max(1,U9W.startFrom - U9W.days);z9W < j9W.length;z9W++){X9W=Math.abs(j9W[z9W].Close - j9W[z9W - ("1" & 2147483647)].Close);R9W.push(X9W);g9W+=X9W;if(R9W.length == U9W.days){j9W[z9W]["Result " + U9W.name]=j9W[z9W]["_MHML " + U9W.name] / g9W;g9W-=R9W.shift();}}};V9W.Studies.studyLibrary=V9W.extend(V9W.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! !{},calculateFN:V9W.Studies.calculateMaxHighMinLow,seriesFN:V9W.Studies.displayChannel,inputs:{"High Period":20,"Low Period":"20" ^ 0,"Channel Fill":!0},outputs:{"Donchian High":"auto","Donchian Median":k7r,"Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:V9W.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:V9W.Studies.calculateMaxHighMinLow},HHV:{name:O7r,calculateFN:V9W.Studies.calculateMaxHighMinLow,inputs:{Period:"14" & 2147483647}},LLV:{name:"Lowest Low Value",calculateFN:V9W.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:x7r,calculateFN:V9W.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:D7r}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:V9W.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:P7r,calculateFN:function(b5W,F5W){var K5W;K5W=F5W.chart.scrubbed;l4kk.a6T();for(var D5W=F5W.startFrom;D5W < K5W.length;D5W++){K5W[D5W]["Result " + F5W.name]=K5W[D5W].High - K5W[D5W].Low;}},inputs:{}}});}};X34=s5W=>{var T7r,m5W,G7r,p7r,W7r,h7r;T7r="un";T7r+="define";T7r+="d";m5W=typeof _CIQ !== T7r?_CIQ:s5W.CIQ;if(!m5W.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {G7r="#";G7r+="8080";G7r+="0";G7r+="0";p7r="#F";p7r+="F00";p7r+="00";W7r="#00FF";W7r+="00";h7r="#";h7r+="000";h7r+="0";h7r+="FF";m5W.Studies.calculateIchimoku=function(M5W,Q5W){var q7r,Y7r,O5W,y5W,x5W,E5W,g7r,S5W,a7r,v5W,B5W,I7r,U7r,S7r,K7r,k5W;q7r="Conversion Li";q7r+="ne Per";q7r+="iod";Y7r="Base Line";Y7r+=" Per";Y7r+="iod";O5W=Q5W.chart.scrubbed;y5W={Base:Number(Q5W.inputs[Y7r]),Conv:Number(Q5W.inputs[q7r]),LeadB:Number(Q5W.inputs["Leading Span B Period"]),Lag:Number(Q5W.inputs["Lagging Span Period"])};for(x5W=Q5W.startFrom;x5W < O5W.length;x5W++){g7r="Lagging S";g7r+="pan ";if(!O5W[x5W])continue;E5W=c5W(y5W.Conv,x5W);O5W[x5W]["Conversion Line " + Q5W.name]=(E5W[1] + E5W[0]) / 2;E5W=c5W(y5W.Base,x5W);O5W[x5W]["Base Line " + Q5W.name]=(E5W[+"1"] + E5W[0]) / 2;if(x5W < y5W.Lag)continue;O5W[x5W - y5W.Lag][g7r + Q5W.name]=O5W[x5W].Close;}S5W=[];function c5W(p5W,o5W){l4kk.a6T();var P5W,Y5W;P5W=Number.MAX_VALUE;Y5W=Number.MAX_VALUE * -1;for(var w5W=o5W - p5W + 1;w5W <= o5W;w5W++){if(w5W < 0)continue;P5W=Math.min(P5W,O5W[w5W].Low);Y5W=Math.max(Y5W,O5W[w5W].High);}return [P5W,Y5W];}for(x5W=Math.max(0,Q5W.startFrom - y5W.Base);x5W < O5W.length;x5W++){a7r="Bas";a7r+="e";a7r+=" Line ";E5W=c5W(y5W.LeadB,x5W);v5W=(O5W[x5W]["Conversion Line " + Q5W.name] + O5W[x5W][a7r + Q5W.name]) / 2;B5W=(E5W[1] + E5W[0]) / 2;if(O5W[x5W + y5W.Base]){I7r="Leadi";I7r+="ng Span B ";U7r="Leadin";U7r+="g Span A ";O5W[x5W + y5W.Base][U7r + Q5W.name]=v5W;O5W[x5W + y5W.Base][I7r + Q5W.name]=B5W;}else {S7r="Leading";S7r+=" Sp";S7r+="an B";S7r+=" ";K7r="L";K7r+="ead";K7r+="ing";K7r+=" Span A ";k5W={};k5W[K7r + Q5W.name]=v5W;k5W[S7r + Q5W.name]=B5W;S5W.push(k5W);}}Q5W.appendFutureTicks(M5W,S5W);};m5W.Studies.displayIchimoku=function(a5W,I5W,d5W){var u7r,J7r,r5W,C5W,J5W,u5W,G5W,f5W,l5W;u7r="Leading Span ";u7r+="B";u7r+=" ";J7r="Leadin";J7r+="g Span A ";r5W=J7r + I5W.name;C5W=u7r + I5W.name;l4kk.t6T();J5W=m5W.Studies.determineColor(I5W.outputs[I5W.outputMap[r5W]]);u5W=m5W.Studies.determineColor(I5W.outputs[I5W.outputMap[C5W]]);G5W=a5W.panels[I5W.panel];f5W=I5W.getYAxis(a5W);l5W={topBand:r5W,bottomBand:C5W,topColor:J5W,bottomColor:u5W,skipTransform:G5W.name != I5W.chart.name,topAxis:f5W,bottomAxis:f5W,opacity:0.3};if(!I5W.highlight && a5W.highlightedDraggable){l5W.opacity*=0.3;}m5W.fillIntersecting(a5W,I5W.panel,l5W);m5W.Studies.displaySeriesAsLine(a5W,I5W,d5W);};m5W.Studies.studyLibrary=m5W.extend(m5W.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! ![],calculateFN:m5W.Studies.calculateIchimoku,seriesFN:m5W.Studies.displayIchimoku,inputs:{"Conversion Line Period":"9" >> 1066388480,"Base Line Period":26,"Leading Span B Period":+"52","Lagging Span Period":26},outputs:{"Conversion Line":h7r,"Base Line":"#FF0000","Leading Span A":W7r,"Leading Span B":p7r,"Lagging Span":G7r}}});}};W34=V5W=>{var e5W,i78,N78,R78,B7r,j7r;e5W=typeof _CIQ !== "undefined"?_CIQ:V5W.CIQ;if(!e5W.Studies){i78=-1673309164;N78=72694562;R78=2;for(var X78=1;l4kk.c3x(X78.toString(),X78.toString().length,"1319" | 34) !== i78;X78++){B7r="intradayMomentum feature requ";B7r+="ires first activati";B7r+="ng studies feat";B7r+="ure.";console.error(B7r);R78+=2;}if(l4kk.c3x(R78.toString(),R78.toString().length,"35848" & 2147483647) !== N78){console.error("");}}else {j7r="I";j7r+="ntraday Mom";j7r+="entum I";j7r+="ndex";e5W.Studies.calculateIntradayMomentum=function(q5W,Z5W){var e1T=l4kk;var t5W,L5W,n5W,H5W,B78,L78,j78,L7r,A5W,N5W;t5W=Z5W.chart.scrubbed;L5W=Z5W.days;if(t5W.length < L5W + 1){Z5W.error=! ![];return;}n5W=0;H5W=+"0";if(Z5W.startFrom > 1){B78=414893635;L78=-375364406;j78=2;for(var c78=1;e1T.c3x(c78.toString(),c78.toString().length,48805) !== B78;c78++){n5W=t5W[Z5W.startFrom / 7]["" * Z5W.name];j78+=+"2";}if(e1T.c3x(j78.toString(),j78.toString().length,73203) !== L78){n5W=t5W[Z5W.startFrom - +"1"]["_totUp " + Z5W.name];}H5W=t5W[Z5W.startFrom - ("1" << 300323232)]["_totDn " + Z5W.name];}for(var T5W=Z5W.startFrom;T5W < t5W.length;T5W++){L7r="Resul";L7r+="t ";A5W=t5W[T5W].Close - t5W[T5W].Open;if(A5W > "0" >> 778927232){n5W+=A5W;}else {H5W-=A5W;}if(T5W >= L5W){N5W=t5W[T5W - L5W].Close - t5W[T5W - L5W].Open;if(N5W > 0){n5W-=N5W;}else {H5W+=N5W;}}e1T.B3g(66);t5W[T5W][L7r + Z5W.name]=e1T.U3g(n5W,H5W,100,n5W);t5W[T5W]["_totUp " + Z5W.name]=n5W;t5W[T5W]["_totDn " + Z5W.name]=H5W;}};e5W.Studies.studyLibrary=e5W.extend(e5W.Studies.studyLibrary,{"Intraday Mtm":{name:j7r,calculateFN:e5W.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:+"30",studyOverSoldColor:"auto"}}}});}};D2V=h5W=>{var i5W;i5W=typeof _CIQ !== "undefined"?_CIQ:h5W.CIQ;if(!i5W.Studies){console.error("keltner feature requires first activating studies feature.");}else {i5W.Studies.calculateKeltner=function(j5W,U5W){var i7r,c7r,Q7r;i7r="ATR";i7r+=" ";c7r="M";c7r+="A ";Q7r="C";Q7r+="l";Q7r+="os";Q7r+="e";i5W.Studies.MA(U5W.inputs["Moving Average Type"],U5W.days,Q7r,0,"MA",j5W,U5W);i5W.Studies.calculateStudyATR(j5W,U5W);i5W.Studies.calculateGenericEnvelope(j5W,U5W,U5W.inputs.Shift,c7r + U5W.name,i7r + U5W.name);};i5W.Studies.studyLibrary=i5W.extend(i5W.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! ![],seriesFN:i5W.Studies.displayChannel,calculateFN:i5W.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!""},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:+"0.1"}}}});}};K2V=g5W=>{l4kk.t6T();var z5W,X7r;z5W=typeof _CIQ !== "undefined"?_CIQ:g5W.CIQ;if(!z5W.Studies){console.error("klinger feature requires first activating studies feature.");}else {X7r="#";X7r+="FF000";X7r+="0";z5W.Studies.calculateKlinger=function(m3W,X5W){var C7r,R7r,N7r,W5W,s3W,D3W,x3W,K3W,y3W,F3W,Q3W,O3W,R5W,b3W;C7r="_E";C7r+="MA";C7r+="-";C7r+="L";R7r="e";R7r+="xpon";R7r+="ential";N7r="K";N7r+="l";N7r+="in";N7r+="ger ";W5W=X5W.chart.scrubbed;s3W=Number(X5W.inputs["Short Cycle"]);D3W=Number(X5W.inputs["Long Cycle"]);if(W5W.length < Math.max(s3W,D3W) + 1){X5W.error=! ![];return;}x3W=X5W.name + "_hist";K3W=N7r + X5W.name;y3W="KlingerSignal " + X5W.name;F3W="_SV " + X5W.name;Q3W="_EMA-S " + X5W.name;O3W="_EMA-L " + X5W.name;for(R5W=Math.max(1,X5W.startFrom);R5W < W5W.length;R5W++){b3W=W5W[R5W].Volume;if(W5W[R5W]["hlc/3"] < W5W[R5W - 1]["hlc/3"]){b3W*=-1;}if(b3W){W5W[R5W][F3W]=b3W;}}z5W.Studies.MA(R7r,s3W,F3W,0,"_EMA-S",m3W,X5W);z5W.Studies.MA("exponential",D3W,F3W,0,C7r,m3W,X5W);for(R5W=Math.max(D3W,X5W.startFrom);R5W < W5W.length;R5W++){if(W5W[R5W].futureTick || W5W[R5W][Q3W] === null || W5W[R5W][O3W] === null)break;W5W[R5W][K3W]=W5W[R5W][Q3W] - W5W[R5W][O3W];}z5W.Studies.MA("exponential",Number(X5W.inputs["Signal Periods"]),K3W,0,"KlingerSignal",m3W,X5W);for(R5W=X5W.startFrom;R5W < W5W.length;R5W++){W5W[R5W][x3W]=W5W[R5W][K3W] - W5W[R5W][y3W];}X5W.outputMap[x3W]="";};z5W.Studies.studyLibrary=z5W.extend(z5W.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:z5W.Studies.displayHistogramWithSeries,calculateFN:z5W.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":"55" * 1},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":X7r}}});}};F2V=k3W=>{var E3W,m6r,Z6r,y7r,M7r,F7r,A7r,V7r,s7r;E3W=typeof _CIQ !== "undefined"?_CIQ:k3W.CIQ;l4kk.a6T();if(!E3W.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {m6r="fi";m6r+="el";m6r+="d";Z6r="au";Z6r+="to";y7r="f";y7r+="i";y7r+="el";y7r+="d";M7r="Li";M7r+="near";M7r+=" ";M7r+="Reg Intercept";F7r="Time";F7r+="Series";A7r="Tim";A7r+="e ";A7r+="Ser";A7r+="ies";V7r="t";V7r+="ime se";V7r+="ries";s7r="time";s7r+=" series";E3W.Studies.prettify["time series"]="tsma";E3W.Studies.movingAverage.conversions.tsma=s7r;E3W.Studies.movingAverage.translations[V7r]=A7r;E3W.Studies.movingAverage.typeMap.tsma=F7r;E3W.Studies.movingAverage.typeMap["time series"]="TimeSeries";E3W.Studies.calculateMovingAverageTimeSeries=function(I3W,c3W){var w1T=l4kk;var B3W,v3W,M3W,w3W,P3W,Y3W,o3W,p3W;c3W.ma=new E3W.Studies.StudyDescriptor(c3W.name,"ma",c3W.panel);c3W.ma.chart=c3W.chart;c3W.ma.days=c3W.days;c3W.ma.startFrom=c3W.startFrom;c3W.ma.inputs=c3W.inputs;E3W.Studies.calculateLinearRegressionIndicator(I3W,c3W.ma);B3W=c3W.name;for(var a3W in c3W.outputs){w1T.B3g(46);B3W=w1T.w3g(3720 > (581.31,840)?" ":(! ![],0x1559),B3W,a3W);}v3W=parseInt(c3W.inputs.Offset,10);if(isNaN(v3W)){v3W=0;}M3W=c3W.chart.scrubbed;w3W=v3W;for(var S3W=c3W.startFrom - 1;S3W >= ("0" & 2147483647);S3W--){P3W=M3W[S3W][B3W];if(!P3W && P3W !== 0)continue;if(w3W > 0){w3W--;continue;}break;}Y3W=[];for(S3W++;S3W < M3W.length;S3W++){o3W=M3W[S3W];if(S3W + v3W >= 0){if(S3W + v3W < M3W.length){w1T.V3g(2);M3W[w1T.w3g(S3W,v3W)][B3W]=o3W["Forecast " + c3W.name];}else {p3W={};p3W[B3W]=o3W["Forecast " + c3W.name];Y3W.push(p3W);}}}c3W.appendFutureTicks(I3W,Y3W);};E3W.Studies.calculateLinearRegressionIndicator=function(A3W,r3W){var s1T=l4kk;var f3W,G3W,V3W,T3W,n3W,J3W,Z3W,d3W,T78,Y78,q78,d7r,t3W,H7r,r7r,l3W,n7r,u3W,e3W,H3W,L3W;f3W=r3W.chart.scrubbed;if(f3W.length < r3W.days + 1){r3W.error=! !1;return;}G3W=r3W.inputs.Field;if(!G3W || G3W == "field"){G3W="Close";}V3W=r3W.days * (r3W.days + ("1" - 0)) / 2;T3W=Math.pow(V3W,2);n3W=V3W * (2 * r3W.days + 1) / 3;J3W=0;Z3W=0;d3W=0;if(r3W.startFrom){T78=-1383467408;Y78=34259658;q78=2;for(var a78=1;s1T.i3x(a78.toString(),a78.toString().length,10507) !== T78;a78++){d7r="_s";d7r+="um";d7r+="s ";t3W=f3W[r3W.startFrom - ("1" & 2147483647)][d7r + r3W.name];q78+=2;}if(s1T.c3x(q78.toString(),q78.toString().length,57854) !== Y78){t3W=f3W[r3W.startFrom * 2]["" / r3W.name];}if(t3W){Z3W=t3W[0];J3W=t3W[1];d3W=t3W[2];}}for(var C3W=r3W.startFrom;C3W < f3W.length;C3W++){H7r="_s";H7r+="u";H7r+="ms";H7r+=" ";r7r="Foreca";r7r+="st ";l3W=f3W[C3W][G3W];if(l3W && typeof l3W == "object"){l3W=l3W[r3W.subField];}if(!l3W && l3W !== ("0" | 0))continue;Z3W+=r3W.days * l3W - J3W;J3W+=l3W;d3W+=Math.pow(l3W,2);if(C3W < r3W.days - 1)continue;else if(C3W > r3W.days - +"1"){n7r="objec";n7r+="t";u3W=f3W[C3W - r3W.days][G3W];if(u3W && typeof u3W == n7r){u3W=u3W[r3W.subField];}if(!u3W && u3W !== 0)continue;J3W-=u3W;d3W-=Math.pow(u3W,2);}e3W=(r3W.days * Z3W - V3W * J3W) / (r3W.days * n3W - T3W);f3W[C3W]["Slope " + r3W.name]=e3W;H3W=(J3W - e3W * V3W) / r3W.days;f3W[C3W]["Intercept " + r3W.name]=H3W;f3W[C3W][r7r + r3W.name]=H3W + e3W * r3W.days;L3W=(r3W.days * n3W - T3W) / (r3W.days * d3W - Math.pow(J3W,2));s1T.V3g(67);f3W[C3W]["RSquared " + r3W.name]=s1T.w3g(L3W,e3W,e3W);f3W[C3W][H7r + r3W.name]=[Z3W,J3W,d3W];}};E3W.Studies.studyLibrary=E3W.extend(E3W.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! !{},calculateFN:E3W.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:M7r,overlay:! !"1",calculateFN:E3W.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:y7r},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:E3W.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:Z6r}},"LR Slope":{name:"Linear Reg Slope",calculateFN:E3W.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:! !{},calculateFN:E3W.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:m6r},outputs:{Forecast:"auto"}}});}};b2V=q3W=>{var E6r,N3W,x6r;E6r="unde";E6r+="f";E6r+="ine";E6r+="d";N3W=typeof _CIQ !== E6r?_CIQ:q3W.CIQ;if(!N3W.Studies){console.error("macd feature requires first activating studies feature.");}else {x6r="M";x6r+="A";x6r+="C";x6r+="D";N3W.Studies.calculateMACD=function(D2Z,i3W){var H1T=l4kk;var v6r,b6r,t6r,l6r,e6r,z3W,g3W,h3W,R3W,X3W,j3W,U3W,K2Z,z6r,f6r,w6r,W3W,F2Z,O6r,k6r,o6r,b2Z;v6r="_";v6r+="h";v6r+="is";v6r+="t";b6r="e";b6r+="xpone";b6r+="n";b6r+="tial";t6r="M";t6r+="oving Averag";t6r+="e Typ";t6r+="e";l6r="Si";l6r+="gnal ";l6r+="Period";e6r="Fa";e6r+="st ";e6r+="MA";e6r+=" Period";z3W=i3W.chart.scrubbed;g3W=i3W.inputs;h3W=i3W.name;if(!i3W.macd1Days){i3W.macd1Days=parseFloat(g3W[e6r]);}if(!i3W.macd2Days){i3W.macd2Days=parseFloat(g3W["Slow MA Period"]);}if(!i3W.signalDays){i3W.signalDays=parseFloat(g3W[l6r]);}if(!i3W.days){i3W.days=Math.max(i3W.macd1Days,i3W.macd2Days,i3W.signalDays);}if(z3W.length < i3W.days + 1){i3W.error=! !{};return;}R3W=i3W.inputs.Field;if(!R3W || R3W == "field"){R3W="Close";}X3W=g3W[t6r];if(!X3W){X3W="exponential";}N3W.Studies.MA(X3W,i3W.macd1Days,R3W,0,"_MACD1",D2Z,i3W);N3W.Studies.MA(X3W,i3W.macd2Days,R3W,0,"_MACD2",D2Z,i3W);K2Z=Math.max(i3W.startFrom,i3W.days - 1);for(j3W=K2Z;j3W < z3W.length;j3W++){z6r="_";z6r+="MAC";z6r+="D";z6r+="2 ";f6r="_";f6r+="M";f6r+="ACD1 ";w6r="_";w6r+="MAC";w6r+="D1 ";U3W=z3W[j3W];if((U3W[w6r + h3W] || U3W[f6r + h3W] === 0) && (U3W[z6r + h3W] || U3W["_MACD2 " + h3W] === 0)){H1T.V3g(2);U3W[H1T.w3g("MACD ",h3W)]=U3W["_MACD1 " + h3W] - U3W["_MACD2 " + h3W];}}W3W=g3W["Signal MA Type"];if(!W3W){W3W=b6r;}N3W.Studies.MA(W3W,i3W.signalDays,"MACD " + h3W,0,"Signal",D2Z,i3W);H1T.V3g(2);F2Z=H1T.U3g(h3W,v6r);for(j3W=K2Z;j3W < z3W.length;j3W++){O6r="Si";O6r+="gnal ";k6r="M";k6r+="A";k6r+="CD ";o6r="Sign";o6r+="al";o6r+=" ";U3W=z3W[j3W];H1T.V3g(2);b2Z=U3W[H1T.w3g(o6r,h3W)];if(!b2Z && b2Z !== 0)continue;U3W[F2Z]=U3W[k6r + h3W] - U3W[O6r + h3W];}H1T.a6T();i3W.outputMap[F2Z]="";};N3W.Studies.studyLibrary=N3W.extend(N3W.Studies.studyLibrary,{macd:{name:x6r,calculateFN:N3W.Studies.calculateMACD,seriesFN:N3W.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};m2V=s2Z=>{var m2Z,D6r;m2Z=typeof _CIQ !== "undefined"?_CIQ:s2Z.CIQ;l4kk.a6T();if(!m2Z.Studies){D6r="massIndex";D6r+=" ";D6r+="feature requires f";D6r+="irst activating studies feature.";console.error(D6r);}else {m2Z.Studies.calculateMassIndex=function(k2Z,x2Z){var g6r,q6r,Y6r,T6r,Q2Z,P6r,E2Z,a6r;g6r="_E";g6r+="M";g6r+="A";g6r+=" ";q6r="_";q6r+="E";l4kk.a6T();q6r+="M";q6r+="A";Y6r="_";Y6r+="H";Y6r+="ig";Y6r+="h-Low ";T6r="e";T6r+="xponenti";T6r+="al";Q2Z=x2Z.chart.scrubbed;if(Q2Z.length < Math.max(9,x2Z.days + 1)){x2Z.error=! !"1";return;}for(var y2Z=x2Z.startFrom;y2Z < Q2Z.length;y2Z++){P6r="_";P6r+="Hig";P6r+="h-L";P6r+="ow ";Q2Z[y2Z][P6r + x2Z.name]=Q2Z[y2Z].High - Q2Z[y2Z].Low;}m2Z.Studies.MA(T6r,9,Y6r + x2Z.name,0,q6r,k2Z,x2Z);m2Z.Studies.MA("exponential",9,g6r + x2Z.name,"0" - 0,"_EMA2",k2Z,x2Z);E2Z=0;if(Q2Z[x2Z.startFrom - 1] && Q2Z[x2Z.startFrom - 1]["_total " + x2Z.name]){E2Z=Q2Z[x2Z.startFrom - 1]["_total " + x2Z.name];}for(var O2Z=Math.max(+"17",x2Z.startFrom);O2Z < Q2Z.length;O2Z++){E2Z+=Q2Z[O2Z]["_EMA " + x2Z.name] / Q2Z[O2Z]["_EMA2 " + x2Z.name];if(O2Z >= 17 + x2Z.days - 1){a6r="_E";a6r+="M";a6r+="A2 ";Q2Z[O2Z]["Result " + x2Z.name]=E2Z;E2Z-=Q2Z[O2Z - x2Z.days + 1]["_EMA " + x2Z.name] / Q2Z[O2Z - x2Z.days + 1][a6r + x2Z.name];}Q2Z[O2Z]["_total " + x2Z.name]=E2Z;}};m2Z.Studies.displayMassIndex=function(S2Z,c2Z,P2Z){l4kk.a6T();var v2Z,Y2Z,B2Z,M2Z,w2Z;m2Z.Studies.displaySeriesAsLine(S2Z,c2Z,P2Z);v2Z=c2Z.inputs["Bulge Threshold"];Y2Z=S2Z.panels[c2Z.panel];B2Z=c2Z.getYAxis(S2Z);M2Z=m2Z.Studies.determineColor(c2Z.outputs.Result);w2Z={skipTransform:S2Z.panels[c2Z.panel].name != c2Z.chart.name,panelName:c2Z.panel,band:"Result " + c2Z.name,threshold:v2Z,direction:1,color:M2Z,yAxis:B2Z,opacity:0.3};if(!c2Z.highlight && S2Z.highlightedDraggable){w2Z.opacity*=+"0.3";}m2Z.preparePeakValleyFill(S2Z,w2Z);m2Z.Studies.drawHorizontal(S2Z,c2Z,null,v2Z,B2Z,M2Z);};m2Z.Studies.studyLibrary=m2Z.extend(m2Z.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:m2Z.Studies.displayMassIndex,calculateFN:m2Z.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};s2V=p2Z=>{var o2Z,I6r;l4kk.t6T();o2Z=typeof _CIQ !== "undefined"?_CIQ:p2Z.CIQ;if(!o2Z.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {I6r="0 ";I6r+="to 100";o2Z.Studies.calculateMoneyFlowIndex=function(t2Z,r2Z){var U1T=l4kk;var a2Z,f2Z,C2Z,J2Z,e2Z,u2Z,V2Z,U6r,G2Z,Z2Z,l2Z,d2Z;a2Z=r2Z.chart.scrubbed;if(a2Z.length < r2Z.days + 1){r2Z.error=! !{};return;}f2Z=0;C2Z=+"0";J2Z=a2Z[r2Z.startFrom - 1];e2Z="_rawMF " + r2Z.name;u2Z="_cumMF " + r2Z.name;V2Z="Result " + r2Z.name;if(J2Z && J2Z[u2Z]){f2Z=J2Z[u2Z][0];C2Z=J2Z[u2Z][1];}for(var I2Z=r2Z.startFrom;I2Z < a2Z.length;I2Z++){U6r="hl";U6r+="c/3";G2Z=a2Z[I2Z][U6r];if(I2Z > 0 && !a2Z[I2Z].futureTick){U1T.B3g(12);Z2Z=a2Z[U1T.U3g("1",I2Z)]["hlc/3"];l2Z=G2Z * a2Z[I2Z].Volume;if(G2Z > Z2Z){f2Z+=l2Z;}else if(G2Z < Z2Z){l2Z*=-1;C2Z-=l2Z;}else {l2Z=0;}if(I2Z > r2Z.days){d2Z=a2Z[I2Z - r2Z.days][e2Z];if(d2Z > +"0"){f2Z-=d2Z;}else {C2Z+=d2Z;}if(C2Z === +"0"){U1T.B3g(1);a2Z[I2Z][V2Z]=U1T.w3g("100",1);}else if(a2Z[I2Z].Volume){U1T.V3g(68);a2Z[I2Z][V2Z]=U1T.w3g(C2Z,"100",1,100,1,f2Z);}}a2Z[I2Z][e2Z]=l2Z;a2Z[I2Z][u2Z]=[f2Z,C2Z];}}};o2Z.Studies.studyLibrary=o2Z.extend(o2Z.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:I6r,calculateFN:o2Z.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};x2V=n2Z=>{var V3x,A3x,F3x,T2Z,K6r,e9r,m9r,Z9r,y6r,M6r,J6r,S6r;l4kk.t6T();V3x=-97065761;A3x=-398011588;F3x=2;for(var n3x=1;l4kk.c3x(n3x.toString(),n3x.toString().length,80762) !== V3x;n3x++){T2Z=!_CIQ === ""?_CIQ:n2Z.CIQ;F3x+=2;}if(l4kk.i3x(F3x.toString(),F3x.toString().length,48149) !== A3x){T2Z=typeof _CIQ !== "undefined"?_CIQ:n2Z.CIQ;}if(!T2Z.Studies){K6r="movingAverages";K6r+=" feature requires first ";K6r+="activa";K6r+="ting studies feature.";console.error(K6r);}else {e9r="a";e9r+="u";e9r+="t";e9r+="o";m9r="Po";m9r+="ints";Z9r="m";Z9r+="a";y6r="a";y6r+="u";y6r+="to";M6r="f";M6r+="iel";M6r+="d";J6r="H";J6r+="u";J6r+="l";J6r+="l";S6r="2-ex";S6r+="ponent";S6r+="ial";T2Z.Studies.prettify=T2Z.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},T2Z.Studies.prettify);T2Z.extend(T2Z.Studies.movingAverage,{conversions:{hma:"hull",dema:S6r,tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:J6r,hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});T2Z.Studies.calculateMovingAverageHull=function(j2Z,H2Z){var B6r,G6r,h6r,u6r,A2Z,N2Z,L2Z,q2Z,W6r,p6r,i2Z,h2Z,z2Z,U2Z;B6r="_";B6r+="H";B6r+="MA";G6r="w";G6r+="m";G6r+="a";h6r="w";h6r+="m";h6r+="a";u6r="Clos";u6r+="e";A2Z=H2Z.chart.scrubbed;N2Z=H2Z.inputs.Field;if(!N2Z || N2Z == "field"){N2Z=u6r;}T2Z.Studies.MA("wma",H2Z.days,N2Z,0,"_WMA1",j2Z,H2Z);T2Z.Studies.MA(h6r,Math.ceil(H2Z.days / 2),N2Z,0,"_WMA2",j2Z,H2Z);for(L2Z=H2Z.startFrom - 1;L2Z >= 0;L2Z--){W6r="o";W6r+="b";W6r+="je";W6r+="ct";q2Z=A2Z[L2Z][N2Z];if(q2Z && typeof q2Z == W6r){q2Z=q2Z[H2Z.subField];}if(q2Z || q2Z === 0)break;}for(L2Z++;L2Z < A2Z.length;L2Z++){p6r="_W";p6r+="MA2";p6r+=" ";i2Z=A2Z[L2Z];i2Z["_MMA " + H2Z.name]=2 * i2Z[p6r + H2Z.name] - i2Z["_WMA1 " + H2Z.name];}h2Z=parseInt(H2Z.inputs.Offset,10);if(isNaN(h2Z)){h2Z=0;}z2Z=Math.floor(Math.sqrt(H2Z.days));T2Z.Studies.MA(G6r,z2Z,"_MMA " + H2Z.name,h2Z,B6r,j2Z,H2Z);U2Z=H2Z.name;for(var g2Z in H2Z.outputs){l4kk.V3g(46);U2Z=l4kk.w3g(" ",U2Z,g2Z);}for(L2Z=Math.max(H2Z.days + z2Z - 1,H2Z.startFrom);L2Z < A2Z.length;L2Z++){A2Z[L2Z][U2Z]=A2Z[L2Z]["_HMA " + H2Z.name];}};T2Z.Studies.calculateMovingAverageDoubleExponential=function(m4Z,R2Z){var x0T=l4kk;var L6r,K4Z,F4Z,W2Z,X2Z,D4Z,s4Z,b4Z,x4Z,Q4Z,O4Z,y4Z;L6r="_";L6r+="EMA";L6r+="1";L6r+=" ";K4Z=R2Z.chart.scrubbed;x0T.t6T();F4Z=R2Z.inputs.Field;if(!F4Z || F4Z == "field"){F4Z="Close";}T2Z.Studies.MA("ema",R2Z.days,F4Z,+"0","_EMA1",m4Z,R2Z);T2Z.Studies.MA("ema",R2Z.days,L6r + R2Z.name,0,"_EMA2",m4Z,R2Z);W2Z=parseInt(R2Z.inputs.Offset,10);if(isNaN(W2Z)){W2Z=0;}s4Z=W2Z;for(X2Z=R2Z.startFrom - 1;X2Z >= 0;X2Z--){D4Z=K4Z[X2Z][F4Z];if(D4Z && typeof D4Z == "object"){D4Z=D4Z[R2Z.subField];}if(!D4Z && D4Z !== 0)continue;if(s4Z > 0){s4Z--;continue;}break;}b4Z=R2Z.name;for(var E4Z in R2Z.outputs){x0T.V3g(46);b4Z=x0T.w3g((2370,6300) == (702,5240)?(4.35e+3,0x1cf4):" ",b4Z,E4Z);}x4Z=[];for(X2Z++;X2Z < K4Z.length;X2Z++){if(X2Z < ("2" | 0) * (R2Z.days - "1" * 1))continue;Q4Z=K4Z[X2Z];O4Z=2 * Q4Z["_EMA1 " + R2Z.name] - Q4Z["_EMA2 " + R2Z.name];if(X2Z + W2Z >= +"0"){if(X2Z + W2Z < K4Z.length){x0T.B3g(2);K4Z[x0T.w3g(X2Z,W2Z)][b4Z]=O4Z;}else {y4Z={};y4Z[b4Z]=O4Z;x4Z.push(y4Z);}}}R2Z.appendFutureTicks(m4Z,x4Z);};T2Z.Studies.calculateMovingAverageTripleExponential=function(P4Z,k4Z){var O0T=l4kk;var Q6r,j6r,B4Z,M4Z,S4Z,c4Z,v4Z,o4Z,c6r,w4Z,p4Z,Y4Z,I4Z,a4Z;Q6r="_E";Q6r+="MA1";j6r="e";j6r+="ma";B4Z=k4Z.chart.scrubbed;M4Z=k4Z.inputs.Field;if(!M4Z || M4Z == "field"){M4Z="Close";}T2Z.Studies.MA(j6r,k4Z.days,M4Z,0,Q6r,P4Z,k4Z);T2Z.Studies.MA("ema",k4Z.days,"_EMA1 " + k4Z.name,0,"_EMA2",P4Z,k4Z);T2Z.Studies.MA("ema",k4Z.days,"_EMA2 " + k4Z.name,0,"_EMA3",P4Z,k4Z);S4Z=parseInt(k4Z.inputs.Offset,10);if(isNaN(S4Z)){S4Z=0;}o4Z=S4Z;O0T.a6T();for(c4Z=k4Z.startFrom - 1;c4Z >= 0;c4Z--){c6r="ob";c6r+="je";c6r+="ct";v4Z=B4Z[c4Z][M4Z];if(v4Z && typeof v4Z == c6r){v4Z=v4Z[k4Z.subField];}if(!v4Z && v4Z !== ("0" ^ 0))continue;if(o4Z > +"0"){o4Z--;continue;}break;}w4Z=k4Z.name;for(var r4Z in k4Z.outputs){O0T.V3g(46);w4Z=O0T.U3g(" ",w4Z,r4Z);}p4Z=[];for(c4Z++;c4Z < B4Z.length;c4Z++){if(c4Z < 3 * (k4Z.days - +"1"))continue;Y4Z=B4Z[c4Z];I4Z=3 * Y4Z["_EMA1 " + k4Z.name] - 3 * Y4Z["_EMA2 " + k4Z.name] + Y4Z["_EMA3 " + k4Z.name];if(c4Z + S4Z >= 0){if(c4Z + S4Z < B4Z.length){O0T.B3g(2);B4Z[O0T.w3g(c4Z,S4Z)][w4Z]=I4Z;}else {a4Z={};a4Z[w4Z]=I4Z;p4Z.push(a4Z);}}}k4Z.appendFutureTicks(P4Z,p4Z);};T2Z.Studies.calculateMAEnvelope=function(u4Z,C4Z){var A0T=l4kk;var X6r,N6r,i6r,f4Z,l4Z,J4Z,R6r,D68,P68,T68,C6r;X6r="p";X6r+="oints";N6r="Shi";N6r+="ft Type";i6r="M";i6r+="A";f4Z=C4Z.inputs.Field;if(!f4Z || f4Z == "field"){f4Z="Close";}T2Z.Studies.MA(C4Z.inputs["Moving Average Type"],C4Z.days,f4Z,+"0",i6r,u4Z,C4Z);l4Z=C4Z.inputs[N6r];J4Z=C4Z.inputs.Shift;if(!l4Z){R6r="p";R6r+="e";R6r+="rce";R6r+="nt";l4Z=R6r;J4Z=C4Z.inputs["Shift Percentage"];}if(l4Z == "percent"){D68=837927722;P68=-1721773359;T68=2;for(var q68=1;A0T.i3x(q68.toString(),q68.toString().length,"9281" - 0) !== D68;q68++){A0T.B3g(12);T2Z.Studies.calculateGenericEnvelope(u4Z,C4Z,A0T.U3g("360",J4Z),"" - C4Z.name);T68+=2;}if(A0T.i3x(T68.toString(),T68.toString().length,2425) !== P68){C6r="MA";C6r+=" ";A0T.B3g(13);T2Z.Studies.calculateGenericEnvelope(u4Z,C4Z,A0T.w3g(100,J4Z),C6r + C4Z.name);}}else if(l4Z == X6r){T2Z.Studies.calculateGenericEnvelope(u4Z,C4Z,null,"MA " + C4Z.name,null,Number(J4Z));}};T2Z.Studies.calculateMADev=function(A4Z,G4Z){var a0T=l4kk;var H6r,n6r,d6r,F6r,A6r,V6r,s6r,t68,w68,f68,t4Z,e4Z,T4Z,n4Z,L4Z,r6r,V4Z,d4Z,Z4Z;H6r="_h";H6r+="i";H6r+="s";H6r+="t";n6r="_hi";n6r+="st";d6r="_";d6r+="M";d6r+="A";F6r="P";F6r+="oi";F6r+="nts";A6r="Points Or P";A6r+="e";A6r+="rcent";V6r="Cl";V6r+="o";V6r+="s";V6r+="e";s6r="fi";s6r+="e";s6r+="l";s6r+="d";t68=+"1287114609";w68=-115224919;f68=2;for(var b68="1" * 1;a0T.c3x(b68.toString(),b68.toString().length,67334) !== t68;b68++){t4Z=G4Z.chart.scrubbed;f68+=2;}if(a0T.c3x(f68.toString(),f68.toString().length,78944) !== w68){t4Z=G4Z.chart.scrubbed;}if(t4Z.length < G4Z.days + 1){G4Z.error=! ![];return;}e4Z=G4Z.inputs.Field;if(!e4Z || e4Z == s6r){e4Z=V6r;}a0T.t6T();T4Z=G4Z.inputs[A6r];if(!T4Z){T4Z=F6r;}n4Z=G4Z.inputs["Moving Average Type"];if(!n4Z){n4Z="exponential";}T2Z.Studies.MA(n4Z,G4Z.days,e4Z,0,d6r,A4Z,G4Z);L4Z=G4Z.name + n6r;for(var H4Z=Math.max(G4Z.startFrom,G4Z.days - 1);H4Z < t4Z.length;H4Z++){r6r="o";r6r+="bj";r6r+="e";r6r+="ct";V4Z=t4Z[H4Z];d4Z=V4Z[e4Z];if(d4Z && typeof d4Z == r6r){d4Z=d4Z[G4Z.subField];}Z4Z=V4Z["_MA " + G4Z.name];if(Z4Z || Z4Z === 0){if(T4Z == "Points"){a0T.B3g(7);V4Z[L4Z]=a0T.U3g(d4Z,Z4Z);}else {a0T.B3g(69);V4Z[L4Z]=a0T.w3g("100",1,Z4Z,d4Z);}}}G4Z.outputMap={};G4Z.outputMap[G4Z.name + H6r]="";};T2Z.Studies.studyLibrary=T2Z.extend(T2Z.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:T2Z.Studies.displayChannel,calculateFN:T2Z.Studies.calculateMAEnvelope,inputs:{Period:50,Field:M6r,"Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":! ![]},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":y6r},attributes:{Shift:{min:0.1,step:+"0.1"}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:T2Z.Studies.calculateMADev,seriesFN:T2Z.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":Z9r,"Points Or Percent":[m9r,"Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:T2Z.Studies.displayChannel,calculateFN:function(q4Z,N4Z){var E9r;E9r="M";E9r+="o";E9r+="ving Avera";E9r+="ge Type";l4kk.t6T();N4Z.inputs[E9r]="triangular";T2Z.Studies.calculateMAEnvelope(q4Z,N4Z);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!""},outputs:{"High Low Top":e9r,"High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:+"0.1"}}}});}};Q2V=h4Z=>{l4kk.t6T();var i4Z;i4Z=typeof _CIQ !== "undefined"?_CIQ:h4Z.CIQ;if(!i4Z.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {i4Z.Studies.calculatePSAR=function(Q7Z,R4Z){var r0T=l4kk;var l9r,U4Z,X4Z,z4Z,W4Z,g4Z,F7Z,b7Z,t9r,D7Z,K7Z,m7Z,s7Z;l9r="Mini";l9r+="m";function x7Z(){X4Z=0;z4Z=null;W4Z=!W4Z;}l9r+="u";l9r+="m AF";U4Z=R4Z.chart.scrubbed;X4Z=0;z4Z=null;W4Z=!{};g4Z=0;F7Z=parseFloat(R4Z.inputs[l9r]);b7Z=parseFloat(R4Z.inputs["Maximum AF"]);if(R4Z.startFrom > 0){t9r="_stat";t9r+="e ";g4Z=U4Z[R4Z.startFrom - 1]["Result " + R4Z.name];D7Z=U4Z[R4Z.startFrom - 1][t9r + R4Z.name];if(D7Z && D7Z.length == +"3"){X4Z=D7Z[0];z4Z=D7Z[1];W4Z=D7Z[2];}}for(var j4Z=R4Z.startFrom - 1;j4Z < U4Z.length - 1;j4Z++){if(j4Z < "0" >> 390189664)continue;if(U4Z[j4Z].futureTick)break;K7Z=g4Z;if(W4Z){if(!z4Z || z4Z < U4Z[j4Z].High){z4Z=U4Z[j4Z].High;r0T.V3g(2);X4Z=Math.min(r0T.U3g(X4Z,F7Z),b7Z);}r0T.B3g(70);g4Z=r0T.U3g(K7Z,K7Z,z4Z,X4Z);m7Z=Math.min(U4Z[Math.max(+"1",j4Z) - 1].Low,U4Z[j4Z].Low);if(g4Z > U4Z[j4Z + 1].Low){g4Z=z4Z;x7Z();}else if(g4Z > m7Z){g4Z=m7Z;}}else {if(!z4Z || z4Z > U4Z[j4Z].Low){z4Z=U4Z[j4Z].Low;r0T.V3g(2);X4Z=Math.min(r0T.U3g(X4Z,F7Z),b7Z);}r0T.V3g(70);g4Z=r0T.w3g(K7Z,K7Z,z4Z,X4Z);s7Z=Math.max(U4Z[Math.max(1,j4Z) - 1].High,U4Z[j4Z].High);if(g4Z < U4Z[j4Z + 1].High){g4Z=z4Z;x7Z();}else if(g4Z < s7Z){g4Z=s7Z;}}r0T.B3g(2);U4Z[r0T.w3g(j4Z,1)]["_state " + R4Z.name]=[X4Z,z4Z,W4Z];if(!isNaN(U4Z[j4Z].High) || !isNaN(U4Z[j4Z].Low)){r0T.B3g(2);U4Z[r0T.U3g(j4Z,1)]["Result " + R4Z.name]=g4Z;}}};i4Z.Studies.studyLibrary=i4Z.extend(i4Z.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! ![],calculateFN:i4Z.Studies.calculatePSAR,seriesFN:i4Z.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":"0.2" - 0}}});}};O2V=y7Z=>{var w9r,O7Z,a9r,g9r;w9r="unde";w9r+="fined";l4kk.t6T();O7Z=typeof _CIQ !== w9r?_CIQ:y7Z.CIQ;if(!O7Z.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {a9r="#e3";a9r+="6";a9r+="46";a9r+="0";g9r="#";g9r+="69";g9r+="91";g9r+="58";O7Z.Studies.calculatePivotPoints=function(v7Z,S7Z){var b9r,f9r,k7Z,B7Z,z9r,P7Z,M7Z,E7Z,D9r,x9r,O9r,k9r,o9r,v9r,Y7Z,o7Z,P9r,T9r;b9r="_poin";b9r+="t";function w7Z(){E7Z.pivotPoint=(E7Z.high + E7Z.low + k7Z[c7Z - 1].Close) / 3;E7Z.prevHigh=E7Z.high;E7Z.prevLow=E7Z.low;E7Z.hlSpread=E7Z.high - E7Z.low;E7Z.high=E7Z.low=0;}b9r+="er";b9r+="s ";f9r="d";f9r+="ay";k7Z=S7Z.chart.scrubbed;B7Z="day";if(v7Z.layout.interval == f9r){B7Z="month";}else if(O7Z.ChartEngine.isDailyInterval(v7Z.layout.interval)){B7Z="year";}else if(v7Z.layout.interval == "second" || v7Z.layout.interval == "millisecond" || v7Z.layout.timeUnit == "second" || v7Z.layout.timeUnit == "millisecond"){B7Z="15min";}else {z9r="m";z9r+="inute";P7Z=v7Z.layout.periodicity;if(v7Z.layout.interval != z9r){P7Z*=v7Z.layout.interval;}if(P7Z >= ("30" ^ 0)){B7Z="week";}}M7Z=null;E7Z={pivotPoint:NaN,high:0,low:"0" >> 666852000,prevHigh:0,prevLow:+"0",hlSpread:0};if(S7Z.startFrom > 1 && k7Z[S7Z.startFrom - 1][b9r + S7Z.name]){E7Z=O7Z.clone(k7Z[S7Z.startFrom - 1]["_pointers " + S7Z.name]);}for(var c7Z=Math.max(1,S7Z.startFrom);c7Z < k7Z.length;c7Z++){D9r="fibo";D9r+="nacci";x9r="P";x9r+="iv";x9r+="o";x9r+="t ";O9r="15mi";O9r+="n";k9r="w";k9r+="e";k9r+="e";k9r+="k";o9r="mo";o9r+="nth";v9r="ye";v9r+="ar";if(!k7Z[c7Z - 1])continue;E7Z.high=Math.max(E7Z.high,k7Z[c7Z - ("1" << 883179136)].High);E7Z.low=Math.min(E7Z.low > 0?E7Z.low:k7Z[c7Z - 1].Low,k7Z[c7Z - 1].Low);if(S7Z.inputs.Continuous){w7Z();}else if(B7Z == v9r && k7Z[c7Z].DT.getYear() != k7Z[c7Z - 1].DT.getYear()){w7Z();}else if(B7Z == o9r && k7Z[c7Z].DT.getMonth() != k7Z[c7Z - ("1" ^ 0)].DT.getMonth()){w7Z();}else if(B7Z == k9r && k7Z[c7Z].DT.getDay() < k7Z[c7Z - 1].DT.getDay()){w7Z();}else if(B7Z == "day"){if(M7Z === null){M7Z=O7Z.Studies.getMarketOffset({stx:v7Z,localQuoteDate:k7Z[c7Z].DT,shiftToDateBoundary:! ![]});}Y7Z=new Date(new Date(+k7Z[c7Z].DT).setMilliseconds(k7Z[c7Z].DT.getMilliseconds() + M7Z));o7Z=new Date(new Date(+k7Z[c7Z - 1].DT).setMilliseconds(k7Z[c7Z - 1].DT.getMilliseconds() + M7Z));if(o7Z.getDate() !== Y7Z.getDate() && o7Z.getDay() !== ("0" ^ 0) && v7Z.chart.market.isMarketDate(Y7Z)){M7Z=null;w7Z();}}else if(B7Z == O9r && (k7Z[c7Z].DT.getHours() != k7Z[c7Z - ("1" >> 816879104)].DT.getHours() || Math.floor(k7Z[c7Z].DT.getMinutes() / 15) != Math.floor(k7Z[c7Z - 1].DT.getMinutes() / 15))){w7Z();}k7Z[c7Z][x9r + S7Z.name]=E7Z.pivotPoint;if(S7Z.inputs.Type.toLowerCase() == D9r){P9r="S";P9r+="uppo";P9r+="rt 2 ";k7Z[c7Z]["Resistance 1 " + S7Z.name]=E7Z.pivotPoint + 0.382 * E7Z.hlSpread;k7Z[c7Z]["Resistance 2 " + S7Z.name]=E7Z.pivotPoint + 0.618 * E7Z.hlSpread;k7Z[c7Z]["Resistance 3 " + S7Z.name]=E7Z.pivotPoint + E7Z.hlSpread;k7Z[c7Z]["Support 1 " + S7Z.name]=E7Z.pivotPoint - 0.382 * E7Z.hlSpread;k7Z[c7Z][P9r + S7Z.name]=E7Z.pivotPoint - ("0.618" - 0) * E7Z.hlSpread;k7Z[c7Z]["Support 3 " + S7Z.name]=E7Z.pivotPoint - E7Z.hlSpread;}else {T9r="Sup";T9r+="p";T9r+="ort 3 ";k7Z[c7Z]["Resistance 1 " + S7Z.name]=2 * E7Z.pivotPoint - E7Z.prevLow;k7Z[c7Z]["Resistance 2 " + S7Z.name]=E7Z.pivotPoint + E7Z.hlSpread;k7Z[c7Z]["Resistance 3 " + S7Z.name]=E7Z.prevHigh + 2 * (E7Z.pivotPoint - E7Z.prevLow);k7Z[c7Z]["Support 1 " + S7Z.name]=2 * E7Z.pivotPoint - E7Z.prevHigh;k7Z[c7Z]["Support 2 " + S7Z.name]=E7Z.pivotPoint - E7Z.hlSpread;k7Z[c7Z][T9r + S7Z.name]=E7Z.prevLow - ("2" << 2089600000) * (E7Z.prevHigh - E7Z.pivotPoint);}k7Z[c7Z]["_pointers " + S7Z.name]=O7Z.clone(E7Z);}};O7Z.Studies.displayPivotPoints=function(I7Z,p7Z,C7Z){l4kk.t6T();var q9r,Y9r,r7Z,a7Z;p7Z.noSlopes=!p7Z.inputs.Continuous;O7Z.Studies.displaySeriesAsLine(I7Z,p7Z,C7Z);if(p7Z.inputs.Shading){q9r="R";q9r+="esi";q9r+="stanc";q9r+="e 2";Y9r="Resistance";Y9r+=" 2 ";r7Z=I7Z.panels[p7Z.panel];a7Z={noSlopes:p7Z.noSlopes,opacity:p7Z.parameters.opacity?p7Z.parameters.opacity:0.2,skipTransform:r7Z.name != p7Z.chart.name,yAxis:p7Z.getYAxis(I7Z)};if(!p7Z.highlight && I7Z.highlightedDraggable){a7Z.opacity*=0.3;}O7Z.prepareChannelFill(I7Z,O7Z.extend({panelName:p7Z.panel,topBand:"Resistance 3 " + p7Z.name,bottomBand:"Resistance 2 " + p7Z.name,color:O7Z.Studies.determineColor(p7Z.outputs["Resistance 3"])},a7Z));O7Z.prepareChannelFill(I7Z,O7Z.extend({panelName:p7Z.panel,topBand:Y9r + p7Z.name,bottomBand:"Resistance 1 " + p7Z.name,color:O7Z.Studies.determineColor(p7Z.outputs[q9r])},a7Z));O7Z.prepareChannelFill(I7Z,O7Z.extend({panelName:p7Z.panel,topBand:"Resistance 1 " + p7Z.name,bottomBand:"Pivot " + p7Z.name,color:O7Z.Studies.determineColor(p7Z.outputs["Resistance 1"])},a7Z));O7Z.prepareChannelFill(I7Z,O7Z.extend({panelName:p7Z.panel,topBand:"Support 1 " + p7Z.name,bottomBand:"Pivot " + p7Z.name,color:O7Z.Studies.determineColor(p7Z.outputs["Support 1"])},a7Z));O7Z.prepareChannelFill(I7Z,O7Z.extend({panelName:p7Z.panel,topBand:"Support 2 " + p7Z.name,bottomBand:"Support 1 " + p7Z.name,color:O7Z.Studies.determineColor(p7Z.outputs["Support 2"])},a7Z));O7Z.prepareChannelFill(I7Z,O7Z.extend({panelName:p7Z.panel,topBand:"Support 3 " + p7Z.name,bottomBand:"Support 2 " + p7Z.name,color:O7Z.Studies.determineColor(p7Z.outputs["Support 3"])},a7Z));}};O7Z.Studies.studyLibrary=O7Z.extend(O7Z.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!"",seriesFN:O7Z.Studies.displayPivotPoints,calculateFN:O7Z.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:!"1"},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":g9r,"Resistance 2":a9r,"Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};y2V=l7Z=>{var f7Z,U9r,u9r;l4kk.a6T();f7Z=typeof _CIQ !== "undefined"?_CIQ:l7Z.CIQ;if(!f7Z.Studies){U9r="prettyGoodOscillator feature req";U9r+="uire";U9r+="s first activating studies feature.";console.error(U9r);}else {u9r="Pretty Good O";u9r+="s";u9r+="cillator";f7Z.Studies.calculatePrettyGoodOscillator=function(d7Z,J7Z){var S9r,K9r,I9r,u7Z,T98,Y98,q98,J9r;S9r="_";S9r+="SMA";K9r="s";K9r+="imple";I9r="exp";I9r+="onential";u7Z=J7Z.chart.scrubbed;if(u7Z.length < J7Z.days + 1){T98=-523631760;Y98=1102891197;q98=2;for(var U98=1;l4kk.c3x(U98.toString(),U98.toString().length,45835) !== T98;U98++){J7Z.error=!{};return;}if(l4kk.i3x(q98.toString(),q98.toString().length,38172) !== Y98){J7Z.error=!"";return;}}f7Z.Studies.MA(I9r,J7Z.days,"trueRange",0,"_EMA",d7Z,J7Z);f7Z.Studies.MA(K9r,J7Z.days,"Close","0" << 1784877888,S9r,d7Z,J7Z);for(var G7Z=Math.max(1,J7Z.startFrom);G7Z < u7Z.length;G7Z++){J9r="_";J9r+="EM";J9r+="A";J9r+=" ";if(!u7Z[G7Z]["_SMA " + J7Z.name] || !u7Z[G7Z]["_EMA " + J7Z.name])continue;u7Z[G7Z]["Result " + J7Z.name]=(u7Z[G7Z].Close - u7Z[G7Z]["_SMA " + J7Z.name]) / u7Z[G7Z][J9r + J7Z.name];}};f7Z.Studies.studyLibrary=f7Z.extend(f7Z.Studies.studyLibrary,{"Pretty Good":{name:u9r,calculateFN:f7Z.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:"3" * 1,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};E2V=V7Z=>{var e7Z,h9r,c9r,Q9r;e7Z=typeof _CIQ !== "undefined"?_CIQ:V7Z.CIQ;l4kk.a6T();if(!e7Z.Studies){h9r="pric";h9r+="eMomentumOscillator feature requires firs";h9r+="t activating studies feature.";console.error(h9r);}else {c9r="a";c9r+="u";c9r+="t";c9r+="o";Q9r="a";Q9r+="uto";e7Z.Studies.calculatePMO=function(L7Z,Z7Z){var j9r,L9r,B9r,p9r,W9r,n7Z,t7Z,H7Z,T7Z,A7Z,G9r;j9r="expon";j9r+="ential";L9r="_E";L9r+="M";L9r+="Ax10";B9r="ex";B9r+="p";B9r+="onential";p9r="Signa";p9r+="l Perio";p9r+="d";W9r="Smooth";W9r+="i";W9r+="ng Period";n7Z={Smooth:Number(Z7Z.inputs[W9r]) - 1,Double:Number(Z7Z.inputs["Double Smoothing Period"]) - 1,Signal:Number(Z7Z.inputs[p9r])};t7Z=Z7Z.chart.scrubbed;if(t7Z.length < n7Z.Smooth + n7Z.Double){Z7Z.error=! !{};return;}H7Z=Z7Z.inputs.Field;if(!H7Z || H7Z == "field"){H7Z="Close";}for(T7Z=Z7Z.startFrom;T7Z < t7Z.length;T7Z++){if(!t7Z[T7Z])continue;if(!t7Z[T7Z - 1])continue;l4kk.V3g(7);A7Z=t7Z[l4kk.w3g(T7Z,1)][H7Z];if(A7Z){G9r="_R";G9r+="OC";G9r+="x10 ";t7Z[T7Z][G9r + Z7Z.name]=1000 * (t7Z[T7Z][H7Z] / A7Z - ("1" ^ 0));}}e7Z.Studies.MA(B9r,n7Z.Smooth,"_ROCx10 " + Z7Z.name,"0" | 0,L9r,L7Z,Z7Z);e7Z.Studies.MA(j9r,n7Z.Double,"_EMAx10 " + Z7Z.name,+"0","PMO",L7Z,Z7Z);e7Z.Studies.MA("exponential",n7Z.Signal,"PMO " + Z7Z.name,0,"PMOSignal",L7Z,Z7Z);Z7Z.zoneOutput="PMO";};e7Z.Studies.studyLibrary=e7Z.extend(e7Z.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:e7Z.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:2.5,studyOverBoughtColor:Q9r,studyOverSoldValue:-2.5,studyOverSoldColor:c9r}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};k2V=q7Z=>{var i9r,N7Z,N9r,E2r,m2r,Z2r,y9r;i9r="un";l4kk.a6T();i9r+="defined";N7Z=typeof _CIQ !== i9r?_CIQ:q7Z.CIQ;if(!N7Z.Studies){N9r="priceV";N9r+="olumeOscillator feature requires first activating studies feature.";console.error(N9r);}else {E2r="0";E2r+=".";E2r+="1";m2r="R";m2r+="A";m2r+="VI";Z2r="Po";Z2r+="ints";y9r="Po";y9r+="ints";N7Z.Studies.calculatePriceOscillator=function(F0Z,i7Z){var V0T=l4kk;var s9r,X9r,C9r,R9r,R7Z,K0Z,X7Z,U7Z,j7Z,W7Z,V9r,h7Z,z7Z,g7Z,d9r,F9r,A9r;s9r="P";s9r+="e";s9r+="rcent";X9r="Points Or Perce";X9r+="nt";C9r="f";C9r+="ield";R9r="S";R9r+="ho";R9r+="rt Cycle";R7Z=i7Z.chart.scrubbed;K0Z=Number(i7Z.inputs[R9r]);X7Z=Number(i7Z.inputs["Long Cycle"]);if(R7Z.length < Math.max(K0Z,X7Z) + 1){i7Z.error=!"";return;}U7Z=i7Z.inputs.Field;V0T.a6T();j7Z=i7Z.inputs["Moving Average Type"];if(!j7Z){j7Z="simple";}if(!U7Z || U7Z == C9r){U7Z="Close";}if(i7Z.parameters.isVolume){U7Z="Volume";j7Z="exponential";}W7Z=i7Z.inputs[X9r];if(!W7Z){W7Z=s9r;}N7Z.Studies.MA(j7Z,K0Z,U7Z,0,"_Short MA",F0Z,i7Z);N7Z.Studies.MA(j7Z,X7Z,U7Z,0,"_Long MA",F0Z,i7Z);for(var D0Z=Math.max(X7Z,i7Z.startFrom);D0Z < R7Z.length;D0Z++){V9r="_Shor";V9r+="t MA";V9r+=" ";h7Z=R7Z[D0Z];if(!h7Z)continue;z7Z=h7Z[V9r + i7Z.name];g7Z=h7Z["_Long MA " + i7Z.name];if((z7Z || z7Z === 0) && (g7Z || g7Z === +"0")){if(W7Z == "Points"){V0T.B3g(7);h7Z["Result " + i7Z.name]=V0T.w3g(z7Z,g7Z);}else {V0T.V3g(71);h7Z["Result " + i7Z.name]=V0T.U3g(g7Z,z7Z,1,100);}if(i7Z.outputs["Increasing Bar"]){d9r="_his";d9r+="t";F9r="R";F9r+="e";F9r+="sul";F9r+="t ";A9r="_";A9r+="hist";h7Z[i7Z.name + A9r]=h7Z[F9r + i7Z.name];i7Z.outputMap={};i7Z.outputMap[i7Z.name + d9r]="";}}}};N7Z.Studies.displayRAVI=function(m0Z,b0Z,k0Z){var S0T=l4kk;var n9r,E0Z,x0Z,c0Z,S0Z,O0Z,M0Z,w0Z,M9r,H9r,r9r,s0Z,y0Z,v0Z,B0Z;n9r="Incr";n9r+="e";n9r+="asing Bar";E0Z=m0Z.panels[b0Z.panel];x0Z=b0Z.getContext(m0Z);c0Z=b0Z.getYAxis(m0Z);S0Z=m0Z.pixelFromPrice(0,E0Z,c0Z);O0Z=m0Z.layout.candleWidth - 2;if(O0Z < 2){O0Z=1;}M0Z=N7Z.Studies.determineColor(b0Z.outputs[n9r]);w0Z=N7Z.Studies.determineColor(b0Z.outputs["Decreasing Bar"]);m0Z.startClip(b0Z.panel);m0Z.canvasColor("stx_histogram");if(!b0Z.underlay){S0T.B3g(7);x0Z.globalAlpha=S0T.U3g("1",0);}if(!b0Z.highlight && m0Z.highlightedDraggable){x0Z.globalAlpha*=0.3;}for(var Q0Z=0;Q0Z < k0Z.length;Q0Z++){M9r="_";M9r+="hist";H9r="_his";H9r+="t";r9r="_h";r9r+="i";r9r+="s";r9r+="t";s0Z=k0Z[Q0Z];S0T.V3g(7);y0Z=k0Z[S0T.w3g(Q0Z,1)];if(!y0Z){y0Z=m0Z.getPreviousBar(m0Z.chart,b0Z.name + "_hist",Q0Z);}if(!s0Z)continue;v0Z=0;B0Z=0;if(b0Z.parameters && b0Z.parameters.studyOverZonesEnabled){v0Z=parseFloat(b0Z.parameters.studyOverBoughtValue);B0Z=parseFloat(b0Z.parameters.studyOverSoldValue);}if(!y0Z){x0Z.fillStyle="#CCCCCC";}else if(s0Z[b0Z.name + r9r] > v0Z && y0Z[b0Z.name + "_hist"] < s0Z[b0Z.name + "_hist"]){x0Z.fillStyle=M0Z;}else if(s0Z[b0Z.name + "_hist"] < B0Z && y0Z[b0Z.name + H9r] > s0Z[b0Z.name + "_hist"]){x0Z.fillStyle=w0Z;}else {x0Z.fillStyle="#CCCCCC";}if(s0Z.candleWidth){O0Z=Math.floor(Math.max(1,s0Z.candleWidth - 2));}x0Z.fillRect(Math.floor(m0Z.pixelFromBar(Q0Z,E0Z.chart) - O0Z / 2),Math.floor(S0Z),Math.floor(O0Z),Math.floor(m0Z.pixelFromPrice(s0Z[b0Z.name + M9r],E0Z,c0Z) - S0Z));}m0Z.endClip();};N7Z.Studies.studyLibrary=N7Z.extend(N7Z.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:N7Z.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":[y9r,"Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:N7Z.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[Z2r,"Percent"]},parameters:{init:{isVolume:! !1}}},RAVI:{name:m2r,seriesFN:N7Z.Studies.displayRAVI,calculateFN:N7Z.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":+"65"},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"0" * 1,step:E2r},studyOverSoldValue:{max:0,step:"0.1"}}}});}};c2V=Y0Z=>{l4kk.t6T();var e2r,P0Z,f2r,w2r;e2r="undef";e2r+="ine";e2r+="d";P0Z=typeof _CIQ !== e2r?_CIQ:Y0Z.CIQ;if(!P0Z.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {f2r="Prime ";f2r+="Number Bands";w2r="Prime Num";w2r+="ber Oscillator";P0Z.Studies.calculatePrimeNumber=function(V0Z,a0Z){var r0Z,J0Z,I0Z,p0Z,o0Z,t2r,l2r,C0Z,d0Z,e0Z;function f0Z(Z0Z){var T0Z;if(Z0Z <= 0){return !1;}else if(Z0Z != Math.floor(Z0Z)){return ![];}else if(r0Z[Z0Z] === !0 || r0Z[Z0Z] === !{}){return r0Z[Z0Z];}T0Z=parseInt(Math.sqrt(Z0Z),10);for(var t0Z="2" | 0;t0Z <= T0Z;t0Z++){if(Z0Z % t0Z === 0){r0Z[Z0Z]=!{};return ![];}}l4kk.t6T();r0Z[Z0Z]=! !{};return !"";}r0Z=[];J0Z=a0Z.chart.scrubbed;for(var l0Z=a0Z.startFrom;l0Z < J0Z.length;l0Z++){I0Z=J0Z[l0Z];if(!I0Z)continue;p0Z=I0Z.High;if(!isNaN(p0Z)){for(var u0Z=0;p0Z > 0 && p0Z <= +"10";u0Z++){p0Z*=10;}if(f0Z(p0Z)){p0Z+=2;}p0Z=Math.ceil(p0Z);if(p0Z % 2 === 0){p0Z++;}while(!f0Z(p0Z)){p0Z+=2;}p0Z/=Math.pow(10,u0Z);}o0Z=I0Z.Low;if(!isNaN(o0Z)){for(var G0Z=0;o0Z > 0 && o0Z <= 10;G0Z++){o0Z*=10;}if(f0Z(o0Z)){o0Z-=2;}o0Z=Math.floor(o0Z);if(o0Z % 2 === 0){o0Z--;}if(o0Z > 0){while(!f0Z(o0Z)){o0Z-=2;}o0Z/=Math.pow(10,G0Z);}}if(a0Z.type == "Prime Number Bands"){t2r="Prime ";t2r+="B";t2r+="ands Botto";t2r+="m ";l2r="Pr";l2r+="ime Bands ";l2r+="T";l2r+="op ";if(!isNaN(p0Z)){I0Z[l2r + a0Z.name]=p0Z;}if(!isNaN(o0Z)){I0Z[t2r + a0Z.name]=Math.max(0,o0Z);}}else {C0Z=0;d0Z=a0Z.inputs["Tolerance Percentage"] * (p0Z - o0Z) / 100;e0Z=p0Z + o0Z - 2 * I0Z.Close;if(e0Z < d0Z){C0Z=1;}else if(e0Z > d0Z){C0Z=-1;}if(C0Z){I0Z["Result " + a0Z.name]=C0Z;}}}};P0Z.Studies.studyLibrary=P0Z.extend(P0Z.Studies.studyLibrary,{"Prime Number":{name:w2r,range:"-1 to 1",calculateFN:P0Z.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:f2r,overlay:!"",calculateFN:P0Z.Studies.calculatePrimeNumber,seriesFN:P0Z.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};S2V=H0Z=>{l4kk.t6T();var n0Z,g2r,q2r,Y2r;n0Z=typeof _CIQ !== "undefined"?_CIQ:H0Z.CIQ;if(!n0Z.Studies){console.error("pring feature requires first activating studies feature.");}else {g2r="wee";g2r+="kl";g2r+="y";q2r="Pring's S";q2r+="pecial K";Y2r="#F";Y2r+="F0000";n0Z.Studies.calculateKST=function(z0Z,L0Z){var P0T=l4kk;var D2r,x2r,o2r,v2r,b2r,z2r,q0Z,h0Z,i0Z,U0Z,g0Z,N0Z,A0Z,k2r,O2r,j0Z;D2r="KST";D2r+="S";D2r+="i";D2r+="gnal";x2r="simpl";x2r+="e";o2r="Heavies";o2r+="t";o2r+=" SMA Per";o2r+="iod";v2r="Lig";v2r+="ht SMA Period";b2r="Heavy Rate";b2r+=" of Change Period";z2r="Light Rate of Chan";z2r+="ge Period";q0Z=L0Z.chart.scrubbed;h0Z=L0Z.inputs.Field;if(!h0Z || h0Z == "field"){h0Z="Close";}i0Z={};U0Z={};P0T.V3g(1);i0Z[P0T.w3g("1",1)]=Number(L0Z.inputs["Lightest Rate of Change Period"]);i0Z[2]=Number(L0Z.inputs[z2r]);i0Z[3]=Number(L0Z.inputs[b2r]);i0Z[4]=Number(L0Z.inputs["Heaviest Rate of Change Period"]);U0Z[1]=Number(L0Z.inputs["Lightest SMA Period"]);P0T.B3g(1);U0Z[P0T.w3g("2",1)]=Number(L0Z.inputs[v2r]);U0Z[3]=Number(L0Z.inputs["Heavy SMA Period"]);P0T.B3g(7);U0Z[P0T.U3g("4",0)]=Number(L0Z.inputs[o2r]);g0Z=Number(L0Z.inputs["Signal Period"]);for(N0Z=L0Z.startFrom;N0Z < q0Z.length;N0Z++){if(!q0Z[N0Z])continue;for(A0Z=1;A0Z <= 4;A0Z++){k2r="_";k2r+="R";k2r+="O";k2r+="C";if(N0Z >= i0Z[A0Z] && q0Z[N0Z - i0Z[A0Z]] && q0Z[N0Z - i0Z[A0Z]][h0Z]){q0Z[N0Z][k2r + A0Z + ("8500" - 0 < (35.53,6140)?0x11f9:(367.89,358.98) === (4490,1521)?(0xd57,! !1):7928 == 4910?"X":" ") + L0Z.name]=100 * (q0Z[N0Z][h0Z] / q0Z[N0Z - i0Z[A0Z]][h0Z] - 1);}}}P0T.a6T();for(A0Z=1;A0Z <= 4;A0Z++){O2r="_";O2r+="ROC";n0Z.Studies.MA("simple",U0Z[A0Z],O2r + A0Z + (119.22 === +"540.76"?6.22e+3:" ") + L0Z.name,0,"_SMA" + A0Z,z0Z,L0Z);}for(N0Z=L0Z.startFrom;N0Z < q0Z.length;N0Z++){q0Z[N0Z]["KST " + L0Z.name]=null;for(A0Z=1;A0Z <= 4;A0Z++){j0Z=q0Z[N0Z]["_SMA" + A0Z + " " + L0Z.name];if(j0Z || j0Z === 0){P0T.V3g(1);q0Z[N0Z]["KST " + L0Z.name]+=P0T.w3g(A0Z,j0Z);}}}n0Z.Studies.MA(x2r,g0Z,"KST " + L0Z.name,0,D2r,z0Z,L0Z);};n0Z.Studies.calculateSpecialK=function(x6Z,K6Z){var W0Z,F6Z,D6Z,b6Z,m6Z,X0Z,R0Z,T2r,P2r,s6Z;W0Z=K6Z.chart.scrubbed;F6Z=K6Z.inputs.Field;if(!F6Z || F6Z == "field"){F6Z="Close";}D6Z=K6Z.inputs.Interval;if(!D6Z){D6Z="daily";}b6Z={daily:[10,"15" << 643742880,20,30,"50" - 0,65,"75" | 2,100,"195" >> 1497343904,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,+"104"]};m6Z={daily:["10" << 1743514080,10,10,"15" ^ 0,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,+"26",+"26",+"26",39]};for(X0Z=K6Z.startFrom;X0Z < W0Z.length;X0Z++){if(!W0Z[X0Z])continue;for(R0Z=0;R0Z < b6Z[D6Z].length;R0Z++){if(X0Z >= b6Z[D6Z][R0Z] && W0Z[X0Z - b6Z[D6Z][R0Z]] && W0Z[X0Z - b6Z[D6Z][R0Z]][F6Z]){W0Z[X0Z]["_ROC" + R0Z + (1220 >= 523?" ":(82.63,3930) == 846.4?8.18e+3:+"426" > 518.85?(0x11be,"854.18" - 0):(4.06e+3,511)) + K6Z.name]=100 * (W0Z[X0Z][F6Z] / W0Z[X0Z - b6Z[D6Z][R0Z]][F6Z] - 1);}}}l4kk.t6T();for(R0Z=+"0";R0Z < m6Z[D6Z].length;R0Z++){T2r="s";T2r+="im";T2r+="p";T2r+="le";P2r="da";P2r+="i";P2r+="ly";n0Z.Studies.MA(D6Z == P2r?T2r:"exponential",m6Z[D6Z][R0Z],"_ROC" + R0Z + " " + K6Z.name,0,"_MA" + R0Z,x6Z,K6Z);}for(X0Z=K6Z.startFrom;X0Z < W0Z.length;X0Z++){W0Z[X0Z]["Result " + K6Z.name]=null;for(R0Z=0;R0Z < m6Z[D6Z].length;R0Z++){s6Z=W0Z[X0Z]["_MA" + R0Z + " " + K6Z.name];if(s6Z || s6Z === 0){l4kk.B3g(72);W0Z[X0Z]["Result " + K6Z.name]+=l4kk.w3g(s6Z,4,R0Z,"1");}}}};n0Z.Studies.studyLibrary=n0Z.extend(n0Z.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:n0Z.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":"10" << 1120730208,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":+"9"},outputs:{KST:"#00DD00",KSTSignal:Y2r}},"Pring Sp-K":{name:q2r,calculateFN:n0Z.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily",g2r]}}});}};v2V=O6Z=>{var a2r,Q6Z,y6Z,F2r,A2r,V2r,s2r,X2r,C2r,R2r,N2r,i2r,c2r,Q2r,j2r;a2r="undef";a2r+="ined";Q6Z=typeof _CIQ !== "undefined"?_CIQ:O6Z.CIQ;y6Z=typeof _timezoneJS !== a2r?_timezoneJS:O6Z.timezoneJS;if(!Q6Z.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {F2r="hh:";F2r+="mm:ss";A2r="+";A2r+="5";A2r+="0";A2r+="%";V2r="h";V2r+="h:mm";V2r+=":";V2r+="ss";s2r="#";s2r+="8";s2r+="cc1";s2r+="76";X2r="#";X2r+="cfbd";X2r+="0e";C2r="#";C2r+="fe";C2r+="641c";R2r="-";R2r+="100%";N2r="-";N2r+="25%";i2r="+";i2r+="7";i2r+="5";i2r+="%";c2r="+100";c2r+="%";Q2r="+1";Q2r+="50%";j2r="Pr";j2r+="ojected Volume at Time";Q6Z.Studies.initProjectedVolume=function(c6Z,B6Z,k6Z,M6Z,w6Z,P6Z){var E6Z,v6Z;var {market:S6Z}=c6Z.chart;E6Z="00:00";if(S6Z){E6Z=S6Z.getNormalOpen();}if(E6Z.match(/^[\d]{2}:[\d]{2}$/)){E6Z+=":00";}if(!k6Z["Anchor Time"] || !k6Z["Anchor Time"].length){k6Z["Anchor Time"]=E6Z;}v6Z=Q6Z.Studies.initializeFN(c6Z,B6Z,k6Z,M6Z,w6Z,P6Z);if(!c6Z.currentlyImporting){v6Z.defaultAnchorTime=E6Z;}return v6Z;};Q6Z.Studies.validateProjectedVolumeLookback=function(I6Z,a6Z){var {interval:Y6Z, periodicity:o6Z}=I6Z.layout;var {"Lookback Days":p6Z}=a6Z.inputs;l4kk.t6T();l4kk.V3g(73);return l4kk.U3g(Y6Z,10,p6Z,o6Z);};Q6Z.Studies.calculateProjectedVolume=function(f6Z,r6Z){var Q0T=l4kk;var W2r,K2r,I2r,U2r,M8Z,Z6Z,L6Z,P8Z,Y8Z,F8Z,b8Z,l6Z,m8Z,A8Z,J6Z,s8Z,x8Z,o8Z,x0x,D0x,P0x,Q8Z,t6Z,O8Z,N8Z,V6Z,q8Z,U6Z,u6Z,R6Z,d6Z,A6Z,I8Z,a8Z,r8Z,C8Z,E8Z,k8Z,D8Z,U8Z,f8Z,S2r,N6Z,q6Z,K8Z,j8Z,c8Z,h2r,J2r,G6Z,l8Z,J8Z,S8Z,u8Z,j6Z,u2r;W2r="PV";W2r+=" ";K2r="P";function V8Z(x1Z){return f6Z.dateFromTick(x1Z,null,! !"1","scrubbed");}K2r+="V";K2r+=" ";I2r="V";I2r+=" ";U2r="minu";U2r+="t";U2r+="e";var {interval:Z8Z, timeUnit:v8Z, aggregationType:B8Z}=f6Z.layout;var {symbol:t8Z, scroll:T8Z, scrubbed:C6Z, market:e6Z}=f6Z.chart;M8Z=r6Z.type === "PAV";Z6Z=r6Z.study?r6Z.study.name:r6Z.type;if(Q6Z.ChartEngine.isDailyInterval(Z8Z)){r6Z.error=`${Z6Z} is Intraday Only`;}else if(v8Z === "tick"){r6Z.error=`Tick mode not supported for ${Z6Z}`;}else if(v8Z !== U2r){r6Z.error=`Sub-minute periodicities not supported for ${Z6Z}`;}else if(!B8Z || !["ohlc","heikinashi"].includes(B8Z)){r6Z.error=`Aggregation type not supported for ${Z6Z}`;}else if(!Q6Z.Studies.validateProjectedVolumeLookback(f6Z,r6Z)){r6Z.error=`Selected lookback/periodicity combo not supported for ${Z6Z}`;}if(r6Z.error){return;}if(r6Z.inputs["Anchor Selector"]){Q6Z.Studies.initAnchorHandle(f6Z,r6Z);}else {Q6Z.Studies.removeAnchorHandle(f6Z,r6Z);}L6Z=e6Z?e6Z.getNormalOpen():"00:00";if(L6Z.match(/^[\d]{2}:[\d]{2}$/)){L6Z+=":00";}if(!f6Z.currentlyImporting && L6Z !== r6Z.defaultAnchorTime){r6Z.defaultAnchorTime=L6Z;r6Z.inputs["Anchor Time"]=L6Z;Q6Z.Studies.repositionAnchor(f6Z,r6Z);return;}var {"Lookback Days":g6Z, "Anchor Time":n8Z}=r6Z.inputs;var [H8Z,L8Z,w8Z = 0]=n8Z.split((+"8820",5950) == "559.07" - 0?"5470" << 954916096 !== ("7643" - 0,+"5332")?("k",! !{}):(0x1006,"n"):":");P8Z=Q6Z.Market.Symbology.isForexSymbol(t8Z);Y8Z=r6Z.getDependents(f6Z);F8Z=+"0";b8Z=[];Y8Z.forEach(({inputs:g8Z, outputMap:R8Z})=>{if(g8Z.Period){F8Z=Math.max(parseInt(g8Z.Period),F8Z);b8Z.push(...Object.keys(R8Z));}});r6Z.dependentsOutputMap=b8Z;m8Z=z6Z(C6Z.length - +"1",! !"1");A8Z=Math.ceil(C6Z.length - 1 - T8Z);Q0T.B3g(7);J6Z=z6Z(Q0T.U3g(A8Z,F8Z));if(P8Z && C6Z[J6Z] && Q6Z.dateToStr(C6Z[J6Z].DT,"HH:mm") !== L6Z){Q0T.B3g(7);J6Z=z6Z(Q0T.U3g(J6Z,1));;}if(!P8Z && r6Z.startFrom > J6Z && C6Z[J6Z] && C6Z[J6Z][I2r + r6Z.name] !== undefined && b8Z.every(X8Z=>{return ![undefined,null].includes(C6Z[J6Z][X8Z]);}) && m8Z !== ![]){l6Z=m8Z;;}else {l6Z=J6Z;}s8Z=d8Z(V8Z(J6Z),g6Z);s8Z.setHours(0,0,0);x8Z=z6Z(0,!"");o8Z=(x8Z || x8Z === 0) && e8Z(d8Z(C6Z[x8Z].DT,g6Z,! !{}));if(C6Z["0" ^ 0].DT > s8Z){if(f6Z.quoteDriver){f6Z.quoteDriver.extendHistoricalData({from:s8Z});if(o8Z > 0){l6Z=o8Z;}else {return;}}else {x0x=339455337;D0x=+"394409442";P0x=2;for(var Y0x=1;Q0T.c3x(Y0x.toString(),Y0x.toString().length,62067) !== x0x;Y0x++){return r6Z.error=`Not enough data to calculate ${Z6Z}`;}if(Q0T.i3x(P0x.toString(),P0x.toString().length,46533) !== D0x){return r6Z.error=`Not enough data to calculate ${Z6Z}`;}}}if(l6Z < 0 || l6Z > C6Z.length - 1){return;}Q8Z=C6Z.length - r6Z.startFrom === 1 && r6Z.cachedFutureTicks && r6Z.cachedLastProjection && +r6Z.cachedLastProjection.DT === +C6Z[C6Z.length - 1].DT && C6Z[l6Z][K2r + r6Z.name];function z6Z(c1Z,S1Z){var E1Z,k1Z,y1Z;E1Z=V8Z(c1Z);k1Z=e6Z.getOpen(E1Z) || z8Z(E1Z);y1Z=e8Z(k1Z);if(!S1Z){return y1Z;}if(y1Z < 0){y1Z=e8Z(d8Z(k1Z,1,! !1));}if(y1Z >= C6Z.length){return !"1";}return y1Z;}function d8Z(F1Z,b1Z,m1Z){while(b1Z){F1Z=new Date(new Date(F1Z).setDate(F1Z.getDate() + (m1Z?1:-1)));if(e6Z.isMarketDate(F1Z)){b1Z--;}}Q0T.t6T();return F1Z;}if(Q8Z){C6Z[C6Z.length - 1]["PV " + r6Z.name]=r6Z.cachedLastProjection.projectedValue;r6Z.appendFutureTicks(f6Z,r6Z.cachedFutureTicks);l6Z=r6Z.startFrom;}else {r6Z.cachedFutureTicks=null;r6Z.cachedLastProjection=null;t6Z=[m8Z];O8Z=[];for(var p8Z=0;p8Z < g6Z;p8Z++){N8Z=z6Z(t6Z[0] - 1);t6Z.unshift(N8Z);;}while(t6Z[g6Z] >= l6Z){V6Z=t6Z.pop();if(!C6Z[V6Z]){return G8Z(V6Z);}q8Z=i6Z(C6Z[V6Z].DT);var {hours:T6Z, minutes:h6Z}=q8Z;U6Z=e6Z.getClose(C6Z[V6Z].DT);u6Z=void 0;if(!U6Z){u6Z={hours:24,minutes:0};}else {R6Z=e6Z.getNextClose(C6Z[V6Z].DT);u6Z=i6Z(U6Z);while(!(u6Z.hours === 0 && u6Z.minutes === 0) && U6Z.getDate() === R6Z.getDate()){U6Z=R6Z;R6Z=e6Z.getNextClose(R6Z);}u6Z=i6Z(U6Z);if(u6Z.hours === 0){u6Z.hours=24;}}d6Z=t6Z.slice();for(var X6Z=0;X6Z < d6Z.length;X6Z++){A6Z=d6Z[X6Z];if(!C6Z[A6Z]){return G8Z(A6Z);}var {hours:W6Z, minutes:y8Z}=i6Z(C6Z[A6Z].DT);if(W6Z < T6Z || W6Z === T6Z && y8Z < h6Z){do {A6Z++;({hours:W6Z, minutes:y8Z}=i6Z(C6Z[A6Z].DT));}while(!(W6Z === T6Z && y8Z === h6Z));}d6Z[X6Z]=A6Z;}while(T6Z < u6Z.hours || T6Z === u6Z.hours && h6Z < u6Z.minutes){I8Z=! !"";a8Z=void 0;r8Z=void 0;C8Z=0;E8Z=0;for(var n6Z=0;n6Z < d6Z.length;n6Z++){k8Z=d6Z[n6Z];if(k8Z === null)continue;D8Z=C6Z[k8Z];if(!D8Z){return G8Z(k8Z);}var {hours:i8Z, minutes:h8Z}=i6Z(D8Z.DT);U8Z=D8Z.DT.getDate();if(i8Z === T6Z && h8Z === h6Z){C8Z+=D8Z.Volume;E8Z++;d6Z[n6Z]++;if(C6Z[d6Z[n6Z]].DT.getDate() !== U8Z){d6Z[n6Z]=null;}else if(!I8Z){({hours:a8Z, minutes:r8Z}=i6Z(C6Z[d6Z[n6Z]].DT));I8Z=!"";;}}}T6Z=a8Z;h6Z=r8Z;if(E8Z === 0)break;Q0T.V3g(13);f8Z=Q0T.U3g(E8Z,C8Z);if(C6Z[V6Z]){S2r="P";S2r+="V";S2r+=" ";C6Z[V6Z][S2r + r6Z.name]=f8Z;}else {O8Z.push({["PV " + r6Z.name]:f8Z});}V6Z++;}t6Z.unshift(z6Z(t6Z[+"0"] - 1));;}r6Z.cachedLastProjection={DT:C6Z[C6Z.length - 1].DT,projectedValue:C6Z[C6Z.length - +"1"]["PV " + r6Z.name]};r6Z.cachedFutureTicks=O8Z;r6Z.appendFutureTicks(f6Z,O8Z);}N6Z=null;function z8Z(Q1Z){var O1Z;Q0T.t6T();Q1Z.setHours(+"0");Q1Z.setMinutes(0);O1Z=Q6Z.Studies.getMarketOffset({stx:f6Z,localQuoteDate:Q1Z});return new Date(Q1Z.getTime() + O1Z);}q6Z=0;K8Z=+"0";if(Q8Z && M8Z){while(l6Z > +"0"){Q0T.B3g(7);c8Z=C6Z[Q0T.U3g(l6Z,1)]["V " + r6Z.name];if(c8Z || c8Z === 0){q6Z=c8Z;break;}l6Z--;}}for(var H6Z=l6Z;H6Z < C6Z.length;H6Z++){h2r="PV";h2r+=" ";J2r="Ame";J2r+="ric";J2r+="a/New_York";G6Z=C6Z[H6Z];l8Z=G6Z.Volume;J8Z=G6Z["PV " + r6Z.name];if(!G6Z.futureTick){j8Z=H6Z;}if(N6Z === null){N6Z=Q6Z.Studies.getMarketOffset({stx:f6Z,localQuoteDate:C6Z[H6Z].DT,shiftToDateBoundary:! !{}});}S8Z=new Date(new Date(G6Z.DT).getTime() + N6Z);u8Z=C6Z[H6Z - 1] && new Date(new Date(C6Z[H6Z - 1].DT).getTime() + N6Z);j6Z=new y6Z.Date(G6Z.DT,e6Z.market_def.market_tz || J2r);j6Z.setHours(H8Z,L8Z,w8Z);Q0T.B3g(2);j6Z=new Date(Q0T.w3g(j6Z,N6Z));j6Z.setDate(S8Z.getDate());if(u8Z && S8Z.getDate() !== u8Z.getDate()){N6Z=null;Q0T.V3g(17);q6Z=Q0T.w3g("0",1794367584);K8Z=0;}if(S8Z < j6Z){u2r="P";u2r+="V";u2r+=" ";G6Z["V " + r6Z.name]=+"0";G6Z[u2r + r6Z.name]=0;continue;}if(M8Z){q6Z+=l8Z;K8Z+=J8Z;}else {q6Z=l8Z;K8Z=J8Z;}G6Z["V " + r6Z.name]=q6Z;if(!Q8Z){G6Z[h2r + r6Z.name]=K8Z;}if([NaN,null,undefined].includes(q6Z) && !G6Z.futureTick){r6Z.error=`${Z6Z} requires volume`;return;}}r6Z.cachedLastProjection.projectedValue=C6Z[j8Z][W2r + r6Z.name];r6Z.outputMap={};r6Z.outputMap["V " + r6Z.name]="";function i6Z(K1Z){return {hours:K1Z.getHours(),minutes:K1Z.getMinutes()};}function e8Z(s1Z){Q0T.t6T();return f6Z.tickFromDate(s1Z,null,null,! !"1","scrubbed");}r6Z.outputMap["PV " + r6Z.name]="Average Line";Y8Z.forEach(W8Z=>{var I98,K98,S98;I98=18220062;K98=465213074;S98=2;for(var u98=1;Q0T.c3x(u98.toString(),u98.toString().length,23561) !== I98;u98++){W8Z.startFrom=l6Z;W8Z.study.calculateFN(f6Z,W8Z);S98+=2;}if(Q0T.i3x(S98.toString(),S98.toString().length,"5286" & 2147483647) !== K98){W8Z.startFrom=l6Z;W8Z.study.calculateFN(f6Z,W8Z);}});function G8Z(D1Z){Q0T.t6T();console.error(`Expected data for ${V8Z(D1Z).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}};Q6Z.Studies.displayProjectedVolume=function(B1Z,v1Z,M1Z){var G2r,p2r,Y1Z,w1Z,o1Z,p1Z,I1Z,r1Z,C1Z;G2r="V";G2r+=" ";p2r="Al";p2r+="ert";p2r+=" Bar";if(v1Z.error){return Q6Z.Studies.removeAnchorHandle(B1Z,v1Z);}var {"Alert Threshold":P1Z = ""}=v1Z.inputs;Y1Z=parseInt(P1Z.slice(0,-1),"10" ^ 0) / 100;w1Z=v1Z.outputs[p2r];if(typeof w1Z === "object"){w1Z=w1Z.color;}v1Z.volumeField=G2r + v1Z.name;l4kk.a6T();v1Z.plotStepLine=! ![];v1Z.alignStepToSide=! ![];v1Z.extendToEndOfLastBar=! !"1";v1Z.lineWidth=2;o1Z=B1Z.canvasStyle("stx_volume_underlay_up").opacity;p1Z=B1Z.canvasStyle("stx_volume_underlay_down").opacity;v1Z.colorFunction=function(l1Z){var Q5T=l4kk;var B2r,Z1Z,f1Z,t1Z,J1Z,u1Z,G1Z;B2r="V";B2r+=" ";var {Open:d1Z, Close:e1Z, iqPrevClose:V1Z}=l1Z;Z1Z=B1Z.colorByCandleDirection?d1Z:V1Z;Q5T.B3g(74);f1Z=Q5T.U3g(e1Z,Z1Z);t1Z=l1Z["PV " + v1Z.name];J1Z=l1Z[B2r + v1Z.name];Q5T.V3g(75);u1Z=Q5T.U3g(1,t1Z,Y1Z);G1Z=Y1Z < 0?J1Z < u1Z:J1Z > u1Z;return {fill_color:G1Z && w1Z || (f1Z?this.fill_color_down:this.fill_color_up),border_color:f1Z?this.border_color_down:this.border_color_up,opacity:G1Z?1:f1Z?p1Z:o1Z,border_opacity:f1Z?p1Z:o1Z};};I1Z=v1Z.study?v1Z.study.name:v1Z.type;var {loadingMore:a1Z}=B1Z.chart;r1Z=M1Z.some(T1Z=>{var L2r;L2r="P";L2r+="V";L2r+=" ";return T1Z && T1Z[v1Z.volumeField] && T1Z[L2r + v1Z.name];});C1Z=M1Z[0] && !M1Z[+"0"].futureTick && (M1Z[0]["PV " + v1Z.name] === undefined || (v1Z.dependentsOutputMap || []).some(n1Z=>{return [undefined,null].includes(M1Z["0" ^ 0][n1Z]);}));if(!r1Z && a1Z){return v1Z.error=`Fetching data for ${I1Z}`;}Q6Z.Studies.createVolumeChart(B1Z,v1Z,M1Z);Q6Z.Studies.displaySeriesAsLine(B1Z,v1Z,M1Z);if(v1Z.anchorHandle){Q6Z.Studies.displayAnchorHandleAndLine(B1Z,v1Z,M1Z);}if(C1Z){Q6Z.Studies.calculateProjectedVolume(B1Z,v1Z);}};Q6Z.Studies.studyLibrary=Q6Z.extend(Q6Z.Studies.studyLibrary,{PVAT:{name:j2r,range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,zoom:"0" ^ 0},calculateFN:Q6Z.Studies.calculateProjectedVolume,seriesFN:Q6Z.Studies.displayProjectedVolume,initializeFN:Q6Z.Studies.initProjectedVolume,removeFN:Q6Z.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":[Q2r,"+125%",c2r,i2r,"+50%","+25%","None",N2r,"-50%","-75%",R2r,"-125%","-150%"],"Anchor Selector":!0},outputs:{"Average Line":C2r,"Alert Bar":X2r,"Up Volume":s2r,"Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:V2r,step:1},"Alert Threshold":{defaultSelected:A2r}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,zoom:"0" & 2147483647},calculateFN:Q6Z.Studies.calculateProjectedVolume,seriesFN:Q6Z.Studies.displayProjectedVolume,initializeFN:Q6Z.Studies.initProjectedVolume,removeFN:Q6Z.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:F2r,step:1}}}});}};B2V=L1Z=>{l4kk.t6T();var H1Z,d2r;H1Z=typeof _CIQ !== "undefined"?_CIQ:L1Z.CIQ;if(!H1Z.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {d2r="Psychological ";d2r+="Line";H1Z.Studies.calculatePsychologicalLine=function(z1Z,A1Z){var q1Z,i1Z,U1Z,h1Z,j1Z;q1Z=A1Z.chart.scrubbed;if(q1Z.length < A1Z.days + 1){A1Z.error=! !{};return;}i1Z=[];U1Z=100 / A1Z.days;h1Z=+"0";for(var N1Z=Math.max(A1Z.startFrom - A1Z.days,1);N1Z < q1Z.length;N1Z++){if(q1Z[N1Z].futureTick)break;j1Z=Number(q1Z[N1Z].Close > q1Z[N1Z - 1].Close);if(j1Z){h1Z+=U1Z;}i1Z.push(j1Z);if(i1Z.length > A1Z.days){h1Z-=i1Z.shift() * U1Z;}if(N1Z < A1Z.startFrom)continue;if(!isNaN(q1Z[N1Z].Close)){q1Z[N1Z]["Result " + A1Z.name]=h1Z;}}};H1Z.Studies.studyLibrary=H1Z.extend(H1Z.Studies.studyLibrary,{PSY:{name:d2r,range:"0 to 100",calculateFN:H1Z.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};M2V=R1Z=>{var g1Z;g1Z=typeof _CIQ !== "undefined"?_CIQ:R1Z.CIQ;l4kk.a6T();if(!g1Z.Studies){console.error("qstick feature requires first activating studies feature.");}else {g1Z.Studies.calculateQStick=function(K9Z,X1Z){var W1Z;W1Z=X1Z.chart.scrubbed;if(W1Z.length < X1Z.days + +"1"){X1Z.error=! ![];return;}for(var D9Z=X1Z.startFrom;D9Z < W1Z.length;D9Z++){W1Z[D9Z]["_Close-Open " + X1Z.name]=W1Z[D9Z].Close - W1Z[D9Z].Open;}g1Z.Studies.MA(X1Z.inputs["Moving Average Type"],X1Z.days,"_Close-Open " + X1Z.name,0,"Result",K9Z,X1Z);};g1Z.Studies.studyLibrary=g1Z.extend(g1Z.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:g1Z.Studies.calculateQStick,inputs:{Period:"8" | 8,"Moving Average Type":"ma"}}});}};w2V=b9Z=>{var F9Z,w1r,t1r,l1r,e1r,E1r;F9Z=typeof _CIQ !== "undefined"?_CIQ:b9Z.CIQ;if(!F9Z.Studies){console.error("rainbow feature requires first activating studies feature.");}else {w1r="#";w1r+="0";w1r+="0D";w1r+="D00";t1r="#7F";t1r+="00FF";l1r="#";l1r+="0000";l1r+="FF";e1r="#7";e1r+="FFF00";E1r="Rainbow ";E1r+="Movin";E1r+="g Average";F9Z.Studies.calculateRainbow=function(M9Z,m9Z){var r2r,s9Z,O9Z,v9Z,B9Z,k9Z,c9Z,S9Z,y9Z,n2r,E9Z,H2r;r2r="O";r2r+="s";r2r+="c";s9Z=m9Z.chart.scrubbed;if(s9Z.length < m9Z.days + 1){m9Z.error=!"";return;}O9Z=m9Z.inputs.Field;function w9Z(I9Z,p9Z){var Y9Z,o9Z;Y9Z=Number.MAX_VALUE * -1;o9Z=Number.MAX_VALUE;for(var P9Z=p9Z - I9Z + 1;P9Z <= p9Z;P9Z++){if(P9Z < 0)continue;Y9Z=Math.max(Y9Z,s9Z[P9Z].Close);o9Z=Math.min(o9Z,s9Z[P9Z].Close);}return [o9Z,Y9Z];}if(!O9Z || O9Z == "field"){O9Z="Close";}v9Z=O9Z;for(var Q9Z=1;Q9Z <= 10;Q9Z++){F9Z.Studies.MA("simple",m9Z.days,v9Z,0,"SMA" + Q9Z,M9Z,m9Z);v9Z="SMA" + Q9Z + ((2030,9030) !== 7543?" ":(! !{},0x250b)) + m9Z.name;}for(var x9Z=Math.max(m9Z.startFrom,10);x9Z < s9Z.length;x9Z++){if(!s9Z[x9Z])continue;if(s9Z[x9Z].futureTick)break;B9Z=0;k9Z=0;c9Z=Number.MAX_VALUE * -1;S9Z=Number.MAX_VALUE;for(Q9Z=1;Q9Z <= 10;Q9Z++){y9Z=s9Z[x9Z]["SMA" + Q9Z + ((7418,87) < 600.42?+"826.58" > (9450,5780)?(4.84e+3,"J"):" ":(+"1.77e+3",!"")) + m9Z.name];if(y9Z || y9Z === 0){B9Z+=y9Z;k9Z++;c9Z=Math.max(c9Z,y9Z);S9Z=Math.min(S9Z,y9Z);}}if(m9Z.name.indexOf("Osc") > -1){n2r="HH";n2r+="V/LLV Lookback";E9Z=w9Z(m9Z.inputs[n2r],x9Z);if(k9Z){s9Z[x9Z][m9Z.name + "_hist"]=+"100" * (s9Z[x9Z][O9Z] - B9Z / k9Z) / Math.max("0.000001" - 0,E9Z[1] - E9Z[0]);s9Z[x9Z]["Over " + m9Z.name]=("100" | 100) * (c9Z - S9Z) / Math.max(0.000001,E9Z[+"1"] - E9Z[0]);s9Z[x9Z]["Under " + m9Z.name]=-s9Z[x9Z]["Over " + m9Z.name];s9Z[x9Z]["Zero " + m9Z.name]=0;}}}if(m9Z.name.indexOf(r2r) > -1){H2r="_";H2r+="h";H2r+="i";H2r+="st";m9Z.outputMap={};m9Z.outputMap["Over " + m9Z.name]="Positive Bar";m9Z.outputMap["Under " + m9Z.name]="Negative Bar";m9Z.outputMap["Zero " + m9Z.name]="";m9Z.outputMap[m9Z.name + H2r]="";}};F9Z.Studies.displayRainbowMA=function(C9Z,r9Z,l9Z){var f9Z;f9Z=C9Z.panels[r9Z.panel];for(var a9Z=10;a9Z > 0;a9Z--){F9Z.Studies.displayIndividualSeriesAsLine(C9Z,r9Z,f9Z,"SMA" + a9Z + " " + r9Z.name,l9Z);}};F9Z.Studies.displayRainbowOsc=function(u9Z,J9Z,q9Z){var Z1r,y2r,M2r,e9Z,d9Z,G9Z,t9Z,T9Z,H9Z,L9Z,A9Z,N9Z,Z9Z,m1r,V9Z;Z1r="stx";Z1r+="_histogram";y2r="U";y2r+="nde";y2r+="r ";M2r="O";M2r+="ve";M2r+="r ";F9Z.Studies.displaySeriesAsLine(u9Z,J9Z,q9Z);e9Z=u9Z.panels[J9Z.panel];d9Z=J9Z.getContext(u9Z);G9Z=J9Z.getYAxis(u9Z);u9Z.startClip(J9Z.panel);if(!J9Z.highlight && u9Z.highlightedDraggable){d9Z.globalAlpha*=0.3;}l4kk.B3g(0);t9Z=u9Z.pixelFromPrice(l4kk.w3g("0",0),e9Z,G9Z);T9Z=e9Z.name != J9Z.chart.name;H9Z=F9Z.Studies.determineColor(J9Z.outputs["Positive Bar"]);d9Z.strokeStyle=H9Z;u9Z.plotDataSegmentAsLine(M2r + J9Z.name,e9Z,{skipTransform:T9Z,label:!{},yAxis:G9Z});L9Z=d9Z.createLinearGradient(0,t9Z,0,G9Z.flipped?G9Z.bottom:G9Z.top);L9Z.addColorStop(0,u9Z.containerColor);L9Z.addColorStop(1,H9Z);F9Z.prepareChannelFill(u9Z,{skipTransform:T9Z,color:L9Z,opacity:!J9Z.highlight && u9Z.highlightedDraggable?0.3:1,panelName:J9Z.panel,topBand:"Over " + J9Z.name,bottomBand:"Zero " + J9Z.name,yAxis:G9Z});A9Z=F9Z.Studies.determineColor(J9Z.outputs["Negative Bar"]);d9Z.strokeStyle=A9Z;u9Z.plotDataSegmentAsLine("Under " + J9Z.name,e9Z,{skipTransform:T9Z,label:!1,yAxis:G9Z});N9Z=d9Z.createLinearGradient(0,t9Z,0,G9Z.flipped?G9Z.top:G9Z.bottom);N9Z.addColorStop(0,u9Z.containerColor);N9Z.addColorStop(1,A9Z);F9Z.prepareChannelFill(u9Z,{skipTransform:T9Z,color:N9Z,opacity:!J9Z.highlight && u9Z.highlightedDraggable?0.3:1,panelName:J9Z.panel,topBand:"Zero " + J9Z.name,bottomBand:y2r + J9Z.name,yAxis:G9Z});Z9Z=u9Z.layout.candleWidth - 2;if(Z9Z < 2){Z9Z=1;}u9Z.canvasColor(Z1r);if(!J9Z.underlay){d9Z.globalAlpha=1;}if(!J9Z.highlight && u9Z.highlightedDraggable){d9Z.globalAlpha*=+"0.3";}d9Z.fillStyle="#CCCCCC";for(var n9Z=0;n9Z < q9Z.length;n9Z++){m1r="_";m1r+="his";m1r+="t";V9Z=q9Z[n9Z];if(!V9Z)continue;if(V9Z[J9Z.name + "_hist"] > 0){d9Z.fillStyle=H9Z;}else if(V9Z[J9Z.name + "_hist"] < 0){d9Z.fillStyle=A9Z;}if(V9Z.candleWidth){Z9Z=Math.floor(Math.max(1,V9Z.candleWidth - +"2"));}d9Z.fillRect(Math.floor(u9Z.pixelFromBar(n9Z,e9Z.chart) - Z9Z / 2),Math.floor(t9Z),Math.floor(Z9Z),Math.floor(u9Z.pixelFromPrice(V9Z[J9Z.name + m1r],e9Z,G9Z) - t9Z));}u9Z.endClip();};F9Z.Studies.studyLibrary=F9Z.extend(F9Z.Studies.studyLibrary,{"Rainbow MA":{name:E1r,overlay:!"",calculateFN:F9Z.Studies.calculateRainbow,seriesFN:F9Z.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:e1r,SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:l1r,SMA9:t1r,SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:F9Z.Studies.calculateRainbow,seriesFN:F9Z.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":w1r,"Negative Bar":"#FF0000"}}});}};P2V=h9Z=>{var i9Z;i9Z=typeof _CIQ !== "undefined"?_CIQ:h9Z.CIQ;if(!i9Z.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {i9Z.Studies.calculateRandomWalk=function(s5Z,g9Z){var j9Z,D5Z,K5Z,F5Z,R9Z,X9Z,W9Z,b5Z,m5Z;l4kk.t6T();j9Z=g9Z.chart.scrubbed;if(j9Z.length < g9Z.days + 1){g9Z.error=! !{};return;}for(var U9Z=Math.max("2" - 0,g9Z.startFrom);U9Z < j9Z.length;U9Z++){D5Z=0;K5Z=j9Z[U9Z].High;F5Z=j9Z[U9Z].Low;R9Z=0;X9Z=0;for(var z9Z=1;z9Z <= g9Z.days;z9Z++){if(j9Z[U9Z].futureTick)break;if(U9Z <= z9Z){R9Z=X9Z=0;break;}D5Z+=j9Z[U9Z - z9Z].trueRange;W9Z=D5Z / z9Z * Math.sqrt(z9Z);if(W9Z){b5Z=(K5Z - j9Z[U9Z - z9Z].Low) / W9Z;m5Z=(j9Z[U9Z - z9Z].High - F5Z) / W9Z;R9Z=Math.max(R9Z,b5Z);X9Z=Math.max(X9Z,m5Z);}}if(!j9Z[U9Z].futureTick && (!isNaN(K5Z) || !isNaN(F5Z))){j9Z[U9Z]["Random Walk High " + g9Z.name]=R9Z;j9Z[U9Z]["Random Walk Low " + g9Z.name]=X9Z;}}};i9Z.Studies.studyLibrary=i9Z.extend(i9Z.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:i9Z.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};Y2V=Q5Z=>{var s7T=l4kk;var f1r,x5Z,f78,z78,b78,T1r,P1r,a1r,g1r,q1r,Y1r;f1r="u";f1r+="n";f1r+="d";f1r+="efined";x5Z=typeof _CIQ !== f1r?_CIQ:Q5Z.CIQ;if(!x5Z.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {x5Z.Studies.calculateRelativeVigor=function(M5Z,O5Z){var x1r,O1r,k1r,o1r,v1r,E5Z,y5Z,b1r,z1r,k5Z,S5Z,v5Z,w5Z,B5Z,c5Z,D1r;x1r="Rel";x1r+=" Vig ";O1r="_De";O1r+="nom";k1r="_";k1r+="Ra";k1r+="ng";k1r+="e ";o1r="tr";o1r+="iangular";v1r="t";v1r+="rian";s7T.a6T();v1r+="gular";E5Z=O5Z.chart.scrubbed;if(E5Z.length < O5Z.days + 1){O5Z.error=!0;return;}for(y5Z=O5Z.startFrom;y5Z < E5Z.length;y5Z++){b1r="_";b1r+="R";b1r+="ange ";z1r="_C";z1r+="hange ";k5Z=E5Z[y5Z];if(!isNaN(k5Z.Close) && !isNaN(k5Z.Open)){k5Z[z1r + O5Z.name]=k5Z.Close - k5Z.Open;}if(!isNaN(k5Z.High) && !isNaN(k5Z.Low)){k5Z[b1r + O5Z.name]=k5Z.High - k5Z.Low;}}x5Z.Studies.MA(v1r,4,"_Change " + O5Z.name,0,"_Numer",M5Z,O5Z);x5Z.Studies.MA(o1r,4,k1r + O5Z.name,0,O1r,M5Z,O5Z);S5Z=[];v5Z=[];for(y5Z=Math.max(O5Z.startFrom - O5Z.days,0);y5Z < E5Z.length;y5Z++){if(E5Z[y5Z].futureTick)break;if(E5Z[y5Z]["_Numer " + O5Z.name] === null && E5Z[y5Z]["_Denom " + O5Z.name] === null)continue;S5Z.push(E5Z[y5Z]["_Numer " + O5Z.name]);v5Z.push(E5Z[y5Z]["_Denom " + O5Z.name]);if(S5Z.length > O5Z.days){S5Z.shift();v5Z.shift();}w5Z=0;B5Z=0;for(c5Z=0;c5Z < S5Z.length;c5Z++){w5Z+=S5Z[c5Z];}for(c5Z=0;c5Z < v5Z.length;c5Z++){B5Z+=v5Z[c5Z];}if(B5Z === 0){B5Z=0.00000001;}if(y5Z < O5Z.startFrom)continue;s7T.B3g(13);E5Z[y5Z]["Rel Vig " + O5Z.name]=s7T.U3g(B5Z,w5Z);}x5Z.Studies.MA("triangular",4,x1r + O5Z.name,0,"RelVigSignal",M5Z,O5Z);for(y5Z=O5Z.startFrom;y5Z < E5Z.length;y5Z++){D1r="Rel";D1r+="VigSignal ";E5Z[y5Z][O5Z.name + "_hist"]=E5Z[y5Z]["Rel Vig " + O5Z.name] - E5Z[y5Z][D1r + O5Z.name];}O5Z.outputMap[O5Z.name + "_hist"]="";};f78=1193355960;z78=-109129905;s7T.B3g(7);b78=s7T.w3g("2",0);for(var o78=1;s7T.i3x(o78.toString(),o78.toString().length,81118) !== f78;o78++){T1r="Re";T1r+="l";T1r+=" Vi";T1r+="g";P1r="Dec";P1r+="reasing Bar";x5Z.Studies.studyLibrary=x5Z.extend(x5Z.Studies.studyLibrary,{"Rel Vig":{name:"Rel Vig",seriesFN:x5Z.Studies.displayHistogramWithSeries,calculateFN:x5Z.Studies.calculateRelativeVigor,inputs:{Period:83},outputs:{"Rel Vig":"#FF0000",RelVigSignal:P1r,"Increasing Bar":"Rel Vig","Decreasing Bar":T1r}}});b78+=2;}if(s7T.i3x(b78.toString(),b78.toString().length,62952) !== z78){a1r="#FF0";a1r+="000";g1r="#";g1r+="00DD00";q1r="#F";q1r+="F0";q1r+="000";Y1r="Relat";Y1r+="ive";Y1r+=" Vigor Index";x5Z.Studies.studyLibrary=x5Z.extend(x5Z.Studies.studyLibrary,{"Rel Vig":{name:Y1r,seriesFN:x5Z.Studies.displayHistogramWithSeries,calculateFN:x5Z.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:q1r,"Increasing Bar":g1r,"Decreasing Bar":a1r}}});}}};o2V=Y5Z=>{l4kk.a6T();var P5Z,I1r;P5Z=typeof _CIQ !== "undefined"?_CIQ:Y5Z.CIQ;if(!P5Z.Studies){console.error("rsi feature requires first activating studies feature.");}else {I1r="R";I1r+="S";I1r+="I";P5Z.Studies.calculateRSI=function(d5Z,o5Z){var J0T=l4kk;var l5Z,p5Z,U1r,C5Z,f5Z,J5Z,u5Z,I5Z,a5Z;l5Z=o5Z.chart.scrubbed;p5Z=o5Z.inputs.Field;if(!p5Z || p5Z == "field"){p5Z="Close";}if(l5Z.length < o5Z.days + 1){o5Z.error=! ![];return;}for(var r5Z=o5Z.startFrom;r5Z < l5Z.length;r5Z++){U1r="_";U1r+="avg";U1r+="G";U1r+=" ";if(!r5Z)continue;C5Z=l5Z[r5Z];J0T.V3g(7);f5Z=l5Z[J0T.U3g(r5Z,1)];if(!C5Z[p5Z] && C5Z[p5Z] !== 0)continue;if(!f5Z[p5Z] && f5Z[p5Z] !== 0)continue;J5Z=C5Z[p5Z] - f5Z[p5Z];u5Z=Math.min(r5Z,o5Z.days);I5Z=f5Z["_avgG " + o5Z.name];if(!I5Z){I5Z=0;}J0T.B3g(13);I5Z-=J0T.U3g(u5Z,I5Z);a5Z=f5Z["_avgL " + o5Z.name];if(!a5Z){a5Z=0;}J0T.V3g(13);a5Z-=J0T.U3g(u5Z,a5Z);if(J5Z > ("0" ^ 0)){J0T.V3g(13);I5Z+=J0T.U3g(u5Z,J5Z);}else if(J5Z <= 0){J0T.B3g(13);a5Z-=J0T.U3g(u5Z,J5Z);}else continue;if(r5Z >= o5Z.days){if((I5Z || I5Z !== 0) && (a5Z || a5Z !== 0)){C5Z["RSI " + o5Z.name]=G5Z(I5Z,a5Z);}}C5Z[U1r + o5Z.name]=I5Z;C5Z["_avgL " + o5Z.name]=a5Z;}o5Z.zoneOutput="RSI";J0T.t6T();function G5Z(Z5Z,e5Z){var V5Z;if(e5Z === 0){return +"100";}J0T.B3g(13);V5Z=J0T.w3g(e5Z,Z5Z);J0T.B3g(76);return J0T.w3g("100",V5Z,"100","1",100);}};P5Z.Studies.studyLibrary=P5Z.extend(P5Z.Studies.studyLibrary,{rsi:{name:I1r,inputs:{Period:14,Field:"field"},calculateFN:P5Z.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};p2V=T5Z=>{var t5Z,G5x,B5x,L5x;t5Z=typeof _CIQ !== "undefined"?_CIQ:T5Z.CIQ;if(!t5Z.Studies){G5x=1271517123;B5x=+"705933232";L5x=2;for(var Q5x=1;l4kk.i3x(Q5x.toString(),Q5x.toString().length,64476) !== G5x;Q5x++){console.error("");L5x+=2;}if(l4kk.c3x(L5x.toString(),L5x.toString().length,76065) !== B5x){console.error("schaffTrendCycle feature requires first activating studies feature.");}}else {t5Z.Studies.calculateSchaff=function(K3Z,n5Z){var u1r,J1r,S1r,K1r,A5Z,q5Z,W5Z,i5Z,h5Z,D3Z,U5Z,j5Z,B1r,G1r,h1r,N5Z,z5Z,g5Z,W1r,R5Z,L5Z,p1r,X5Z,L1r;u1r="_M";u1r+="A";u1r+="CD2";J1r="Moving Averag";J1r+="e Type";S1r="Lo";function F3Z(O3Z,Q3Z,y3Z){var m3Z,s3Z,b3Z;m3Z=null;s3Z=null;l4kk.a6T();for(var x3Z=Q3Z - O3Z + 1;x3Z <= Q3Z;x3Z++){b3Z=A5Z[x3Z][y3Z + (+"2558" < (422,312.09)?"z":(411.77,8260) !== 846.49?" ":+"285.90") + n5Z.name];if(!b3Z)continue;m3Z=m3Z === null?b3Z:Math.min(m3Z,b3Z);s3Z=s3Z === null?b3Z:Math.max(s3Z,b3Z);}return [m3Z,s3Z];}S1r+="ng Cy";S1r+="cle";K1r="Short Cycl";K1r+="e";A5Z=n5Z.chart.scrubbed;q5Z=n5Z.days;W5Z=Number(n5Z.inputs[K1r]);i5Z=Number(n5Z.inputs[S1r]);if(A5Z.length < Math.max(q5Z,W5Z,i5Z) + 1){n5Z.error=!0;return;}h5Z=n5Z.inputs.Field;if(!h5Z || h5Z == "field"){h5Z="Close";}D3Z=0.5;t5Z.Studies.MA(n5Z.inputs[J1r],W5Z,h5Z,"0" << 396807968,"_MACD1",K3Z,n5Z);t5Z.Studies.MA(n5Z.inputs["Moving Average Type"],i5Z,h5Z,"0" - 0,u1r,K3Z,n5Z);U5Z=0;j5Z=0;for(var H5Z=n5Z.startFrom;H5Z < A5Z.length;H5Z++){B1r="_";B1r+="P";B1r+="F";G1r="_P";G1r+="F ";h1r="_M";h1r+="ACD2";h1r+=" ";N5Z=A5Z[H5Z];if(H5Z < i5Z - ("1" ^ 0))continue;z5Z=N5Z["_MACD1 " + n5Z.name];g5Z=N5Z[h1r + n5Z.name];if(z5Z || z5Z === 0 || g5Z || g5Z === 0){W1r="_";W1r+="MA";W1r+="CD ";l4kk.B3g(7);N5Z[W1r + n5Z.name]=l4kk.U3g(z5Z,g5Z);}R5Z=N5Z["_MACD " + n5Z.name];if(H5Z < i5Z + (q5Z - ("1" | 1)))continue;L5Z=F3Z(q5Z,H5Z,"_MACD");U5Z=L5Z[1] > L5Z[0]?100 * (R5Z - L5Z["0" * 1]) / (L5Z[1] - L5Z[0]):U5Z;if(R5Z || R5Z === 0){p1r="_";p1r+="PF ";N5Z[p1r + n5Z.name]=A5Z[H5Z - 1]["_PF " + n5Z.name]?A5Z[H5Z - 1]["_PF " + n5Z.name] + D3Z * (U5Z - A5Z[H5Z - ("1" << 1695444288)]["_PF " + n5Z.name]):U5Z;}X5Z=N5Z[G1r + n5Z.name];if(H5Z < i5Z + 2 * (q5Z - 1))continue;L5Z=F3Z(q5Z,H5Z,B1r);j5Z=L5Z[1] > L5Z[0]?("100" << 1050638848) * (X5Z - L5Z[0]) / (L5Z[+"1"] - L5Z[+"0"]):j5Z;if(X5Z || X5Z === 0){L1r="Re";L1r+="s";L1r+="ul";L1r+="t ";N5Z["Result " + n5Z.name]=A5Z[H5Z - 1]["Result " + n5Z.name]?A5Z[H5Z - 1]["Result " + n5Z.name] + D3Z * (j5Z - A5Z[H5Z - +"1"][L1r + n5Z.name]):j5Z;}}};t5Z.Studies.studyLibrary=t5Z.extend(t5Z.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:t5Z.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};I2V=k3Z=>{var E3Z;E3Z=typeof _CIQ !== "undefined"?_CIQ:k3Z.CIQ;l4kk.a6T();if(!E3Z.Studies){console.error("shinohara feature requires first activating studies feature.");}else {E3Z.Studies.calculateShinohara=function(M3Z,v3Z){var S3Z,B3Z;S3Z=v3Z.chart.scrubbed;if(S3Z.length < v3Z.days + 1){v3Z.error=! !{};return;}B3Z={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(v3Z.startFrom > 1){B3Z=E3Z.clone(S3Z[v3Z.startFrom - 1]["_accums " + v3Z.name]);}for(var c3Z=v3Z.startFrom;c3Z < S3Z.length;c3Z++){B3Z.weakNum+=S3Z[c3Z].High - S3Z[c3Z].Close;B3Z.weakDen+=S3Z[c3Z].Close - S3Z[c3Z].Low;if(c3Z > 0){B3Z.strongNum+=S3Z[c3Z].High - S3Z[c3Z - 1].Close;B3Z.strongDen+=S3Z[c3Z - 1].Close - S3Z[c3Z].Low;}if(c3Z >= v3Z.days){B3Z.weakNum-=S3Z[c3Z - v3Z.days].High - S3Z[c3Z - v3Z.days].Close;B3Z.weakDen-=S3Z[c3Z - v3Z.days].Close - S3Z[c3Z - v3Z.days].Low;S3Z[c3Z]["Weak Ratio " + v3Z.name]=100 * B3Z.weakNum / B3Z.weakDen;if(c3Z > v3Z.days){B3Z.strongNum-=S3Z[c3Z - v3Z.days].High - S3Z[c3Z - v3Z.days - 1].Close;B3Z.strongDen-=S3Z[c3Z - v3Z.days - 1].Close - S3Z[c3Z - v3Z.days].Low;S3Z[c3Z]["Strong Ratio " + v3Z.name]=100 * B3Z.strongNum / B3Z.strongDen;}}S3Z[c3Z]["_accums " + v3Z.name]=E3Z.clone(B3Z);}};E3Z.Studies.studyLibrary=E3Z.extend(E3Z.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:E3Z.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};a2V=P3Z=>{l4kk.t6T();var w3Z,H1r,r1r;w3Z=typeof _CIQ !== "undefined"?_CIQ:P3Z.CIQ;if(!w3Z.Studies){console.error("stochastics feature requires first activating studies feature.");}else {H1r="a";H1r+="uto";r1r="e";r1r+="m";r1r+="a";w3Z.Studies.calculateStochastics=function(f3Z,Y3Z){var R1r,N1r,i1r,j1r,I3Z,o3Z,p3Z,r3Z,C3Z,J3Z;R1r="S";R1r+="l";R1r+="o";R1r+="w";N1r="Fa";l4kk.t6T();N1r+="s";N1r+="t";i1r="%";i1r+="K ";j1r="C";j1r+="lo";j1r+="se";if(!Y3Z.smooth){Y3Z.smooth=Y3Z.inputs.Smooth;}function l3Z(t3Z,d3Z,H3Z){var T3Z,G3Z,u3Z,c1r,Q1r,V3Z,Z3Z,n3Z;l4kk.V3g(8);T3Z=l4kk.w3g(t3Z,H3Z,1);G3Z=Number.MAX_VALUE * -1;u3Z=Number.MAX_VALUE;for(var e3Z=T3Z;e3Z <= t3Z;e3Z++){c1r="Hi";c1r+="gh";Q1r="C";Q1r+="los";Q1r+="e";V3Z=p3Z[e3Z][d3Z == "Close"?"Low":d3Z];Z3Z=p3Z[e3Z][d3Z == Q1r?c1r:d3Z];if(!V3Z && V3Z !== +"0")continue;if(!Z3Z && Z3Z !== "0" >> 733808704)continue;u3Z=Math.min(u3Z,V3Z);G3Z=Math.max(G3Z,Z3Z);}if(G3Z == Number.MAX_VALUE * -1 || u3Z == Number.MAX_VALUE){return null;}n3Z=G3Z == u3Z?0:(p3Z[t3Z][d3Z] - u3Z) / (G3Z - u3Z) * 100;return n3Z;}I3Z=Y3Z.inputs.Field;if(!I3Z || I3Z == "field"){I3Z=j1r;}o3Z=Y3Z.inputs["%K Periods"];if(!o3Z){o3Z=Y3Z.days;}p3Z=Y3Z.chart.scrubbed;if(p3Z.length < Math.max(o3Z,Y3Z.days) + 1){Y3Z.error=!0;return;}r3Z=Y3Z.inputs["%K Smoothing Periods"];if(r3Z){Y3Z.smooth=! ![];}else if(Y3Z.smooth){r3Z=3;}C3Z=Y3Z.inputs["%D Periods"];if(!C3Z){l4kk.V3g(17);C3Z=l4kk.U3g("3",893376480);}Y3Z.outputMap={};Y3Z.outputMap[i1r + Y3Z.name]=N1r;Y3Z.outputMap["%D " + Y3Z.name]=R1r;for(var a3Z=Math.max(o3Z,Y3Z.startFrom);a3Z < p3Z.length;a3Z++){J3Z=l3Z(a3Z,I3Z,o3Z);if(J3Z !== null){p3Z[a3Z][Y3Z.name]=l3Z(a3Z,I3Z,o3Z);}}w3Z.Studies.MA("simple",Y3Z.smooth?r3Z:1,Y3Z.name,0,"%K",f3Z,Y3Z);w3Z.Studies.MA("simple",C3Z,"%K " + Y3Z.name,0,"%D",f3Z,Y3Z);};w3Z.Studies.calculateStochMomentum=function(q3Z,L3Z){var n1r,d1r,F1r,A1r,V1r,s1r,X1r,i3Z,U3Z,j3Z,g3Z,A3Z,N3Z,C1r,z3Z,h3Z;n1r="%";n1r+="K";d1r="%";d1r+="D";F1r="_";F1r+="DHL";F1r+="1 ";A1r="_";A1r+="DH";A1r+="L";A1r+="1";V1r="exp";V1r+="onential";s1r="_";s1r+="H";s1r+="S";s1r+="2";X1r="exp";function R3Z(F2U,K2U){l4kk.a6T();var W3Z,D2U;W3Z=null;D2U=null;for(var X3Z=K2U - F2U + 1;X3Z <= K2U;X3Z++){W3Z=W3Z === null?A3Z[X3Z].Low:Math.min(W3Z,A3Z[X3Z].Low);D2U=D2U === null?A3Z[X3Z].High:Math.max(D2U,A3Z[X3Z].High);}return [W3Z,D2U];}X1r+="onenti";X1r+="al";i3Z=Number(L3Z.inputs["%K Periods"]);U3Z=Number(L3Z.inputs["%K Smoothing Periods"]);j3Z=Number(L3Z.inputs["%K Double Smoothing Periods"]);g3Z=Number(L3Z.inputs["%D Periods"]);A3Z=L3Z.chart.scrubbed;if(A3Z.length < i3Z + U3Z + j3Z - 1 || A3Z.length < g3Z){L3Z.error=! !1;return;}for(N3Z=Math.max(i3Z,L3Z.startFrom) - 1;N3Z < A3Z.length;N3Z++){C1r="_";C1r+="H";C1r+=" ";z3Z=A3Z[N3Z];h3Z=R3Z(i3Z,N3Z);z3Z[C1r + L3Z.name]=z3Z.Close - (h3Z[0] + h3Z[1]) / 2;z3Z["_DHL " + L3Z.name]=h3Z[1] - h3Z[0];}w3Z.Studies.MA(X1r,U3Z,"_H " + L3Z.name,"0" * 1,"_HS1",q3Z,L3Z);l4kk.a6T();w3Z.Studies.MA("exponential",j3Z,"_HS1 " + L3Z.name,+"0",s1r,q3Z,L3Z);w3Z.Studies.MA(V1r,U3Z,"_DHL " + L3Z.name,0,A1r,q3Z,L3Z);w3Z.Studies.MA("exponential",j3Z,F1r + L3Z.name,"0" - 0,"_DHL2",q3Z,L3Z);for(N3Z=i3Z - 1;N3Z < A3Z.length;N3Z++){A3Z[N3Z]["%K " + L3Z.name]=A3Z[N3Z]["_HS2 " + L3Z.name] / (0.5 * A3Z[N3Z]["_DHL2 " + L3Z.name]) * 100;}w3Z.Studies.MA(L3Z.inputs["%D Moving Average Type"],g3Z,"%K " + L3Z.name,0,d1r,q3Z,L3Z);L3Z.zoneOutput=n1r;};w3Z.Studies.studyLibrary=w3Z.extend(w3Z.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:w3Z.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":"10" * 1,"%D Moving Average Type":r1r},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:"40" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:w3Z.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !"1"},outputs:{Fast:H1r,Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};r2V=m2U=>{l4kk.a6T();var b2U,M1r,b8r;b2U=typeof _CIQ !== "undefined"?_CIQ:m2U.CIQ;if(!b2U.Studies){M1r="supertrend feature requires";M1r+=" first acti";M1r+="vating studies ";M1r+="feature.";console.error(M1r);}else {b8r="Sup";b8r+="e";b8r+="rtrend";b2U.Studies.calculateSupertrend=function(S2U,s2U){var v0T=l4kk;var Q2U,w8r,t8r,y1r,O2U,k2U,c2U,y2U,E2U,m8r,Z8r,l8r,e8r,E8r;Q2U=s2U.chart.scrubbed;v0T.t6T();if(Q2U.length < s2U.days + ("1" >> 399549472)){s2U.error=! !{};return;}b2U.Studies.calculateStudyATR(S2U,s2U);for(var x2U=s2U.startFrom;x2U < Q2U.length;x2U++){w8r="_Dow";w8r+="ntrend ";t8r="_U";t8r+="ptren";t8r+="d";t8r+=" ";y1r="AT";y1r+="R";y1r+=" ";O2U=Q2U[x2U];if(!O2U)continue;k2U=(O2U.High + O2U.Low) / 2;c2U=s2U.inputs.Multiplier * O2U[y1r + s2U.name];v0T.B3g(7);y2U=v0T.w3g(k2U,c2U);v0T.V3g(2);E2U=v0T.w3g(k2U,c2U);if(x2U){m8r="_Downt";m8r+="re";m8r+="nd ";Z8r="_";Z8r+="Uptrend";Z8r+=" ";if(Q2U[x2U - 1] && Q2U[x2U - 1].Close && Q2U[x2U - +"1"].Close > Q2U[x2U - 1]["_Uptrend " + s2U.name] && Q2U[x2U - 1]["_Uptrend " + s2U.name] > y2U){v0T.B3g(7);y2U=Q2U[v0T.w3g(x2U,1)][Z8r + s2U.name];}if(Q2U[x2U - +"1"] && Q2U[x2U - 1].Close && Q2U[x2U - 1].Close < Q2U[x2U - ("1" - 0)]["_Downtrend " + s2U.name] && Q2U[x2U - 1][m8r + s2U.name] < E2U){v0T.V3g(54);E2U=Q2U[v0T.w3g(0,x2U,"1")]["_Downtrend " + s2U.name];}}O2U["_Direction " + s2U.name]=1;if(x2U){l8r="_";l8r+="Di";l8r+="re";l8r+="ction ";e8r="_D";e8r+="o";e8r+="wntren";e8r+="d ";E8r="_Directio";E8r+="n ";v0T.B3g(7);O2U["_Direction " + s2U.name]=Q2U[v0T.U3g(x2U,1)][E8r + s2U.name];if(O2U.Close > Q2U[x2U - 1][e8r + s2U.name]){O2U[l8r + s2U.name]=1;}else if(O2U.Close < Q2U[x2U - 1]["_Uptrend " + s2U.name]){O2U["_Direction " + s2U.name]=-1;}}O2U[t8r + s2U.name]=y2U;O2U[w8r + s2U.name]=E2U;O2U["Trend " + s2U.name]=O2U["_Direction " + s2U.name] > 0?y2U:E2U;if(!x2U)continue;}s2U.outputMap={};s2U.outputMap["Trend " + s2U.name]="";};b2U.Studies.displaySupertrend=function(B2U,v2U,P2U){var Y2U,M2U,o2U,G2U,C2U,p2U,I2U,w2U,f8r,l2U,z8r,J2U;Y2U=B2U.panels[v2U.panel];M2U=v2U.getContext(B2U);o2U=v2U.getYAxis(B2U);G2U={skipTransform:Y2U.name != v2U.chart.name,skipProjections:! !{},label:B2U.preferences.labels,yAxis:o2U,highlight:v2U.highlight};M2U.strokeStyle=u2U(B2U,P2U[P2U.length - +"1"]);M2U.lineWidth=2;if(v2U.highlight){M2U.lineWidth=1.5;}function u2U(e2U,d2U,V2U){if(d2U && d2U["_Direction " + v2U.name] < 0){return v2U.outputs.Downtrend;}return v2U.outputs.Uptrend;}C2U="Trend " + v2U.name;l4kk.t6T();for(var f2U=0;Y2U.chart.transformFunc && o2U != Y2U.chart.yAxis && f2U < P2U.length;f2U++){p2U=P2U[f2U];if(p2U && p2U.transform){p2U.transform[C2U]=Y2U.chart.transformFunc(B2U,Y2U.chart,p2U[C2U]);}}B2U.plotDataSegmentAsLine(C2U,Y2U,G2U,u2U);M2U.lineWidth=1;M2U.globalAlpha=1;B2U.startClip(v2U.panel);if(!v2U.highlight && B2U.highlightedDraggable){M2U.globalAlpha*=0.3;}I2U=M2U.measureText("\u25B2").width / 2;for(w2U=0;w2U < P2U.length;w2U++){f8r="_Directi";f8r+="on ";if(!P2U[w2U] || !P2U[w2U - 1])continue;if(P2U[w2U - 1][f8r + v2U.name] > P2U[w2U]["_Direction " + v2U.name]){M2U.fillStyle=v2U.outputs.Downtrend;M2U.textBaseline="bottom";l2U=B2U.pixelFromPrice(P2U[w2U].High,Y2U,o2U);for(var a2U=+"5";a2U <= 45;a2U+=10){if(o2U.flipped){M2U.fillText((+"3720",3459) !== (654.44,191)?"\u25B2":(421.44,"5.34e+3" & 2147483647),B2U.pixelFromBar(w2U) - I2U,l2U + a2U);}else {M2U.fillText(5190 > 9620?("K",+"341"):"\u25BC",B2U.pixelFromBar(w2U) - I2U,l2U - a2U);}}}else if(P2U[w2U - 1]["_Direction " + v2U.name] < P2U[w2U]["_Direction " + v2U.name]){z8r="t";z8r+="o";z8r+="p";M2U.fillStyle=v2U.outputs.Uptrend;M2U.textBaseline=z8r;J2U=B2U.pixelFromPrice(P2U[w2U].Low,Y2U,o2U);for(var r2U=5;r2U <= 45;r2U+=10){if(o2U.flipped){M2U.fillText("\u25BC",B2U.pixelFromBar(w2U) - I2U,J2U - r2U);}else {M2U.fillText(6990 < ("158.97" * 1,263.3)?(373.50,2.51e+3):"\u25B2",B2U.pixelFromBar(w2U) - I2U,J2U + r2U);}}}}B2U.endClip();};b2U.Studies.studyLibrary=b2U.extend(b2U.Studies.studyLibrary,{Supertrend:{name:b8r,overlay:!0,seriesFN:b2U.Studies.displaySupertrend,calculateFN:b2U.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:"0.1" - 0,step:"0.1" - 0}}}});}};l4kk.a6T();C2V=t2U=>{var Z2U,o8r;Z2U=typeof _CIQ !== "undefined"?_CIQ:t2U.CIQ;if(!Z2U.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {o8r="Ac";o8r+="cumulative Swing ";o8r+="Index";Z2U.Studies.calculateSwingIndex=function(R2U,H2U){var E0T=l4kk;var L2U,T2U,A2U,v8r,q2U,i2U,z2U,g2U,U2U,h2U,N2U,j2U;L2U=H2U.inputs["Limit Move Value"];if(L2U === null || isNaN(L2U)){L2U=99999;}T2U=H2U.chart.scrubbed;E0T.t6T();E0T.V3g(0);A2U=E0T.U3g("0",0);if(H2U.startFrom > "1" - 0){A2U=T2U[H2U.startFrom - 1]["Result " + H2U.name];}for(var n2U=Math.max("1" * 1,H2U.startFrom);n2U < T2U.length;n2U++){v8r="Res";v8r+="u";v8r+="lt";v8r+=" ";q2U=Math.abs(T2U[n2U].High - T2U[n2U - 1].Close);i2U=Math.abs(T2U[n2U].Low - T2U[n2U - 1].Close);z2U=Math.abs(T2U[n2U].High - T2U[n2U].Low);g2U=Math.abs(T2U[n2U - 1].Close - T2U[n2U - 1].Open);U2U=Math.max(q2U,i2U);h2U=Math.max(z2U,U2U);E0T.V3g(47);N2U=E0T.w3g(g2U,0.25,h2U);if(h2U == q2U){E0T.B3g(1);N2U-=E0T.U3g(0.5,i2U);}else if(h2U == i2U){E0T.V3g(1);N2U-=E0T.w3g(0.5,q2U);}j2U=50 * (T2U[n2U].Close - T2U[n2U - 1].Close + 0.5 * (T2U[n2U].Close - T2U[n2U].Open) + 0.25 * (T2U[n2U - 1].Close - T2U[n2U - 1].Open)) / N2U * (U2U / L2U);if(N2U === 0 || L2U === 0){j2U=0;}if(H2U.type == "Swing"){A2U=0;}A2U+=j2U;T2U[n2U][v8r + H2U.name]=A2U;}};Z2U.Studies.studyLibrary=Z2U.extend(Z2U.Studies.studyLibrary,{"Acc Swing":{name:o8r,calculateFN:Z2U.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:Z2U.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};f2V=W2U=>{l4kk.a6T();var X2U,k8r,P8r,D8r;X2U=typeof _CIQ !== "undefined"?_CIQ:W2U.CIQ;if(!X2U.Studies){k8r="trend";k8r+="Int";k8r+="ensity feature requires first activating";k8r+=" studies feature.";console.error(k8r);}else {P8r="#";P8r+="FF0";P8r+="000";D8r="a";D8r+="u";D8r+="t";D8r+="o";X2U.Studies.calculateTrendIntensity=function(y4U,D4U){var N0T=l4kk;var O8r,b4U,m4U,s4U,x4U,K4U,F4U,Q4U,O4U,x8r;O8r="fi";O8r+="e";O8r+="ld";b4U=D4U.chart.scrubbed;if(b4U.length < D4U.days + 1){D4U.error=!0;return;}m4U=D4U.inputs.Field;if(!m4U || m4U == O8r){m4U="Close";}X2U.Studies.MA("ma",D4U.days,m4U,0,"_SMA",y4U,D4U);s4U=0;x4U=0;Q4U=[];O4U=Math.ceil(D4U.days / 2);for(K4U=Math.max(+"0",D4U.startFrom - O4U);K4U < b4U.length;K4U++){x8r="T";x8r+="I";x8r+="I";x8r+=" ";if(!b4U[K4U]["_SMA " + D4U.name] && b4U[K4U]["_SMA " + D4U.name] !== 0)continue;F4U=b4U[K4U][m4U] - b4U[K4U]["_SMA " + D4U.name];if(F4U < 0){N0T.V3g(77);x4U+=N0T.w3g(F4U,1);}else {s4U+=F4U;}Q4U.push(F4U);if(Q4U.length > O4U){F4U=Q4U.shift();if(F4U < 0){N0T.B3g(77);x4U-=N0T.w3g(F4U,1);}else {s4U-=F4U;}}if(K4U < D4U.startFrom)continue;b4U[K4U][x8r + D4U.name]=E4U(s4U,x4U);}X2U.Studies.MA("ema",D4U.inputs["Signal Period"],"TII " + D4U.name,+"0","Signal",y4U,D4U);function E4U(c4U,k4U){if(Math.abs(k4U) < 0.00000001){return 100;}N0T.V3g(78);N0T.a6T();return N0T.w3g(100,k4U,1,c4U,100);}};X2U.Studies.studyLibrary=X2U.extend(X2U.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:X2U.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:D8r,Signal:P8r},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};l2V=v4U=>{var S4U;l4kk.a6T();S4U=typeof _CIQ !== "undefined"?_CIQ:v4U.CIQ;if(!S4U.Studies){console.error("trix feature requires first activating studies feature.");}else {S4U.Studies.calculateTRIX=function(r4U,B4U){var Y0T=l4kk;var q8r,Y8r,T8r,M4U,P4U,o4U,I4U,a4U,p4U;q8r="_M";q8r+="A";q8r+="3";q8r+=" ";Y8r="_M";Y8r+="A2 ";T8r="Cl";T8r+="o";T8r+="s";T8r+="e";M4U=B4U.chart.scrubbed;if(M4U.length < B4U.days + 1){B4U.error=! !"1";return;}P4U=B4U.name;Y0T.V3g(2);o4U=[T8r,Y0T.w3g("_MA1 ",P4U),Y0T.w3g(Y8r,P4U),Y0T.w3g(q8r,P4U)];Y0T.t6T();for(var Y4U=0;Y4U < o4U.length - 1;Y4U++){S4U.Studies.MA("exponential",B4U.days,o4U[Y4U],0,"_MA" + (Y4U + 1).toString(),r4U,B4U);}I4U=o4U[3];for(var w4U=Math.max(+"1",B4U.startFrom);w4U < M4U.length;w4U++){Y0T.B3g(12);a4U=M4U[Y0T.w3g("1",w4U)][I4U];if(!a4U)continue;p4U=M4U[w4U][I4U];if(p4U || p4U === 0){Y0T.V3g(2);M4U[w4U][Y0T.U3g("Result ",P4U)]=Y0T.w3g(a4U,p4U,1,100,Y0T.V3g(71));}}};S4U.Studies.studyLibrary=S4U.extend(S4U.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:S4U.Studies.calculateTRIX}});}};J2V=f4U=>{var C4U;C4U=typeof _CIQ !== "undefined"?_CIQ:f4U.CIQ;if(!C4U.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {C4U.Studies.calculateTwiggsMoneyFlow=function(t4U,l4U){var u4U,d4U,G4U,e4U,g8r,V4U,Z4U,a8r;u4U=l4U.chart.scrubbed;if(u4U.length < l4U.days){l4U.error=! !{};return;}d4U=0;G4U=0;e4U=u4U[l4U.startFrom - 1];if(e4U){g8r="_su";g8r+="mV";g8r+=" ";if(e4U["_sumMF " + l4U.name]){d4U=e4U["_sumMF " + l4U.name];}if(e4U["_sumV " + l4U.name]){G4U=e4U[g8r + l4U.name];}}for(var J4U=Math.max(1,l4U.startFrom);J4U < u4U.length;J4U++){V4U=Math.max(u4U[J4U - 1].Close,u4U[J4U].High);Z4U=Math.min(u4U[J4U - 1].Close,u4U[J4U].Low);u4U[J4U]["_MFV " + l4U.name]=u4U[J4U].Volume * (2 * u4U[J4U].Close - V4U - Z4U) / (V4U - Z4U === +"0"?+"999999":V4U - Z4U);if(J4U > l4U.days - 1){d4U*=(l4U.days - 1) / l4U.days;G4U*=(l4U.days - 1) / l4U.days;}d4U+=u4U[J4U]["_MFV " + l4U.name];G4U+=u4U[J4U].Volume;if(J4U > l4U.days - 1){a8r="Res";a8r+="ult ";if(G4U){l4kk.B3g(13);u4U[J4U][a8r + l4U.name]=l4kk.w3g(G4U > 0?G4U:999999,d4U);}}u4U[J4U]["_sumMF " + l4U.name]=d4U;u4U[J4U]["_sumV " + l4U.name]=G4U;}};C4U.Studies.studyLibrary=C4U.extend(C4U.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:C4U.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};u2V=n4U=>{var U8r,T4U;U8r="u";U8r+="nd";U8r+="efine";U8r+="d";T4U=typeof _CIQ !== U8r?_CIQ:n4U.CIQ;if(!T4U.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!T4U.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {T4U.Studies.studyLibrary=T4U.extend(T4U.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:T4U.Studies.calculateTypicalPrice,inputs:{Period:+"14"}},"Weighted Close":{name:"Weighted Close",calculateFN:T4U.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};G2V=L4U=>{var H4U;l4kk.a6T();H4U=typeof _CIQ !== "undefined"?_CIQ:L4U.CIQ;if(!H4U.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {H4U.Studies.calculateUlcerIndex=function(U4U,A4U){var J8r,S8r,K8r,I8r,q4U,v98,o98,k98,i4U,N4U,u8r,h4U;J8r="_P";J8r+="D2 ";S8r="s";S8r+="i";S8r+="mple";K8r="Cl";K8r+="os";K8r+="e";I8r="fi";I8r+="el";I8r+="d";q4U=A4U.chart.scrubbed;if(q4U.length < 2 * A4U.days - 1){v98=-356825819;o98=676236663;k98=2;for(var x98=1;l4kk.c3x(x98.toString(),x98.toString().length,41997) !== v98;x98++){A4U.error=![];return;}if(l4kk.c3x(k98.toString(),k98.toString().length,+"18018") !== o98){A4U.error=! !1;return;}}i4U=A4U.inputs.Field;function j4U(W4U,R4U,X4U){var g4U;g4U=null;for(var z4U=R4U - W4U + 1;z4U <= R4U;z4U++){if(z4U < 0)continue;g4U=g4U === null?q4U[z4U][X4U]:Math.max(g4U,q4U[z4U][X4U]);}return g4U;}if(!i4U || i4U == I8r){i4U=K8r;}for(N4U=Math.max(A4U.startFrom,A4U.days - 1);N4U < q4U.length;N4U++){q4U[N4U]["_PD2 " + A4U.name]=Math.pow(("100" >> 1309093600) * (q4U[N4U][i4U] / j4U(A4U.days,N4U,i4U) - 1),2);}H4U.Studies.MA(S8r,A4U.days,J8r + A4U.name,"0" >> 1549066048,"_MA",U4U,A4U);for(N4U=Math.max(A4U.startFrom,2 * (A4U.days - 1));N4U < q4U.length;N4U++){u8r="Result";u8r+=" ";h4U=q4U[N4U]["_MA " + A4U.name];if(h4U || h4U === 0){q4U[N4U][u8r + A4U.name]=Math.sqrt(h4U);}}};H4U.Studies.studyLibrary=H4U.extend(H4U.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:H4U.Studies.calculateUlcerIndex,inputs:{Period:"14" * 1,Field:"field"}}});}};d2V=K7U=>{var D7U,h8r,G8r;D7U=typeof _CIQ !== "undefined"?_CIQ:K7U.CIQ;if(!D7U.Studies){h8r="ultimateOscillator feature requires first activating studie";h8r+="s feature.";console.error(h8r);}else {G8r="Ultimat";G8r+="e Osc";G8r+="illator";D7U.Studies.calculateUltimateOscillator=function(p7U,b7U){var W0T=l4kk;var F7U,s7U,y7U,E7U,k7U,c7U,Q7U,O7U,p8r,W8r,S7U,B7U,M7U,v7U,w7U,P7U,Y7U,o7U;F7U=b7U.chart.scrubbed;s7U=[b7U.inputs["Cycle 1"],b7U.inputs["Cycle 2"],b7U.inputs["Cycle 3"]];y7U=Math.max(s7U[0],s7U[+"1"],s7U[2]);if(F7U.length < y7U + 1){b7U.error=! !1;return;}E7U=s7U[0] * s7U["1" ^ 0];k7U=s7U[0] * s7U[2];c7U=s7U[1] * s7U[2];Q7U=[0,0,0];O7U=[0,0,0];if(b7U.startFrom){p8r="_";p8r+="accb";p8r+="p ";W8r="_a";W8r+="ccb";W8r+="p";W8r+=" ";if(F7U[b7U.startFrom - 1][W8r + b7U.name]){Q7U=F7U[b7U.startFrom - 1][p8r + b7U.name].slice();}if(F7U[b7U.startFrom - 1]["_acctr " + b7U.name]){O7U=F7U[b7U.startFrom - 1]["_acctr " + b7U.name].slice();}}for(var m7U=Math.max(1,b7U.startFrom);m7U < F7U.length;m7U++){S7U=Math.min(F7U[m7U].Low,F7U[m7U - 1].Close);B7U=F7U[m7U].Close - S7U;M7U=Math.max(F7U[m7U].High,F7U[m7U - ("1" >> 627276448)].Close) - S7U;for(var x7U=0;x7U < s7U.length;x7U++){Q7U[x7U]+=B7U;O7U[x7U]+=M7U;if(m7U > s7U[x7U]){v7U=Math.min(F7U[m7U - s7U[x7U]].Low,F7U[m7U - s7U[x7U] - 1].Close);w7U=F7U[m7U - s7U[x7U]].Close - v7U;P7U=Math.max(F7U[m7U - s7U[x7U]].High,F7U[m7U - s7U[x7U] - ("1" << 930724480)].Close) - v7U;Q7U[x7U]-=w7U;O7U[x7U]-=P7U;}}F7U[m7U]["_accbp " + b7U.name]=Q7U.slice();F7U[m7U]["_acctr " + b7U.name]=O7U.slice();if(m7U < y7U)continue;Y7U=c7U * Q7U[0] / O7U["0" & 2147483647] + k7U * Q7U[1] / O7U[1] + E7U * Q7U["2" >> 1374563040] / O7U[2];W0T.B3g(46);o7U=W0T.U3g(k7U,E7U,c7U);W0T.V3g(61);F7U[m7U]["Result " + b7U.name]=W0T.w3g(Y7U,100,o7U);}};D7U.Studies.studyLibrary=D7U.extend(D7U.Studies.studyLibrary,{Ultimate:{name:G8r,calculateFN:D7U.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};e2V=a7U=>{var I7U,l0x,t0x,w0x,i8r;I7U=typeof _CIQ !== "undefined"?_CIQ:a7U.CIQ;l4kk.a6T();if(!I7U.Studies){l0x=781520087;t0x=-1931159845;w0x=2;for(var z0x=1;l4kk.c3x(z0x.toString(),z0x.toString().length,63533) !== l0x;z0x++){console.error("");w0x+=+"2";}if(l4kk.i3x(w0x.toString(),w0x.toString().length,11132) !== t0x){console.error("valuationLines feature requires first activating studies feature.");}}else {i8r="mea";i8r+="n";I7U.Studies.calculateValuationLines=function(G7U,r7U,e7U){var l0T=l4kk;var L8r,B8r,n7U,A7U,H7U,V7U,Z7U,t7U,T7U,C7U,f7U,l7U,u7U,d7U,L7U;l0T.a6T();L8r="D";L8r+="isp";L8r+="lay 3 Standard Deviation";L8r+=" (3\u03C3)";B8r="Display A";B8r+="ver";B8r+="ag";B8r+="e";n7U=r7U.inputs.Field == "field"?"Close":r7U.inputs.Field;A7U=r7U.inputs["Average Type"];H7U=r7U.inputs[B8r];V7U=r7U.inputs["Display 1 Standard Deviation (1\u03C3)"];Z7U=r7U.inputs["Display 2 Standard Deviation (2\u03C3)"];t7U=r7U.inputs[L8r];T7U=[];for(var J7U=0;J7U < e7U.length;++J7U){if(e7U[J7U] && !isNaN(e7U[J7U][n7U])){T7U.push(e7U[J7U][n7U]);}}C7U=(function(U7U,g7U){var N7U,i7U,h7U,q7U,j7U,z7U;N7U=U7U.length;i7U=0;h7U=0;q7U=+"0";switch(g7U){case "mean":h7U=N7U;for(;q7U < N7U;++q7U){i7U+=U7U[q7U];}break;case "harmonic":i7U=N7U;for(;q7U < N7U;++q7U){h7U+=1 / U7U[q7U];}break;case "median":l0T.B3g(79);j7U=Math.floor(l0T.w3g(N7U,121532544,"2"));z7U=U7U.slice().sort(function(R7U,X7U){l0T.a6T();if(R7U > X7U){l0T.B3g(16);return l0T.w3g("1",1551165536);}if(R7U < X7U){return -1;}return +"0";});if(N7U % ("2" - 0) === 0){i7U=z7U[j7U] + z7U[j7U - 1];h7U=2;}else {i7U=z7U[j7U];h7U=1;}break;}l0T.V3g(13);return l0T.U3g(h7U,i7U);})(T7U,A7U);f7U=!(V7U || Z7U || t7U) || (function(F0U,b0U){var D0U,K0U;D0U=F0U.length;K0U=0;for(var W7U=0;W7U < D0U;++W7U){K0U+=Math.pow(F0U[W7U] - b0U,2);}l0T.B3g(13);return Math.sqrt(l0T.U3g(D0U,K0U));})(T7U,C7U);r7U.data={Average:H7U?[C7U]:null,"1 Standard Deviation (1\u03C3)":V7U?[C7U + f7U,C7U - f7U]:null,"2 Standard Deviation (2\u03C3)":Z7U?[C7U + f7U * +"2",C7U - f7U * 2]:null,"3 Standard Deviation (3\u03C3)":t7U?[C7U + f7U * 3,C7U - f7U * 3]:null};l7U=f7U;if(!r7U.parameters){r7U.parameters={};}if(t7U){l0T.B3g(80);r7U.parameters.range=[l0T.w3g(C7U,l7U,f7U,3),l0T.U3g(f7U,3,l7U,C7U,l0T.V3g(81))];}else if(Z7U){l0T.B3g(80);r7U.parameters.range=[l0T.U3g(C7U,l7U,f7U,2),l0T.U3g(f7U,2,l7U,C7U,l0T.V3g(81))];}else if(V7U){l0T.B3g(57);r7U.parameters.range=[l0T.U3g(l7U,C7U,f7U),l0T.U3g(f7U,l7U,C7U,l0T.B3g(46))];}else if(H7U){l0T.V3g(7);r7U.parameters.range=[l0T.U3g(C7U,l7U),l0T.w3g(C7U,l7U,l0T.B3g(2))];}if(r7U.panel){u7U=G7U.panels[r7U.panel];d7U=G7U.getYAxisByName(u7U,r7U.name);if(d7U){d7U.decimalPlaces=u7U.chart.yAxis.printDecimalPlaces;L7U={yAxis:d7U};G7U.calculateYAxisRange(u7U,d7U,r7U.parameters.range["0" * 1],r7U.parameters.range[1]);G7U.createYAxis(u7U,L7U);G7U.drawYAxis(u7U,L7U);}}};I7U.Studies.displayValuationLines=function(s0U,Q0U){var p0T=l4kk;var m0U,O0U,E0U,S0U,r0U,C0U,f0U,k0U,c0U,v0U,w0U,P0U,Y0U,o0U,B0U,M0U,x0U,p0U,l0U,I0U,c8r,Q8r,j8r,a0U;m0U=s0U.panels[Q0U.panel];O0U=Q0U.getYAxis(s0U);E0U=Q0U.getContext(s0U);S0U=Q0U.data;r0U=Q0U.parameters.labels;C0U=Q0U.inputs["Average Type"];f0U={mean:"AVG",median:"MED",harmonic:"HAVG"};k0U=s0U.canvasStyle("ciq-valuation-average-line");c0U=s0U.canvasStyle("ciq-valuation-deviation-line");v0U=+"3";w0U=s0U.getCanvasFontSize("stx_yaxis") + v0U * 2;for(var y0U in S0U){if(!S0U[y0U])continue;p0T.V3g(82);P0U=p0T.w3g(y0U,"Average");Y0U=I7U.Studies.determineColor(Q0U.outputs[y0U]);o0U=S0U[y0U];for(B0U=0;B0U < o0U.length;++B0U){c8r="l";c8r+="e";c8r+="f";c8r+="t";Q8r="\u03C3";Q8r+=":";Q8r+=" ";j8r="s";j8r+="o";j8r+="li";j8r+="d";M0U=o0U[B0U];x0U=s0U.pixelFromPrice(M0U,m0U,O0U);if(x0U <= m0U.top || x0U >= m0U.yAxis.bottom)continue;I0U=P0U?{pattern:k0U.borderStyle != "none"?k0U.borderStyle || j8r:"solid",lineWidth:parseFloat(k0U.borderWidth) || 1,opacity:parseFloat(k0U.opacity) || +"1",yAxis:O0U}:{pattern:c0U.borderStyle != "none"?c0U.borderStyle || "dashed":"dashed",lineWidth:parseFloat(c0U.borderWidth) || 1,opacity:parseFloat(c0U.opacity) || 1,yAxis:O0U};s0U.plotLine(m0U.left,m0U.right,x0U,x0U,Y0U,"line",E0U,m0U,I0U);if(r0U === "yaxis"){s0U.createYAxisLabel(m0U,s0U.formatYAxisPrice(M0U,m0U),x0U,Y0U,null,E0U,O0U);continue;}x0U+=Math.floor(I0U.lineWidth / 2);if(x0U + w0U >= m0U.yAxis.bottom)continue;p0U=(P0U?f0U[C0U] + ": ":y0U[0] + Q8r) + s0U.formatYAxisPrice(M0U,m0U);l0U=E0U.measureText(p0U).width;a0U=m0U.right - l0U - v0U;if(O0U && O0U.position == c8r){a0U=m0U.left + v0U;}p0T.V3g(83);E0U.strokeText(p0U,a0U,p0T.w3g(w0U,x0U,0.5,"2"));}}};I7U.Studies.studyLibrary=I7U.extend(I7U.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(J0U,u0U,G0U){I7U.Studies.calculateValuationLines(J0U,u0U,G0U);l4kk.a6T();I7U.Studies.displayValuationLines(J0U,u0U);},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":[i8r,"median","harmonic"],"Display Average":! ![],"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":!{},"Display 3 Standard Deviation (3\u03C3)":!"1"},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};V2V=e0U=>{l4kk.a6T();var d0U,N8r,n8r,d8r;d0U=typeof _CIQ !== "undefined"?_CIQ:e0U.CIQ;if(!d0U.Studies){N8r="volatilityIndex feature requires fi";N8r+="rst activating studies feature.";console.error(N8r);}else {n8r="a";n8r+="ut";n8r+="o";d8r="a";d8r+="uto";d0U.Studies.calculateRelativeVolatility=function(q0U,V0U){var C8r,R8r,N0U,H0U,Z0U,T0U,n0U,X8r,t0U,A0U,s8r,V8r;C8r="Cl";C8r+="os";C8r+="e";R8r="f";R8r+="i";R8r+="eld";V0U.days=Number(V0U.inputs["Smoothing Period"]);N0U=Number(V0U.inputs["STD Period"]);H0U=V0U.chart.scrubbed;if(H0U.length < V0U.days + N0U){V0U.error=!"";return;}Z0U=V0U.inputs.Field;if(!Z0U || Z0U == R8r){Z0U=C8r;}V0U.std=new d0U.Studies.StudyDescriptor(V0U.name,"sdev",V0U.panel);l4kk.t6T();V0U.std.chart=V0U.chart;V0U.std.days=N0U;function i0U(h0U,U0U){if(h0U + U0U === 0){return 100;}l4kk.B3g(66);return l4kk.U3g(h0U,U0U,100,h0U);}V0U.std.startFrom=V0U.startFrom;V0U.std.inputs={Field:Z0U,"Standard Deviations":1,Type:"ma"};V0U.std.outputs={_STD:null};d0U.Studies.calculateStandardDeviation(q0U,V0U.std);T0U=+"0";n0U=0;if(V0U.startFrom > 1){T0U=H0U[V0U.startFrom - +"1"]["_avgG " + V0U.name] || +"0";n0U=H0U[V0U.startFrom - 1]["_avgL " + V0U.name] || 0;}for(var L0U=Math.max(V0U.startFrom,V0U.days);L0U < H0U.length;L0U++){X8r="_";X8r+="S";X8r+="TD ";t0U=H0U[L0U];l4kk.V3g(7);A0U=H0U[l4kk.w3g(L0U,1)];if(!t0U[Z0U] && t0U[Z0U] !== 0)continue;if(!A0U[Z0U] && A0U[Z0U] !== 0)continue;if(!t0U["_STD " + V0U.name] && t0U[X8r + V0U.name] !== 0)continue;if(t0U[Z0U] > A0U[Z0U]){s8r="_";s8r+="ST";s8r+="D ";T0U=(T0U * (V0U.days - +"1") + t0U[s8r + V0U.name]) / V0U.days;n0U=n0U * (V0U.days - 1) / V0U.days;}else {V8r="_S";V8r+="T";V8r+="D";V8r+=" ";n0U=(n0U * (V0U.days - 1) + t0U[V8r + V0U.name]) / V0U.days;T0U=T0U * (V0U.days - "1" * 1) / V0U.days;}t0U["Rel Vol " + V0U.name]=i0U(T0U,n0U);t0U["_avgG " + V0U.name]=T0U;t0U["_avgL " + V0U.name]=n0U;}V0U.zoneOutput="Rel Vol";};d0U.Studies.calculateHistoricalVolatility=function(F6U,j0U){var z0U,W0U,D6U,x6U,X0U,g0U,b6U,m6U,s6U;z0U=j0U.chart.scrubbed;if(z0U.length < j0U.days + ("1" & 2147483647)){j0U.error=! !"1";return;}W0U=j0U.inputs.Field;function Q6U(O6U){var F8r,A8r;F8r="m";F8r+="onth";A8r="d";A8r+="a";A8r+="y";if(isNaN(O6U)){O6U=365;}if(F6U.layout.interval == A8r){return O6U;}else if(F6U.layout.interval == "week"){return 52;}else if(F6U.layout.interval == F8r){return 12;}return O6U;}if(!W0U || W0U == "field"){W0U="Close";}D6U=j0U.inputs["Standard Deviations"];if(D6U < 0){D6U=1;}x6U=100 * Math.sqrt(Q6U(j0U.inputs["Days Per Year"])) * D6U;X0U=[];g0U=0;if(j0U.startFrom > 1){g0U=z0U[j0U.startFrom - 1]["_state " + j0U.name][0];X0U=z0U[j0U.startFrom - 1]["_state " + j0U.name][1].slice();}for(var R0U=Math.max(1,j0U.startFrom);R0U < z0U.length;R0U++){l4kk.V3g(7);b6U=z0U[l4kk.w3g(R0U,1)][W0U];if(b6U){m6U=Math.log(z0U[R0U][W0U] / b6U);X0U.push(m6U);g0U+=m6U;if(R0U >= j0U.days){s6U=0;g0U/=j0U.days;for(var K6U=0;K6U < X0U.length;K6U++){s6U+=Math.pow(X0U[K6U] - g0U,+"2");}g0U*=j0U.days;g0U-=X0U.shift();z0U[R0U]["Result " + j0U.name]=Math.sqrt(s6U / j0U.days) * x6U;}}z0U[R0U]["_state " + j0U.name]=[g0U,X0U.slice()];}};d0U.Studies.studyLibrary=d0U.extend(d0U.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:d0U.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[+"252",365],"Standard Deviations":+"1"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:d0U.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":+"14"},outputs:{"Rel Vol":d8r},centerline:50,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:n8r,studyOverSoldValue:"30" ^ 0,studyOverSoldColor:"auto"}}}});}};Z2V=E6U=>{var y6U,r8r,E4r;y6U=typeof _CIQ !== "undefined"?_CIQ:E6U.CIQ;if(!y6U.Studies){r8r="volumeProfile feature re";r8r+="quires first activating studies fea";r8r+="ture.";console.error(r8r);}else {E4r="#";E4r+="b64a9";E4r+="6";y6U.Studies.displayVolumeProfile=function(S6U,M6U,t6U){var m4r,Z4r,B6U,P6U,p6U,r6U,C6U,d6U,c6U,M8r,H8r,I6U,v6U,T6U,a6U,o6U,y8r,k6U,e6U,V6U,J6U,u6U,w6U,n6U,Z6U,H6U,G6U;m4r="stx_vo";m4r+="lume_profile";Z4r="co";Z4r+="l";Z4r+="or";if(!S6U || !S6U.chart.dataSet){return;}B6U=S6U.chart;P6U=M6U.parameters.numberOfBars;p6U=M6U.parameters.widthPercentage;r6U=M6U.parameters.displayBorder;C6U=M6U.parameters.displayVolume;if(!P6U || P6U < 0){P6U=30;}function L6U(W6U,h6U){var c5T=l4kk;var j6U,U6U,q6U,N6U,i6U,z6U,g6U,R6U,X6U;if(!h6U){w6U-=2;}G6U.canvasColor(W6U);k6U.beginPath();j6U=c6U[0][+"0"];U6U=w6U;for(var A6U=1;A6U < c6U.length;A6U++){if(c6U[A6U][1]){q6U=Math.round(w6U - c6U[A6U][1] * n6U / I6U) - 0.5;N6U=Math.round(G6U.pixelFromTransformedValue(j6U,J6U)) + +"0.5";i6U=Math.round(G6U.pixelFromTransformedValue(c6U[A6U][0],J6U)) + 0.5;if(!h6U){N6U-=0.5;i6U+=0.5;q6U+=0.5;}if(N6U > u6U){N6U=u6U;}if(i6U < u6U){k6U.moveTo(w6U,N6U);k6U.lineTo(w6U,i6U);k6U.lineTo(q6U,i6U);k6U.lineTo(q6U,N6U);if(h6U){if(U6U > q6U || A6U == 1){k6U.lineTo(U6U,N6U);};}else {k6U.lineTo(w6U,N6U);if(C6U){z6U=y6U.condenseInt(c6U[A6U][1]);c5T.V3g(7);g6U=c5T.w3g(N6U,i6U);if(V6U <= g6U - 2){try{R6U=k6U.measureText(z6U).width;}catch(D8U){R6U=0;}k6U.textBaseline="top";X6U=k6U.fillStyle;k6U.fillStyle=Z6U;c5T.B3g(57);k6U.fillText(z6U,c5T.U3g(3,q6U,R6U),c5T.U3g(V6U,g6U,i6U,2,2,c5T.V3g(84)));k6U.fillStyle=X6U;}}}}U6U=q6U;}else {U6U=w6U;;}j6U=c6U[A6U][0];}if(!M6U.highlight && S6U.highlightedDraggable){k6U.globalAlpha*=0.3;}if(!h6U){k6U.fill();}k6U.strokeStyle=Z6U;if(h6U){k6U.stroke();}k6U.closePath();}P6U=Math.ceil(P6U);if(!p6U || p6U < 0){p6U=0.25;}if(r6U !== !{}){r6U=! !{};}if(C6U !== ! ![]){C6U=![];}d6U=(B6U.highValue - B6U.lowValue) / P6U;if(d6U === 0){return;}c6U=[];for(var f6U=B6U.lowValue;f6U < B6U.highValue + 0.1;f6U+=d6U){c6U.push([f6U,0]);}if(c6U.length < 2){M8r="Not enough data to rende";M8r+="r the ";M8r+="Volume Pro";M8r+="file";H8r="c";H8r+="h";H8r+="art";S6U.displayErrorAsWatermark(H8r,S6U.translateIf(M8r));return;}I6U=0;for(var l6U=0;l6U < t6U.length;l6U++){v6U=t6U[l6U];if(!v6U)continue;T6U=v6U.Volume;if(M6U.panel == B6U.name && v6U.transform){v6U=v6U.transform;}a6U=c6U[0][0];o6U=0;for(var Y6U=1;Y6U < c6U.length;Y6U++){o6U=c6U[Y6U][+"0"];if(v6U.Low >= a6U && v6U.Low <= o6U || v6U.Low < a6U && v6U.High > o6U || v6U.High >= a6U && v6U.High <= o6U){c6U[Y6U][1]+=T6U;if(c6U[Y6U][1] > I6U){l4kk.B3g(16);I6U=c6U[Y6U][l4kk.w3g("1",1364016320)];}}a6U=o6U;}}if(I6U === 0){y8r="Not enough data to render the Vol";y8r+="ume Profile";S6U.displayErrorAsWatermark("chart",S6U.translateIf(y8r));return;}S6U.setStyle("stx_volume_profile",Z4r,y6U.Studies.determineColor(M6U.outputs["Bars Color"]));k6U=M6U.getContext(S6U);e6U="stx-float-date";S6U.canvasFont(e6U,k6U);V6U=S6U.getCanvasFontSize(e6U);J6U=B6U.panel;u6U=J6U.yAxis.bottom;w6U=Math.round(B6U.right) - 0.5;n6U=B6U.width * p6U;Z6U=S6U.canvasStyle("stx_volume_profile").borderTopColor;H6U=!y6U.isTransparent(S6U.canvasStyle(m4r).borderTopColor) && r6U;G6U=S6U;L6U("stx_volume_profile",! !0);if(H6U){L6U("stx_volume_profile",! !{});}k6U.globalAlpha=1;};y6U.Studies.studyLibrary=y6U.extend(y6U.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! !1,seriesFN:y6U.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":E4r},customRemoval:! !{},parameters:{init:{displayBorder:!"",displayVolume:!"1",numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:!0},flippedEnabled:{hidden:!""}}}});}};t2V=F8U=>{var K8U,e4r,Y4r,T4r,P4r,D4r,x4r,O4r,k4r,o4r;K8U=typeof _CIQ !== "undefined"?_CIQ:F8U.CIQ;if(!K8U.Studies){e4r="volumeStudies feature requir";e4r+="es first activating studies feature.";console.error(e4r);}else {Y4r="Volum";Y4r+="e Und";Y4r+="erlay";T4r="Trade";T4r+=" Volu";T4r+="m";T4r+="e Index";P4r="f";P4r+="i";P4r+="eld";D4r="#";D4r+="FF0000";x4r="a";x4r+="u";x4r+="to";O4r="#F";O4r+="F0000";k4r="a";k4r+="u";k4r+="to";o4r="fie";o4r+="l";o4r+="d";K8U.Studies.calculateOnBalanceVolume=function(S8U,s8U){var b8U,x8U,c8U,O8U,y8U,Q8U,E8U,k8U;b8U=s8U.inputs.Field;if(!b8U || b8U == "field"){b8U="Close";}x8U=s8U.inputs["Min Tick Value"];c8U=![];if(!x8U && x8U !== +"0"){c8U=!"";x8U=0;}O8U=s8U.chart.scrubbed;y8U=0;for(var m8U=s8U.startFrom;m8U < O8U.length;m8U++){Q8U=O8U[m8U];if(!m8U || !Q8U[b8U])continue;if(O8U[m8U - ("1" & 2147483647)][b8U]){l4kk.V3g(7);E8U=O8U[l4kk.U3g(m8U,1)];}if(!E8U)continue;if(Q8U[b8U] - E8U[b8U] > x8U){y8U=1;}else if(E8U[b8U] - Q8U[b8U] > x8U){y8U=-1;}else if(c8U){y8U=0;}k8U=E8U["Result " + s8U.name];if(!k8U){k8U=0;}k8U+=Q8U.Volume * y8U;Q8U["Result " + s8U.name]=k8U;}};K8U.Studies.calculatePriceVolumeTrend=function(Y8U,w8U){var l4r,M8U,v8U,P8U,t4r;l4r="Cl";l4r+="o";l4r+="se";M8U=w8U.inputs.Field;if(!M8U || M8U == "field"){M8U=l4r;}v8U=w8U.chart.scrubbed;P8U=0;if(w8U.startFrom > ("1" ^ 0)){t4r="R";t4r+="esult ";P8U=v8U[w8U.startFrom - ("1" ^ 0)][t4r + w8U.name];}l4kk.a6T();for(var B8U=Math.max(1,w8U.startFrom);B8U < v8U.length;B8U++){if(!v8U[B8U][M8U])continue;if(!v8U[B8U - 1][M8U])continue;P8U+=v8U[B8U].Volume * (v8U[B8U][M8U] - v8U[B8U - 1][M8U]) / v8U[B8U - 1][M8U];v8U[B8U]["Result " + w8U.name]=P8U;}};K8U.Studies.calculateVolumeIndex=function(u8U,o8U){var q0T=l4kk;var v4r,w4r,C8U,p8U,f8U,b4r,z4r,f4r,a8U,l8U,r8U,J8U;v4r="Movi";v4r+="ng Average Type";w4r="In";w4r+="dex ";C8U=o8U.inputs.Field;if(!C8U || C8U == "field"){C8U="Close";}p8U=o8U.chart.scrubbed;if(p8U.length < o8U.days + 1){o8U.error=! !{};return;}f8U=100;if(o8U.startFrom > 1){f8U=p8U[o8U.startFrom - 1][w4r + o8U.name];}for(var I8U=Math.max(1,o8U.startFrom);I8U < p8U.length;I8U++){b4r="Neg ";b4r+="V";b4r+="ol";z4r="Po";z4r+="s ";z4r+="Vol";f4r="obj";f4r+="e";f4r+="ct";a8U=p8U[I8U][C8U];l8U=p8U[I8U].Volume;if(a8U && typeof a8U == "object"){l8U=a8U.Volume;a8U=a8U[o8U.subField];}q0T.V3g(7);r8U=p8U[q0T.U3g(I8U,1)][C8U];J8U=p8U[I8U - 1].Volume;if(r8U && typeof r8U == f4r){J8U=r8U.Volume;r8U=r8U[o8U.subField];}if(!a8U)continue;if(!r8U)continue;if(o8U.type == z4r && l8U > J8U || o8U.type == b4r && l8U < J8U){q0T.B3g(13);f8U*=q0T.U3g(r8U,a8U);}p8U[I8U]["Index " + o8U.name]=f8U;}K8U.Studies.MA(o8U.inputs[v4r],o8U.days,"Index " + o8U.name,+"0","MA",u8U,o8U);};K8U.Studies.studyLibrary=K8U.extend(K8U.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:K8U.Studies.calculateVolumeIndex,inputs:{Period:255,Field:o4r,"Moving Average Type":"ma"},outputs:{Index:k4r,MA:O4r}},"On Bal Vol":{name:"On Balance Volume",calculateFN:K8U.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:K8U.Studies.calculateVolumeIndex,inputs:{Period:"255" >> 155044352,Field:"field","Moving Average Type":"ma"},outputs:{Index:x4r,MA:D4r}},"Price Vol":{name:"Price Volume Trend",calculateFN:K8U.Studies.calculatePriceVolumeTrend,inputs:{Field:P4r}},"Trade Vol":{name:T4r,calculateFN:K8U.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(G8U,d8U){l4kk.a6T();if(K8U.Studies.calculateRateOfChange){K8U.Studies.calculateRateOfChange(G8U,d8U);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");K8U.Studies.calculateRateOfChange=function(e8U,V8U){};}},parameters:{init:{isVolume:! !{}}}},"vol undr":{name:Y4r,underlay:! !{},range:"0 to max",yAxis:{ground:! !1,initialMarginTop:"0" * 1,position:"none",zoom:0,heightFactor:0.25},seriesFN:K8U.Studies.createVolumeChart,calculateFN:K8U.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! !{},removeFN:function(Z8U,t8U){Z8U.layout.volumeUnderlay=!1;Z8U.changeOccurred("layout");},attributes:{panelName:{hidden:!""}}}});}};T2V=n8U=>{l4kk.a6T();var q4r,T8U,g4r;q4r="und";q4r+="e";q4r+="fi";q4r+="ned";T8U=typeof _CIQ !== q4r?_CIQ:n8U.CIQ;if(!T8U.Studies){g4r="vorte";g4r+="x feature ";g4r+="requires first activating studies feature.";console.error(g4r);}else {T8U.Studies.calculateVortex=function(g8U,H8U){var G0T=l4kk;var q8U,i8U,L8U,a4r,K4r,I4r,A8U,h8U,U8U,j8U,z8U,U4r;q8U=H8U.chart.scrubbed;i8U=H8U.days;if(q8U.length < i8U + 1){H8U.error=! !{};return;}L8U={tr:0,vmPlus:0,vmMinus:0};if(H8U.startFrom > 1){a4r="_";a4r+="tota";a4r+="l";a4r+="s ";L8U=T8U.clone(q8U[H8U.startFrom - +"1"][a4r + H8U.name]);}for(var N8U=Math.max(H8U.startFrom,1);N8U < q8U.length;N8U++){K4r="_VMMinus";K4r+=" ";I4r="_VM";I4r+="Plus";I4r+=" ";A8U=q8U[N8U];G0T.V3g(7);h8U=q8U[G0T.U3g(N8U,1)];U8U=Math.abs(A8U.High - h8U.Low);j8U=Math.abs(A8U.Low - h8U.High);z8U=Math.max(A8U.High,h8U.Close) - Math.min(A8U.Low,h8U.Close);L8U.tr+=z8U;L8U.vmPlus+=U8U;L8U.vmMinus+=j8U;if(N8U > i8U){U4r="_True Ran";U4r+="ge";U4r+=" ";G0T.V3g(7);L8U.tr-=q8U[G0T.w3g(N8U,i8U)][U4r + H8U.name];G0T.V3g(7);L8U.vmPlus-=q8U[G0T.U3g(N8U,i8U)]["_VMPlus " + H8U.name];G0T.V3g(7);L8U.vmMinus-=q8U[G0T.w3g(N8U,i8U)]["_VMMinus " + H8U.name];}A8U["_True Range " + H8U.name]=z8U;A8U[I4r + H8U.name]=U8U;A8U[K4r + H8U.name]=j8U;if(N8U >= i8U){A8U["+VI " + H8U.name]=L8U.vmPlus / L8U.tr;A8U["-VI " + H8U.name]=L8U.vmMinus / L8U.tr;}A8U["_totals " + H8U.name]=T8U.clone(L8U);}};T8U.Studies.studyLibrary=T8U.extend(T8U.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:T8U.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};n2V=X8U=>{var R8U,W4r,h4r;R8U=typeof _CIQ !== "undefined"?_CIQ:X8U.CIQ;if(!R8U.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {W4r="#5";W4r+="f7cb8";h4r="#ab61";h4r+="1f";R8U.Studies.calculateMFI=function(x1U,W8U){var D1U,m1U,F1U,b1U,s1U,K1U,S4r;D1U=W8U.chart.scrubbed;F1U=0;b1U=W8U.inputs["Scale Factor"];if(!b1U){b1U=W8U.study.inputs["Scale Factor"];}s1U=Math.pow(10,Number(b1U));if(W8U.startFrom > 1){F1U=D1U[W8U.startFrom - 1]["_high " + W8U.name];}for(K1U=W8U.startFrom;K1U < D1U.length;K1U++){if(!D1U[K1U])continue;if(D1U[K1U].Volume){S4r="_";S4r+="h";S4r+="ist";D1U[K1U][W8U.name + S4r]=m1U=s1U * (D1U[K1U].High - D1U[K1U].Low) / D1U[K1U].Volume;D1U[K1U]["_high " + W8U.name]=F1U=Math.max(F1U,m1U);}}W8U.outputMap={};W8U.outputMap[W8U.name + "_hist"]="";};R8U.Studies.displayMFI=function(O1U,Q1U,B1U){var J4r,M1U,k1U,v1U,w1U,S1U,P1U,Y1U,o1U,p1U,u4r,y1U,E1U;J4r="s";J4r+="tx_histog";J4r+="r";J4r+="am";M1U=O1U.panels[Q1U.panel];k1U=Q1U.getContext(O1U);l4kk.t6T();v1U=Q1U.getYAxis(O1U);w1U=v1U.flipped?v1U.top:v1U.bottom;S1U=O1U.layout.candleWidth - 2;if(S1U < 2){S1U=+"1";}P1U=R8U.Studies.determineColor(Q1U.outputs.Green);Y1U=R8U.Studies.determineColor(Q1U.outputs.Fade);o1U=R8U.Studies.determineColor(Q1U.outputs.Fake);p1U=R8U.Studies.determineColor(Q1U.outputs.Squat);O1U.canvasColor(J4r);if(!Q1U.underlay){k1U.globalAlpha=1;}k1U.fillStyle="#CCCCCC";O1U.startClip(Q1U.panel);if(!Q1U.highlight && O1U.highlightedDraggable){k1U.globalAlpha*=0.3;}for(var c1U="0" & 2147483647;c1U < B1U.length;c1U++){u4r="_";u4r+="h";u4r+="is";u4r+="t";y1U=B1U[c1U];l4kk.V3g(7);E1U=B1U[l4kk.U3g(c1U,1)];if(!E1U){E1U=O1U.getPreviousBar(O1U.chart,Q1U.name + "_hist",c1U);}if(!y1U)continue;if(!E1U);else if(E1U[Q1U.name + u4r] < y1U[Q1U.name + "_hist"]){if(E1U.Volume < y1U.Volume){k1U.fillStyle=P1U;}else if(E1U.Volume > y1U.Volume){k1U.fillStyle=o1U;}}else if(E1U[Q1U.name + "_hist"] > y1U[Q1U.name + "_hist"]){if(E1U.Volume < y1U.Volume){k1U.fillStyle=p1U;}else if(E1U.Volume > y1U.Volume){k1U.fillStyle=Y1U;}}if(y1U.candleWidth){S1U=Math.floor(Math.max(+"1",y1U.candleWidth - 2));}k1U.fillRect(Math.floor(O1U.pixelFromBar(c1U,M1U.chart) - S1U / 2),Math.floor(w1U),Math.floor(S1U),Math.floor(O1U.pixelFromPrice(y1U[Q1U.name + "_hist"],M1U,v1U) - w1U));}O1U.endClip();};R8U.Studies.studyLibrary=R8U.extend(R8U.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:R8U.Studies.displayMFI,calculateFN:R8U.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:h4r,Fake:W4r,Squat:"#ffd0cf"}}});}};q2V={CIQ:p34,SplinePlotter:H2V,timezoneJS:L2V,$$:A2V,$$$:N2V};export {I34 as aggregations};export {a34 as drawingAdvanced};export {r34 as equationsAdvanced};export {C34 as highPerformanceMarkers};export {f34 as renderersAdvanced};export {l34 as accumulationDistribution};export {J34 as adx};export {u34 as alligator};export {G34 as aroon};export {d34 as atr};export {e34 as awesomeOscillator};export {V34 as balanceOfPower};export {Z34 as bollinger};export {t34 as cci};export {T34 as centerOfGravity};export {n34 as chaikin};export {H34 as chande};export {L34 as choppiness};export {A34 as comparisonStudies};export {N34 as coppock};export {q34 as darvasBox};export {i34 as detrended};export {h34 as disparity};export {U34 as easeOfMovement};export {j34 as ehlerFisher};export {z34 as elder};export {g34 as fractalChaos};export {R34 as highLowStudies};export {X34 as ichimoku};export {W34 as intradayMomentum};export {D2V as keltner};export {K2V as klinger};export {F2V as linearRegression};export {b2V as macd};export {m2V as massIndex};export {s2V as moneyFlow};export {x2V as movingAverages};export {Q2V as parabolicSAR};export {O2V as pivotPoints};export {y2V as prettyGoodOscillator};export {E2V as priceMomentumOscillator};export {k2V as priceVolumeOscillator};export {c2V as primeNumber};export {S2V as pring};export {v2V as projectedVolume};export {B2V as psychologicalLine};export {M2V as qstick};export {w2V as rainbow};export {P2V as randomWalk};export {Y2V as relativeVigor};export {o2V as rsi};export {p2V as schaffTrendCycle};export {I2V as shinohara};export {a2V as stochastics};export {r2V as supertrend};export {C2V as swingIndex};export {f2V as trendIntensity};export {l2V as trix};export {J2V as twiggsMoneyFlow};export {u2V as typicalPrice};export {G2V as ulcerIndex};export {d2V as ultimateOscillator};export {e2V as valuationLines};export {V2V as volatilityIndex};export {Z2V as volumeProfile};export {t2V as volumeStudies};export {T2V as vortex};export {n2V as williamsMFI};export {p34 as CIQ, H2V as SplinePlotter, L2V as timezoneJS, A2V as $$, N2V as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(q2V.CIQ || p34).activateImports(I34,a34,r34,C34,f34,l34,J34,u34,G34,d34,e34,V34,Z34,t34,T34,n34,H34,L34,A34,N34,q34,i34,h34,U34,j34,z34,g34,R34,X34,W34,D2V,K2V,F2V,b2V,m2V,s2V,x2V,Q2V,O2V,y2V,E2V,k2V,c2V,S2V,v2V,B2V,M2V,w2V,P2V,Y2V,o2V,p2V,I2V,a2V,r2V,C2V,f2V,l2V,J2V,u2V,G2V,d2V,e2V,V2V,Z2V,t2V,T2V,n2V,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
